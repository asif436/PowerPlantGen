var Gh=Object.defineProperty,Zh=Object.defineProperties,Qh=Object.getOwnPropertyDescriptors,Xl=Object.getOwnPropertySymbols,Jh=Object.prototype.hasOwnProperty,tc=Object.prototype.propertyIsEnumerable,Kl=(jt,Dt,ie)=>Dt in jt?Gh(jt,Dt,{enumerable:!0,configurable:!0,writable:!0,value:ie}):jt[Dt]=ie,Gs=(jt,Dt)=>{for(var ie in Dt||(Dt={}))Jh.call(Dt,ie)&&Kl(jt,ie,Dt[ie]);if(Xl)for(var ie of Xl(Dt))tc.call(Dt,ie)&&Kl(jt,ie,Dt[ie]);return jt},Jo=(jt,Dt)=>Zh(jt,Qh(Dt));!function(jt,Dt){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Dt():"function"==typeof define&&define.amd?define(Dt):(jt="undefined"!=typeof globalThis?globalThis:jt||self).Chart=Dt()}(this,function(){"use strict";const Dt="undefined"==typeof window?function(s){return s()}:window.requestAnimationFrame;function ie(s,t,i){const o=i||(u=>Array.prototype.slice.call(u));let l=!1,c=[];return function(...u){c=o(u),l||(l=!0,Dt.call(window,()=>{l=!1,s.apply(t,c)}))}}function xs(s,t){let i;return function(...o){return t?(clearTimeout(i),i=setTimeout(s,t,o)):s.apply(this,o),t}}const $t=s=>"start"===s?"left":"end"===s?"right":"center",qt=(s,t,i)=>"start"===s?t:"end"===s?i:(t+i)/2,ke=(s,t,i,o)=>s===(o?"left":"right")?i:"center"===s?(t+i)/2:t;var Jt=new class _s{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,i,o,l){const u=i.duration;i.listeners[l].forEach(g=>g({chart:t,initial:i.initial,numSteps:u,currentStep:Math.min(o-i.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=Dt.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let i=0;this._charts.forEach((o,l)=>{if(!o.running||!o.items.length)return;const c=o.items;let m,u=c.length-1,g=!1;for(;u>=0;--u)m=c[u],m._active?(m._total>o.duration&&(o.duration=m._total),m.tick(t),g=!0):(c[u]=c[c.length-1],c.pop());g&&(l.draw(),this._notify(l,o,t,"progress")),c.length||(o.running=!1,this._notify(l,o,t,"complete"),o.initial=!1),i+=c.length}),this._lastDate=t,0===i&&(this._running=!1)}_getAnims(t){const i=this._charts;let o=i.get(t);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(t,o)),o}listen(t,i,o){this._getAnims(t).listeners[i].push(o)}add(t,i){!i||!i.length||this._getAnims(t).items.push(...i)}has(t){return this._getAnims(t).items.length>0}start(t){const i=this._charts.get(t);!i||(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((o,l)=>Math.max(o,l._duration),0),this._refresh())}running(t){if(!this._running)return!1;const i=this._charts.get(t);return!(!i||!i.running||!i.items.length)}stop(t){const i=this._charts.get(t);if(!i||!i.items.length)return;const o=i.items;let l=o.length-1;for(;l>=0;--l)o[l].cancel();i.items=[],this._notify(t,i,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};function je(s){return s+.5|0}const se=(s,t,i)=>Math.max(Math.min(s,i),t);function fe(s){return se(je(2.55*s),0,255)}function $e(s){return se(je(255*s),0,255)}function Yt(s){return se(je(s/2.55)/100,0,1)}function Zs(s){return se(je(100*s),0,100)}const _e={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},jn=[..."0123456789ABCDEF"],Qs=s=>jn[15&s],Ar=s=>jn[(240&s)>>4]+jn[15&s],Js=s=>(240&s)>>4==(15&s);const Yn=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function tn(s,t,i){const o=t*Math.min(i,1-i),l=(c,u=(c+s/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);return[l(0),l(8),l(4)]}function ea(s,t,i){const o=(l,c=(l+s/60)%6)=>i-i*t*Math.max(Math.min(c,4-c,1),0);return[o(5),o(3),o(1)]}function Rr(s,t,i){const o=tn(s,1,.5);let l;for(t+i>1&&(l=1/(t+i),t*=l,i*=l),l=0;l<3;l++)o[l]*=1-t-i,o[l]+=t;return o}function en(s){const i=s.r/255,o=s.g/255,l=s.b/255,c=Math.max(i,o,l),u=Math.min(i,o,l),g=(c+u)/2;let m,_,M;return c!==u&&(M=c-u,_=g>.5?M/(2-c-u):M/(c+u),m=function ia(s,t,i,o,l){return s===l?(t-i)/o+(t<i?6:0):t===l?(i-s)/o+2:(s-t)/o+4}(i,o,l,M,c),m=60*m+.5),[0|m,_||0,g]}function Xi(s,t,i,o){return(Array.isArray(t)?s(t[0],t[1],t[2]):s(t,i,o)).map($e)}function Un(s,t,i){return Xi(tn,s,t,i)}function Li(s){return(s%360+360)%360}const oa={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ys={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ki;const nn=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,ft=s=>s<=.0031308?12.92*s:1.055*Math.pow(s,1/2.4)-.055,pt=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function Ot(s,t,i){if(s){let o=en(s);o[t]=Math.max(0,Math.min(o[t]+o[t]*i,0===t?360:1)),o=Un(o),s.r=o[0],s.g=o[1],s.b=o[2]}}function re(s,t){return s&&Object.assign(t||{},s)}function at(s){var t={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(t={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(t.a=$e(s[3]))):(t=re(s,{r:0,g:0,b:0,a:1})).a=$e(t.a),t}function la(s){return"r"===s.charAt(0)?function Ie(s){const t=nn.exec(s);let o,l,c,i=255;if(t){if(t[7]!==o){const u=+t[7];i=t[8]?fe(u):se(255*u,0,255)}return o=+t[1],l=+t[3],c=+t[5],o=255&(t[2]?fe(o):se(o,0,255)),l=255&(t[4]?fe(l):se(l,0,255)),c=255&(t[6]?fe(c):se(c,0,255)),{r:o,g:l,b:c,a:i}}}(s):function sn(s){const t=Yn.exec(s);let o,i=255;if(!t)return;t[5]!==o&&(i=t[6]?fe(+t[5]):$e(+t[5]));const l=Li(+t[2]),c=+t[3]/100,u=+t[4]/100;return o="hwb"===t[1]?function Er(s,t,i){return Xi(Rr,s,t,i)}(l,c,u):"hsv"===t[1]?function Xn(s,t,i){return Xi(ea,s,t,i)}(l,c,u):Un(l,c,u),{r:o[0],g:o[1],b:o[2],a:i}}(s)}class qi{constructor(t){if(t instanceof qi)return t;const i=typeof t;let o;"object"===i?o=at(t):"string"===i&&(o=function Tr(s){var i,t=s.length;return"#"===s[0]&&(4===t||5===t?i={r:255&17*_e[s[1]],g:255&17*_e[s[2]],b:255&17*_e[s[3]],a:5===t?17*_e[s[4]]:255}:(7===t||9===t)&&(i={r:_e[s[1]]<<4|_e[s[2]],g:_e[s[3]]<<4|_e[s[4]],b:_e[s[5]]<<4|_e[s[6]],a:9===t?_e[s[7]]<<4|_e[s[8]]:255})),i}(t)||function Kn(s){Ki||(Ki=function aa(){const s={},t=Object.keys(ys),i=Object.keys(oa);let o,l,c,u,g;for(o=0;o<t.length;o++){for(u=g=t[o],l=0;l<i.length;l++)c=i[l],g=g.replace(c,oa[c]);c=parseInt(ys[u],16),s[g]=[c>>16&255,c>>8&255,255&c]}return s}(),Ki.transparent=[0,0,0,0]);const t=Ki[s.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||la(t)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var t=re(this._rgb);return t&&(t.a=Yt(t.a)),t}set rgb(t){this._rgb=at(t)}rgbString(){return this._valid?function ra(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${Yt(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}(this._rgb):void 0}hexString(){return this._valid?function $n(s){var t=(s=>Js(s.r)&&Js(s.g)&&Js(s.b)&&Js(s.a))(s)?Qs:Ar;return s?"#"+t(s.r)+t(s.g)+t(s.b)+((s,t)=>s<255?t(s):"")(s.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function na(s){if(!s)return;const t=en(s),i=t[0],o=Zs(t[1]),l=Zs(t[2]);return s.a<255?`hsla(${i}, ${o}%, ${l}%, ${Yt(s.a)})`:`hsl(${i}, ${o}%, ${l}%)`}(this._rgb):void 0}mix(t,i){if(t){const o=this.rgb,l=t.rgb;let c;const u=i===c?.5:i,g=2*u-1,m=o.a-l.a,_=((g*m==-1?g:(g+m)/(1+g*m))+1)/2;c=1-_,o.r=255&_*o.r+c*l.r+.5,o.g=255&_*o.g+c*l.g+.5,o.b=255&_*o.b+c*l.b+.5,o.a=u*o.a+(1-u)*l.a,this.rgb=o}return this}interpolate(t,i){return t&&(this._rgb=function dt(s,t,i){const o=pt(Yt(s.r)),l=pt(Yt(s.g)),c=pt(Yt(s.b));return{r:$e(ft(o+i*(pt(Yt(t.r))-o))),g:$e(ft(l+i*(pt(Yt(t.g))-l))),b:$e(ft(c+i*(pt(Yt(t.b))-c))),a:s.a+i*(t.a-s.a)}}(this._rgb,t._rgb,i)),this}clone(){return new qi(this.rgb)}alpha(t){return this._rgb.a=$e(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,i=je(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=i,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ot(this._rgb,2,t),this}darken(t){return Ot(this._rgb,2,-t),this}saturate(t){return Ot(this._rgb,1,t),this}desaturate(t){return Ot(this._rgb,1,-t),this}rotate(t){return function sa(s,t){var i=en(s);i[0]=Li(i[0]+t),i=Un(i),s.r=i[0],s.g=i[1],s.b=i[2]}(this._rgb,t),this}}function wt(s){return new qi(s)}function mt(s){if(s&&"object"==typeof s){const t=s.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Ri(s){return mt(s)?s:wt(s)}function ui(s){return mt(s)?s:wt(s).saturate(.5).darken(.1).hexString()}function Se(){}const qn=function(){let s=0;return function(){return s++}}();function lt(s){return null==s}function bt(s){if(Array.isArray&&Array.isArray(s))return!0;const t=Object.prototype.toString.call(s);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function ht(s){return null!==s&&"[object Object]"===Object.prototype.toString.call(s)}const Rt=s=>("number"==typeof s||s instanceof Number)&&isFinite(+s);function Wt(s,t){return Rt(s)?s:t}function nt(s,t){return void 0===s?t:s}const le=(s,t)=>"string"==typeof s&&s.endsWith("%")?parseFloat(s)/100:s/t,Pe=(s,t)=>"string"==typeof s&&s.endsWith("%")?parseFloat(s)/100*t:+s;function Mt(s,t,i){if(s&&"function"==typeof s.call)return s.apply(i,t)}function _t(s,t,i,o){let l,c,u;if(bt(s))if(c=s.length,o)for(l=c-1;l>=0;l--)t.call(i,s[l],l);else for(l=0;l<c;l++)t.call(i,s[l],l);else if(ht(s))for(u=Object.keys(s),c=u.length,l=0;l<c;l++)t.call(i,s[u[l]],u[l])}function De(s,t){let i,o,l,c;if(!s||!t||s.length!==t.length)return!1;for(i=0,o=s.length;i<o;++i)if(l=s[i],c=t[i],l.datasetIndex!==c.datasetIndex||l.index!==c.index)return!1;return!0}function Ei(s){if(bt(s))return s.map(Ei);if(ht(s)){const t=Object.create(null),i=Object.keys(s),o=i.length;let l=0;for(;l<o;++l)t[i[l]]=Ei(s[i[l]]);return t}return s}function Gi(s){return-1===["__proto__","prototype","constructor"].indexOf(s)}function on(s,t,i,o){if(!Gi(s))return;const l=t[s],c=i[s];ht(l)&&ht(c)?rt(l,c,o):t[s]=Ei(c)}function rt(s,t,i){const o=bt(t)?t:[t],l=o.length;if(!ht(s))return s;const c=(i=i||{}).merger||on;for(let u=0;u<l;++u){if(!ht(t=o[u]))continue;const g=Object.keys(t);for(let m=0,_=g.length;m<_;++m)c(g[m],s,t,i)}return s}function Ye(s,t){return rt(s,t,{merger:Ce})}function Ce(s,t,i){if(!Gi(s))return;const o=t[s],l=i[s];ht(o)&&ht(l)?Ye(o,l):Object.prototype.hasOwnProperty.call(t,s)||(t[s]=Ei(l))}function Gn(s,t){const i=s.indexOf(".",t);return-1===i?s.length:i}function Oe(s,t){if(""===t)return s;let i=0,o=Gn(t,i);for(;s&&o>i;)s=s[t.slice(i,o)],i=o+1,o=Gn(t,i);return s}function Zi(s){return s.charAt(0).toUpperCase()+s.slice(1)}const ct=s=>void 0!==s,ut=s=>"function"==typeof s,an=(s,t)=>{if(s.size!==t.size)return!1;for(const i of s)if(!t.has(i))return!1;return!0};function Qi(s){return"mouseup"===s.type||"click"===s.type||"contextmenu"===s.type}const fi=Object.create(null),At=Object.create(null);function Fe(s,t){if(!t)return s;const i=t.split(".");for(let o=0,l=i.length;o<l;++o){const c=i[o];s=s[c]||(s[c]=Object.create(null))}return s}function vs(s,t,i){return"string"==typeof t?rt(Fe(s,t),i):rt(Fe(s,""),t)}var ot=new class ge{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>ui(o.backgroundColor),this.hoverBorderColor=(i,o)=>ui(o.borderColor),this.hoverColor=(i,o)=>ui(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,i){return vs(this,t,i)}get(t){return Fe(this,t)}describe(t,i){return vs(At,t,i)}override(t,i){return vs(fi,t,i)}route(t,i,o,l){const c=Fe(this,t),u=Fe(this,o),g="_"+i;Object.defineProperties(c,{[g]:{value:c[i],writable:!0},[i]:{enumerable:!0,get(){const m=this[g],_=u[l];return ht(m)?Object.assign({},_,m):nt(m,_)},set(m){this[g]=m}}})}}({_scriptable:s=>!s.startsWith("on"),_indexable:s=>"events"!==s,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Ji(s,t,i){i=i||(u=>s[u]<t);let c,o=s.length-1,l=0;for(;o-l>1;)c=l+o>>1,i(c)?l=c:o=c;return{lo:l,hi:o}}const Ae=(s,t,i)=>Ji(s,i,o=>s[o][t]<i),Ii=(s,t,i)=>Ji(s,i,o=>s[o][t]>=i);function Fi(s,t,i){let o=0,l=s.length;for(;o<l&&s[o]<t;)o++;for(;l>o&&s[l-1]>i;)l--;return o>0||l<s.length?s.slice(o,l):s}const Zn=["push","pop","shift","splice","unshift"];function rn(s,t){s._chartjs?s._chartjs.listeners.push(t):(Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Zn.forEach(i=>{const o="_onData"+Zi(i),l=s[i];Object.defineProperty(s,i,{configurable:!0,enumerable:!1,value(...c){const u=l.apply(this,c);return s._chartjs.listeners.forEach(g=>{"function"==typeof g[o]&&g[o](...c)}),u}})}))}function he(s,t){const i=s._chartjs;if(!i)return;const o=i.listeners,l=o.indexOf(t);-1!==l&&o.splice(l,1),!(o.length>0)&&(Zn.forEach(c=>{delete s[c]}),delete s._chartjs)}function ts(s){const t=new Set;let i,o;for(i=0,o=s.length;i<o;++i)t.add(s[i]);return t.size===o?s:Array.from(t)}const St=Math.PI,yt=2*St,Ms=yt+St,es=Number.POSITIVE_INFINITY,ne=St/180,kt=St/2,Lt=St/4,ln=2*St/3,Ft=Math.log10,pe=Math.sign;function is(s){const t=Math.round(s);s=zi(s,t,s/1e3)?t:s;const i=Math.pow(10,Math.floor(Ft(s))),o=s/i;return(o<=1?1:o<=2?2:o<=5?5:10)*i}function ws(s){const t=[],i=Math.sqrt(s);let o;for(o=1;o<i;o++)s%o==0&&(t.push(o),t.push(s/o));return i===(0|i)&&t.push(i),t.sort((l,c)=>l-c).pop(),t}function Ue(s){return!isNaN(parseFloat(s))&&isFinite(s)}function zi(s,t,i){return Math.abs(s-t)<i}function ua(s,t){const i=Math.round(s);return i-t<=s&&i+t>=s}function Xe(s,t,i){let o,l,c;for(o=0,l=s.length;o<l;o++)c=s[o][i],isNaN(c)||(t.min=Math.min(t.min,c),t.max=Math.max(t.max,c))}function Kt(s){return s*(St/180)}function ss(s){return s*(180/St)}function hn(s){if(!Rt(s))return;let t=1,i=0;for(;Math.round(s*t)/t!==s;)t*=10,i++;return i}function ks(s,t){const i=t.x-s.x,o=t.y-s.y,l=Math.sqrt(i*i+o*o);let c=Math.atan2(o,i);return c<-.5*St&&(c+=yt),{angle:c,distance:l}}function Ss(s,t){return Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))}function cn(s,t){return(s-t+Ms)%yt-St}function oe(s){return(s%yt+yt)%yt}function ze(s,t,i,o){const l=oe(s),c=oe(t),u=oe(i),g=oe(c-l),m=oe(u-l),_=oe(l-c),M=oe(l-u);return l===c||l===u||o&&c===u||g>m&&_<M}function Ut(s,t,i){return Math.max(t,Math.min(i,s))}function Ke(s){return Ut(s,-32768,32767)}function ye(s,t,i,o=1e-6){return s>=Math.min(t,i)-o&&s<=Math.max(t,i)+o}function Bi(){return"undefined"!=typeof window&&"undefined"!=typeof document}function qe(s){let t=s.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function gi(s,t,i){let o;return"string"==typeof s?(o=parseInt(s,10),-1!==s.indexOf("%")&&(o=o/100*t.parentNode[i])):o=s,o}const pi=s=>window.getComputedStyle(s,null);function Qn(s,t){return pi(s).getPropertyValue(t)}const fa=["top","right","bottom","left"];function ce(s,t,i){const o={};i=i?"-"+i:"";for(let l=0;l<4;l++){const c=fa[l];o[c]=parseFloat(s[t+"-"+c+i])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}function Te(s,t){if("native"in s)return s;const{canvas:i,currentDevicePixelRatio:o}=t,l=pi(i),c="border-box"===l.boxSizing,u=ce(l,"padding"),g=ce(l,"border","width"),{x:m,y:_,box:M}=function ns(s,t){const i=s.touches,o=i&&i.length?i[0]:s,{offsetX:l,offsetY:c}=o;let g,m,u=!1;if(((s,t,i)=>(s>0||t>0)&&(!i||!i.shadowRoot))(l,c,s.target))g=l,m=c;else{const _=t.getBoundingClientRect();g=o.clientX-_.left,m=o.clientY-_.top,u=!0}return{x:g,y:m,box:u}}(s,i),k=u.left+(M&&g.left),C=u.top+(M&&g.top);let{width:A,height:L}=t;return c&&(A-=u.width+g.width,L-=u.height+g.height),{x:Math.round((m-k)/A*i.width/o),y:Math.round((_-C)/L*i.height/o)}}const Ps=s=>Math.round(10*s)/10;function ga(s,t,i,o){const l=pi(s),c=ce(l,"margin"),u=gi(l.maxWidth,s,"clientWidth")||es,g=gi(l.maxHeight,s,"clientHeight")||es,m=function Vi(s,t,i){let o,l;if(void 0===t||void 0===i){const c=qe(s);if(c){const u=c.getBoundingClientRect(),g=pi(c),m=ce(g,"border","width"),_=ce(g,"padding");t=u.width-_.width-m.width,i=u.height-_.height-m.height,o=gi(g.maxWidth,c,"clientWidth"),l=gi(g.maxHeight,c,"clientHeight")}else t=s.clientWidth,i=s.clientHeight}return{width:t,height:i,maxWidth:o||es,maxHeight:l||es}}(s,t,i);let{width:_,height:M}=m;if("content-box"===l.boxSizing){const k=ce(l,"border","width"),C=ce(l,"padding");_-=C.width+k.width,M-=C.height+k.height}return _=Math.max(0,_-c.width),M=Math.max(0,o?Math.floor(_/o):M-c.height),_=Ps(Math.min(_,u,m.maxWidth)),M=Ps(Math.min(M,g,m.maxHeight)),_&&!M&&(M=Ps(_/2)),{width:_,height:M}}function Ds(s,t,i){const o=t||1,l=Math.floor(s.height*o),c=Math.floor(s.width*o);s.height=l/o,s.width=c/o;const u=s.canvas;return u.style&&(i||!u.style.height&&!u.style.width)&&(u.style.height=`${s.height}px`,u.style.width=`${s.width}px`),(s.currentDevicePixelRatio!==o||u.height!==l||u.width!==c)&&(s.currentDevicePixelRatio=o,u.height=l,u.width=c,s.ctx.setTransform(o,0,0,o,0,0),!0)}const Jn=function(){let s=!1;try{const t={get passive(){return s=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}return s}();function dn(s,t){const i=Qn(s,t),o=i&&i.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function pa(s){return!s||lt(s.size)||lt(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function Cs(s,t,i,o,l){let c=t[l];return c||(c=t[l]=s.measureText(l).width,i.push(l)),c>o&&(o=c),o}function un(s,t,i,o){let l=(o=o||{}).data=o.data||{},c=o.garbageCollect=o.garbageCollect||[];o.font!==t&&(l=o.data={},c=o.garbageCollect=[],o.font=t),s.save(),s.font=t;let u=0;const g=i.length;let m,_,M,k,C;for(m=0;m<g;m++)if(k=i[m],null!=k&&!0!==bt(k))u=Cs(s,l,c,u,k);else if(bt(k))for(_=0,M=k.length;_<M;_++)C=k[_],null!=C&&!bt(C)&&(u=Cs(s,l,c,u,C));s.restore();const A=c.length/2;if(A>i.length){for(m=0;m<A;m++)delete l[c[m]];c.splice(0,A)}return u}function Ge(s,t,i){const o=s.currentDevicePixelRatio,l=0!==i?Math.max(i/2,.5):0;return Math.round((t-l)*o)/o+l}function fn(s,t){(t=t||s.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,s.width,s.height),t.restore()}function os(s,t,i,o){let l,c,u,g,m;const _=t.pointStyle,M=t.rotation,k=t.radius;let C=(M||0)*ne;if(_&&"object"==typeof _&&(l=_.toString(),"[object HTMLImageElement]"===l||"[object HTMLCanvasElement]"===l))return s.save(),s.translate(i,o),s.rotate(C),s.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),void s.restore();if(!(isNaN(k)||k<=0)){switch(s.beginPath(),_){default:s.arc(i,o,k,0,yt),s.closePath();break;case"triangle":s.moveTo(i+Math.sin(C)*k,o-Math.cos(C)*k),C+=ln,s.lineTo(i+Math.sin(C)*k,o-Math.cos(C)*k),C+=ln,s.lineTo(i+Math.sin(C)*k,o-Math.cos(C)*k),s.closePath();break;case"rectRounded":m=.516*k,g=k-m,c=Math.cos(C+Lt)*g,u=Math.sin(C+Lt)*g,s.arc(i-c,o-u,m,C-St,C-kt),s.arc(i+u,o-c,m,C-kt,C),s.arc(i+c,o+u,m,C,C+kt),s.arc(i-u,o+c,m,C+kt,C+St),s.closePath();break;case"rect":if(!M){g=Math.SQRT1_2*k,s.rect(i-g,o-g,2*g,2*g);break}C+=Lt;case"rectRot":c=Math.cos(C)*k,u=Math.sin(C)*k,s.moveTo(i-c,o-u),s.lineTo(i+u,o-c),s.lineTo(i+c,o+u),s.lineTo(i-u,o+c),s.closePath();break;case"crossRot":C+=Lt;case"cross":c=Math.cos(C)*k,u=Math.sin(C)*k,s.moveTo(i-c,o-u),s.lineTo(i+c,o+u),s.moveTo(i+u,o-c),s.lineTo(i-u,o+c);break;case"star":c=Math.cos(C)*k,u=Math.sin(C)*k,s.moveTo(i-c,o-u),s.lineTo(i+c,o+u),s.moveTo(i+u,o-c),s.lineTo(i-u,o+c),C+=Lt,c=Math.cos(C)*k,u=Math.sin(C)*k,s.moveTo(i-c,o-u),s.lineTo(i+c,o+u),s.moveTo(i+u,o-c),s.lineTo(i-u,o+c);break;case"line":c=Math.cos(C)*k,u=Math.sin(C)*k,s.moveTo(i-c,o-u),s.lineTo(i+c,o+u);break;case"dash":s.moveTo(i,o),s.lineTo(i+Math.cos(C)*k,o+Math.sin(C)*k)}s.fill(),t.borderWidth>0&&s.stroke()}}function mi(s,t,i){return i=i||.5,!t||s&&s.x>t.left-i&&s.x<t.right+i&&s.y>t.top-i&&s.y<t.bottom+i}function Os(s,t){s.save(),s.beginPath(),s.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),s.clip()}function Be(s){s.restore()}function to(s,t,i,o,l){if(!t)return s.lineTo(i.x,i.y);if("middle"===l){const c=(t.x+i.x)/2;s.lineTo(c,t.y),s.lineTo(c,i.y)}else"after"===l!=!!o?s.lineTo(t.x,i.y):s.lineTo(i.x,t.y);s.lineTo(i.x,i.y)}function eo(s,t,i,o){if(!t)return s.lineTo(i.x,i.y);s.bezierCurveTo(o?t.cp1x:t.cp2x,o?t.cp1y:t.cp2y,o?i.cp2x:i.cp1x,o?i.cp2y:i.cp1y,i.x,i.y)}function Ze(s,t,i,o,l,c={}){const u=bt(t)?t:[t],g=c.strokeWidth>0&&""!==c.strokeColor;let m,_;for(s.save(),s.font=l.string,function gn(s,t){t.translation&&s.translate(t.translation[0],t.translation[1]),lt(t.rotation)||s.rotate(t.rotation),t.color&&(s.fillStyle=t.color),t.textAlign&&(s.textAlign=t.textAlign),t.textBaseline&&(s.textBaseline=t.textBaseline)}(s,c),m=0;m<u.length;++m)_=u[m],g&&(c.strokeColor&&(s.strokeStyle=c.strokeColor),lt(c.strokeWidth)||(s.lineWidth=c.strokeWidth),s.strokeText(_,i,o,c.maxWidth)),s.fillText(_,i,o,c.maxWidth),ma(s,i,o,_,c),o+=l.lineHeight;s.restore()}function ma(s,t,i,o,l){if(l.strikethrough||l.underline){const c=s.measureText(o),u=t-c.actualBoundingBoxLeft,g=t+c.actualBoundingBoxRight,m=i-c.actualBoundingBoxAscent,_=i+c.actualBoundingBoxDescent,M=l.strikethrough?(m+_)/2:_;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=l.decorationWidth||2,s.moveTo(u,M),s.lineTo(g,M),s.stroke()}}function Qe(s,t){const{x:i,y:o,w:l,h:c,radius:u}=t;s.arc(i+u.topLeft,o+u.topLeft,u.topLeft,-kt,St,!0),s.lineTo(i,o+c-u.bottomLeft),s.arc(i+u.bottomLeft,o+c-u.bottomLeft,u.bottomLeft,St,kt,!0),s.lineTo(i+l-u.bottomRight,o+c),s.arc(i+l-u.bottomRight,o+c-u.bottomRight,u.bottomRight,kt,0,!0),s.lineTo(i+l,o+u.topRight),s.arc(i+l-u.topRight,o+u.topRight,u.topRight,0,-kt,!0),s.lineTo(i+u.topLeft,o)}function As(s,t=[""],i=s,o,l=(()=>s[0])){ct(o)||(o=Wi("_fallback",s));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:i,_fallback:o,_getTarget:l,override:u=>As([u,...s],t,i,o)};return new Proxy(c,{deleteProperty:(u,g)=>(delete u[g],delete u._keys,delete s[0][g],!0),get:(u,g)=>io(u,g,()=>function Xt(s,t,i,o){let l;for(const c of t)if(l=Wi(_i(c,s),i),ct(l))return pn(s,l)?Ts(i,o,s,l):l}(g,t,s,u)),getOwnPropertyDescriptor:(u,g)=>Reflect.getOwnPropertyDescriptor(u._scopes[0],g),getPrototypeOf:()=>Reflect.getPrototypeOf(s[0]),has:(u,g)=>so(u).includes(g),ownKeys:u=>so(u),set(u,g,m){const _=u._storage||(u._storage=l());return u[g]=_[g]=m,delete u._keys,!0}})}function bi(s,t,i,o){const l={_cacheable:!1,_proxy:s,_context:t,_subProxy:i,_stack:new Set,_descriptors:xi(s,o),setContext:c=>bi(s,c,i,o),override:c=>bi(s.override(c),t,i,o)};return new Proxy(l,{deleteProperty:(c,u)=>(delete c[u],delete s[u],!0),get:(c,u,g)=>io(c,u,()=>function ba(s,t,i){const{_proxy:o,_context:l,_subProxy:c,_descriptors:u}=s;let g=o[t];return ut(g)&&u.isScriptable(t)&&(g=function as(s,t,i,o){const{_proxy:l,_context:c,_subProxy:u,_stack:g}=i;if(g.has(s))throw new Error("Recursion detected: "+Array.from(g).join("->")+"->"+s);return g.add(s),t=t(c,u||o),g.delete(s),pn(s,t)&&(t=Ts(l._scopes,l,s,t)),t}(t,g,s,i)),bt(g)&&g.length&&(g=function Fr(s,t,i,o){const{_proxy:l,_context:c,_subProxy:u,_descriptors:g}=i;if(ct(c.index)&&o(s))t=t[c.index%t.length];else if(ht(t[0])){const m=t,_=l._scopes.filter(M=>M!==m);t=[];for(const M of m){const k=Ts(_,l,s,M);t.push(bi(k,c,u&&u[s],g))}}return t}(t,g,s,u.isIndexable)),pn(t,g)&&(g=bi(g,l,c&&c[t],u)),g}(c,u,g)),getOwnPropertyDescriptor:(c,u)=>c._descriptors.allKeys?Reflect.has(s,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,u),getPrototypeOf:()=>Reflect.getPrototypeOf(s),has:(c,u)=>Reflect.has(s,u),ownKeys:()=>Reflect.ownKeys(s),set:(c,u,g)=>(s[u]=g,delete c[u],!0)})}function xi(s,t={scriptable:!0,indexable:!0}){const{_scriptable:i=t.scriptable,_indexable:o=t.indexable,_allKeys:l=t.allKeys}=s;return{allKeys:l,scriptable:i,indexable:o,isScriptable:ut(i)?i:()=>i,isIndexable:ut(o)?o:()=>o}}const _i=(s,t)=>s?s+Zi(t):t,pn=(s,t)=>ht(t)&&"adapters"!==s&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function io(s,t,i){if(Object.prototype.hasOwnProperty.call(s,t))return s[t];const o=i();return s[t]=o,o}function xa(s,t,i){return ut(s)?s(t,i):s}const _a=(s,t)=>!0===s?t:"string"==typeof s?Oe(t,s):void 0;function mn(s,t,i,o,l){for(const c of t){const u=_a(i,c);if(u){s.add(u);const g=xa(u._fallback,i,l);if(ct(g)&&g!==i&&g!==o)return g}else if(!1===u&&ct(o)&&i!==o)return null}return!1}function Ts(s,t,i,o){const l=t._rootScopes,c=xa(t._fallback,i,o),u=[...s,...l],g=new Set;g.add(o);let m=Je(g,u,i,c||i,o);return!(null===m||ct(c)&&c!==i&&(m=Je(g,u,c,m,o),null===m))&&As(Array.from(g),[""],l,c,()=>function te(s,t,i){const o=s._getTarget();t in o||(o[t]={});const l=o[t];return bt(l)&&ht(i)?i:l}(t,i,o))}function Je(s,t,i,o,l){for(;i;)i=mn(s,t,i,o,l);return i}function Wi(s,t){for(const i of t){if(!i)continue;const o=i[s];if(ct(o))return o}}function so(s){let t=s._keys;return t||(t=s._keys=function ti(s){const t=new Set;for(const i of s)for(const o of Object.keys(i).filter(l=>!l.startsWith("_")))t.add(o);return Array.from(t)}(s._scopes)),t}function ei(s,t,i,o){const{iScale:l}=s,{key:c="r"}=this._parsing,u=new Array(o);let g,m,_,M;for(g=0,m=o;g<m;++g)_=g+i,M=t[_],u[g]={r:l.parse(Oe(M,c),_)};return u}const no=Number.EPSILON||1e-14,yi=(s,t)=>t<s.length&&!s[t].skip&&s[t],oo=s=>"x"===s?"y":"x";function ao(s,t,i,o){const l=s.skip?t:s,c=t,u=i.skip?t:i,g=Ss(c,l),m=Ss(u,c);let _=g/(g+m),M=m/(g+m);_=isNaN(_)?0:_,M=isNaN(M)?0:M;const k=o*_,C=o*M;return{previous:{x:c.x-k*(u.x-l.x),y:c.y-k*(u.y-l.y)},next:{x:c.x+C*(u.x-l.x),y:c.y+C*(u.y-l.y)}}}function ho(s,t="x"){const i=oo(t),o=s.length,l=Array(o).fill(0),c=Array(o);let u,g,m,_=yi(s,0);for(u=0;u<o;++u)if(g=m,m=_,_=yi(s,u+1),m){if(_){const M=_[t]-m[t];l[u]=0!==M?(_[i]-m[i])/M:0}c[u]=g?_?pe(l[u-1])!==pe(l[u])?0:(l[u-1]+l[u])/2:l[u-1]:l[u]}(function ro(s,t,i){const o=s.length;let l,c,u,g,m,_=yi(s,0);for(let M=0;M<o-1;++M)if(m=_,_=yi(s,M+1),m&&_){if(zi(t[M],0,no)){i[M]=i[M+1]=0;continue}l=i[M]/t[M],c=i[M+1]/t[M],g=Math.pow(l,2)+Math.pow(c,2),!(g<=9)&&(u=3/Math.sqrt(g),i[M]=l*u*t[M],i[M+1]=c*u*t[M])}})(s,l,c),function lo(s,t,i="x"){const o=oo(i),l=s.length;let c,u,g,m=yi(s,0);for(let _=0;_<l;++_){if(u=g,g=m,m=yi(s,_+1),!g)continue;const M=g[i],k=g[o];u&&(c=(M-u[i])/3,g[`cp1${i}`]=M-c,g[`cp1${o}`]=k-c*t[_]),m&&(c=(m[i]-M)/3,g[`cp2${i}`]=M+c,g[`cp2${o}`]=k+c*t[_])}}(s,c,t)}function Ls(s,t,i){return Math.max(Math.min(s,i),t)}function va(s,t,i,o,l){let c,u,g,m;if(t.spanGaps&&(s=s.filter(_=>!_.skip)),"monotone"===t.cubicInterpolationMode)ho(s,l);else{let _=o?s[s.length-1]:s[0];for(c=0,u=s.length;c<u;++c)g=s[c],m=ao(_,g,s[Math.min(c+1,u-(o?0:1))%u],t.tension),g.cp1x=m.previous.x,g.cp1y=m.previous.y,g.cp2x=m.next.x,g.cp2y=m.next.y,_=g}t.capBezierPoints&&function ya(s,t){let i,o,l,c,u,g=mi(s[0],t);for(i=0,o=s.length;i<o;++i)u=c,c=g,g=i<o-1&&mi(s[i+1],t),c&&(l=s[i],u&&(l.cp1x=Ls(l.cp1x,t.left,t.right),l.cp1y=Ls(l.cp1y,t.top,t.bottom)),g&&(l.cp2x=Ls(l.cp2x,t.left,t.right),l.cp2y=Ls(l.cp2y,t.top,t.bottom)))}(s,i)}const bn=s=>0===s||1===s,Ma=(s,t,i)=>-Math.pow(2,10*(s-=1))*Math.sin((s-t)*yt/i),rs=(s,t,i)=>Math.pow(2,-10*s)*Math.sin((s-t)*yt/i)+1,vi={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>1-Math.cos(s*kt),easeOutSine:s=>Math.sin(s*kt),easeInOutSine:s=>-.5*(Math.cos(St*s)-1),easeInExpo:s=>0===s?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>1===s?1:1-Math.pow(2,-10*s),easeInOutExpo:s=>bn(s)?s:s<.5?.5*Math.pow(2,10*(2*s-1)):.5*(2-Math.pow(2,-10*(2*s-1))),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>bn(s)?s:Ma(s,.075,.3),easeOutElastic:s=>bn(s)?s:rs(s,.075,.3),easeInOutElastic:s=>bn(s)?s:s<.5?.5*Ma(2*s,.1125,.45):.5+.5*rs(2*s-1,.1125,.45),easeInBack:s=>s*s*(2.70158*s-1.70158),easeOutBack:s=>(s-=1)*s*(2.70158*s+1.70158)+1,easeInOutBack(s){let t=1.70158;return(s/=.5)<1?s*s*((1+(t*=1.525))*s-t)*.5:.5*((s-=2)*s*((1+(t*=1.525))*s+t)+2)},easeInBounce:s=>1-vi.easeOutBounce(1-s),easeOutBounce:s=>s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375,easeInOutBounce:s=>s<.5?.5*vi.easeInBounce(2*s):.5*vi.easeOutBounce(2*s-1)+.5};function Mi(s,t,i,o){return{x:s.x+i*(t.x-s.x),y:s.y+i*(t.y-s.y)}}function xn(s,t,i,o){return{x:s.x+i*(t.x-s.x),y:"middle"===o?i<.5?s.y:t.y:"after"===o?i<1?s.y:t.y:i>0?t.y:s.y}}function co(s,t,i,o){const l={x:s.cp2x,y:s.cp2y},c={x:t.cp1x,y:t.cp1y},u=Mi(s,l,i),g=Mi(l,c,i),m=Mi(c,t,i),_=Mi(u,g,i),M=Mi(g,m,i);return Mi(_,M,i)}const uo=new Map;function Ve(s,t,i){return function wa(s,t){t=t||{};const i=s+JSON.stringify(t);let o=uo.get(i);return o||(o=new Intl.NumberFormat(s,t),uo.set(i,o)),o}(t,i).format(s)}const ka=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Rs=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Sa(s,t){const i=(""+s).match(ka);if(!i||"normal"===i[1])return 1.2*t;switch(s=+i[2],i[3]){case"px":return s;case"%":s/=100}return t*s}const Pa=s=>+s||0;function Es(s,t){const i={},o=ht(t),l=o?Object.keys(t):t,c=ht(s)?o?u=>nt(s[u],s[t[u]]):u=>s[u]:()=>s;for(const u of l)i[u]=Pa(c(u));return i}function fo(s){return Es(s,{top:"y",right:"x",bottom:"y",left:"x"})}function wi(s){return Es(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Nt(s){const t=fo(s);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Et(s,t){let i=nt((s=s||{}).size,(t=t||ot.font).size);"string"==typeof i&&(i=parseInt(i,10));let o=nt(s.style,t.style);o&&!(""+o).match(Rs)&&(console.warn('Invalid font style specified: "'+o+'"'),o="");const l={family:nt(s.family,t.family),lineHeight:Sa(nt(s.lineHeight,t.lineHeight),i),size:i,style:o,weight:nt(s.weight,t.weight),string:""};return l.string=pa(l),l}function Ni(s,t,i,o){let c,u,g,l=!0;for(c=0,u=s.length;c<u;++c)if(g=s[c],void 0!==g&&(void 0!==t&&"function"==typeof g&&(g=g(t),l=!1),void 0!==i&&bt(g)&&(g=g[i%g.length],l=!1),void 0!==g))return o&&!l&&(o.cacheable=!1),g}function Gt(s,t,i){const{min:o,max:l}=s,c=Pe(t,(l-o)/2),u=(g,m)=>i&&0===g?0:g+m;return{min:u(o,-Math.abs(c)),max:u(l,c)}}function Le(s,t){return Object.assign(Object.create(s),t)}function ki(s,t,i){return s?function(s,t){return{x:i=>s+s+t-i,setWidth(i){t=i},textAlign:i=>"center"===i?i:"right"===i?"left":"right",xPlus:(i,o)=>i-o,leftForLtr:(i,o)=>i-o}}(t,i):{x:s=>s,setWidth(s){},textAlign:s=>s,xPlus:(s,t)=>s+t,leftForLtr:(s,t)=>s}}function _n(s,t){let i,o;("ltr"===t||"rtl"===t)&&(i=s.canvas.style,o=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),s.prevTextDirection=o)}function go(s,t){void 0!==t&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",t[0],t[1]))}function Is(s){return"angle"===s?{between:ze,compare:cn,normalize:oe}:{between:ye,compare:(t,i)=>t-i,normalize:t=>t}}function Ca({start:s,end:t,count:i,loop:o,style:l}){return{start:s%i,end:t%i,loop:o&&(t-s+1)%i==0,style:l}}function Hi(s,t,i){if(!i)return[s];const{property:o,start:l,end:c}=i,u=t.length,{compare:g,between:m,normalize:_}=Is(o),{start:M,end:k,loop:C,style:A}=function Br(s,t,i){const{property:o,start:l,end:c}=i,{between:u,normalize:g}=Is(o),m=t.length;let C,A,{start:_,end:M,loop:k}=s;if(k){for(_+=m,M+=m,C=0,A=m;C<A&&u(g(t[_%m][o]),l,c);++C)_--,M--;_%=m,M%=m}return M<_&&(M+=m),{start:_,end:M,loop:k,style:s.style}}(s,t,i),L=[];let B,W,j,I=!1,F=null;for(let st=M,it=M;st<=k;++st)W=t[st%u],!W.skip&&(B=_(W[o]),B!==j&&(I=m(B,l,c),null===F&&(I||m(l,j,B)&&0!==g(l,j))&&(F=0===g(B,l)?st:it),null!==F&&(!I||0===g(c,B)||m(c,j,B))&&(L.push(Ca({start:F,end:st,loop:C,count:u,style:A})),F=null),it=st,j=B));return null!==F&&L.push(Ca({start:F,end:k,loop:C,count:u,style:A})),L}function yn(s,t){const i=[],o=s.segments;for(let l=0;l<o.length;l++){const c=Hi(o[l],s.points,t);c.length&&i.push(...c)}return i}function vn(s,t){const i=s.points,o=s.options.spanGaps,l=i.length;if(!l)return[];const c=!!s._loop,{start:u,end:g}=function Oa(s,t,i,o){let l=0,c=t-1;if(i&&!o)for(;l<t&&!s[l].skip;)l++;for(;l<t&&s[l].skip;)l++;for(l%=t,i&&(c+=l);c>l&&s[c%t].skip;)c--;return c%=t,{start:l,end:c}}(i,l,c,o);return Aa(s,!0===o?[{start:u,end:g,loop:c}]:function Vr(s,t,i,o){const l=s.length,c=[];let m,u=t,g=s[t];for(m=t+1;m<=i;++m){const _=s[m%l];_.skip||_.stop?g.skip||(c.push({start:t%l,end:(m-1)%l,loop:o=!1}),t=u=_.stop?m:null):(u=m,g.skip&&(t=m)),g=_}return null!==u&&c.push({start:t%l,end:u%l,loop:o}),c}(i,u,g<u?g+l:g,!!s._fullLoop&&0===u&&g===l-1),i,t)}function Aa(s,t,i,o){return o&&o.setContext&&i?function Ta(s,t,i,o){const l=s._chart.getContext(),c=po(s.options),{_datasetIndex:u,options:{spanGaps:g}}=s,m=i.length,_=[];let M=c,k=t[0].start,C=k;function A(L,I,F,B){const W=g?-1:1;if(L!==I){for(L+=m;i[L%m].skip;)L-=W;for(;i[I%m].skip;)I+=W;L%m!=I%m&&(_.push({start:L%m,end:I%m,loop:F,style:B}),M=B,k=I%m)}}for(const L of t){k=g?k:L.start;let F,I=i[k%m];for(C=k+1;C<=L.end;C++){const B=i[C%m];F=po(o.setContext(Le(l,{type:"segment",p0:I,p1:B,p0DataIndex:(C-1)%m,p1DataIndex:C%m,datasetIndex:u}))),La(F,M)&&A(k,C-1,L.loop,M),I=B,M=F}k<C-1&&A(k,C-1,L.loop,M)}return _}(s,t,i,o):t}function po(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function La(s,t){return t&&JSON.stringify(s)!==JSON.stringify(t)}var Ra=Object.freeze({__proto__:null,easingEffects:vi,isPatternOrGradient:mt,color:Ri,getHoverColor:ui,noop:Se,uid:qn,isNullOrUndef:lt,isArray:bt,isObject:ht,isFinite:Rt,finiteOrDefault:Wt,valueOrDefault:nt,toPercentage:le,toDimension:Pe,callback:Mt,each:_t,_elementsEqual:De,clone:Ei,_merger:on,merge:rt,mergeIf:Ye,_mergerIf:Ce,_deprecated:function ha(s,t,i,o){void 0!==t&&console.warn(s+': "'+i+'" is deprecated. Please use "'+o+'" instead')},resolveObjectKey:Oe,_capitalize:Zi,defined:ct,isFunction:ut,setsEqual:an,_isClickEvent:Qi,toFontString:pa,_measureText:Cs,_longestText:un,_alignPixel:Ge,clearCanvas:fn,drawPoint:os,_isPointInArea:mi,clipArea:Os,unclipArea:Be,_steppedLineTo:to,_bezierCurveTo:eo,renderText:Ze,addRoundedRectPath:Qe,_lookup:Ji,_lookupByKey:Ae,_rlookupByKey:Ii,_filterBetween:Fi,listenArrayEvents:rn,unlistenArrayEvents:he,_arrayUnique:ts,_createResolver:As,_attachContext:bi,_descriptors:xi,_parseObjectDataRadialScale:ei,splineCurve:ao,splineCurveMonotone:ho,_updateBezierControlPoints:va,_isDomSupported:Bi,_getParentNode:qe,getStyle:Qn,getRelativePosition:Te,getMaximumSize:ga,retinaScale:Ds,supportsEventListenerOptions:Jn,readUsedSize:dn,fontString:function jt(s,t,i){return t+" "+s+"px "+i},requestAnimFrame:Dt,throttled:ie,debounce:xs,_toLeftRightCenter:$t,_alignStartEnd:qt,_textX:ke,_pointInLine:Mi,_steppedInterpolation:xn,_bezierInterpolation:co,formatNumber:Ve,toLineHeight:Sa,_readValueToProps:Es,toTRBL:fo,toTRBLCorners:wi,toPadding:Nt,toFont:Et,resolve:Ni,_addGrace:Gt,createContext:Le,PI:St,TAU:yt,PITAU:Ms,INFINITY:es,RAD_PER_DEG:ne,HALF_PI:kt,QUARTER_PI:Lt,TWO_THIRDS_PI:ln,log10:Ft,sign:pe,niceNum:is,_factorize:ws,isNumber:Ue,almostEquals:zi,almostWhole:ua,_setMinAndMaxByKey:Xe,toRadians:Kt,toDegrees:ss,_decimalPlaces:hn,getAngleFromPoint:ks,distanceBetweenPoints:Ss,_angleDiff:cn,_normalizeAngle:oe,_angleBetween:ze,_limitValue:Ut,_int16Range:Ke,_isBetween:ye,getRtlAdapter:ki,overrideTextDirection:_n,restoreTextDirection:go,_boundSegment:Hi,_boundSegments:yn,_computeSegments:vn});function Wr(s,t,i,o){const{controller:l,data:c,_sorted:u}=s,g=l._cachedMeta.iScale;if(g&&t===g.axis&&"r"!==t&&u&&c.length){const m=g._reversePixels?Ii:Ae;if(!o)return m(c,t,i);if(l._sharedOptions){const _=c[0],M="function"==typeof _.getRange&&_.getRange(t);if(M){const k=m(c,t,i-M),C=m(c,t,i+M);return{lo:k.lo,hi:C.hi}}}}return{lo:0,hi:c.length-1}}function ls(s,t,i,o,l){const c=s.getSortedVisibleDatasetMetas(),u=i[t];for(let g=0,m=c.length;g<m;++g){const{index:_,data:M}=c[g],{lo:k,hi:C}=Wr(c[g],t,u,l);for(let A=k;A<=C;++A){const L=M[A];L.skip||o(L,_,A)}}}function Fs(s,t,i,o,l){const c=[];return!l&&!s.isPointInArea(t)||ls(s,i,t,function(g,m,_){!l&&!mi(g,s.chartArea,0)||g.inRange(t.x,t.y,o)&&c.push({element:g,datasetIndex:m,index:_})},!0),c}function Mn(s,t,i,o,l,c){return c||s.isPointInArea(t)?"r"!==i||o?function Ia(s,t,i,o,l,c){let u=[];const g=function Nr(s){const t=-1!==s.indexOf("x"),i=-1!==s.indexOf("y");return function(o,l){const c=t?Math.abs(o.x-l.x):0,u=i?Math.abs(o.y-l.y):0;return Math.sqrt(Math.pow(c,2)+Math.pow(u,2))}}(i);let m=Number.POSITIVE_INFINITY;return ls(s,i,t,function _(M,k,C){const A=M.inRange(t.x,t.y,l);if(o&&!A)return;const L=M.getCenterPoint(l);if(!c&&!s.isPointInArea(L)&&!A)return;const F=g(t,L);F<m?(u=[{element:M,datasetIndex:k,index:C}],m=F):F===m&&u.push({element:M,datasetIndex:k,index:C})}),u}(s,t,i,o,l,c):function Ea(s,t,i,o){let l=[];return ls(s,i,t,function c(u,g,m){const{startAngle:_,endAngle:M}=u.getProps(["startAngle","endAngle"],o),{angle:k}=ks(u,{x:t.x,y:t.y});ze(k,_,M)&&l.push({element:u,datasetIndex:g,index:m})}),l}(s,t,i,l):[]}function mo(s,t,i,o,l){const c=[],u="x"===i?"inXRange":"inYRange";let g=!1;return ls(s,i,t,(m,_,M)=>{m[u](t[i],l)&&(c.push({element:m,datasetIndex:_,index:M}),g=g||m.inRange(t.x,t.y,l))}),o&&!g?[]:c}var Fa={evaluateInteractionItems:ls,modes:{index(s,t,i,o){const l=Te(t,s),c=i.axis||"x",u=i.includeInvisible||!1,g=i.intersect?Fs(s,l,c,o,u):Mn(s,l,c,!1,o,u),m=[];return g.length?(s.getSortedVisibleDatasetMetas().forEach(_=>{const M=g[0].index,k=_.data[M];k&&!k.skip&&m.push({element:k,datasetIndex:_.index,index:M})}),m):[]},dataset(s,t,i,o){const l=Te(t,s),c=i.axis||"xy",u=i.includeInvisible||!1;let g=i.intersect?Fs(s,l,c,o,u):Mn(s,l,c,!1,o,u);if(g.length>0){const m=g[0].datasetIndex,_=s.getDatasetMeta(m).data;g=[];for(let M=0;M<_.length;++M)g.push({element:_[M],datasetIndex:m,index:M})}return g},point:(s,t,i,o)=>Fs(s,Te(t,s),i.axis||"xy",o,i.includeInvisible||!1),nearest:(s,t,i,o)=>Mn(s,Te(t,s),i.axis||"xy",i.intersect,o,i.includeInvisible||!1),x:(s,t,i,o)=>mo(s,Te(t,s),"x",i.intersect,o),y:(s,t,i,o)=>mo(s,Te(t,s),"y",i.intersect,o)}};const bo=["left","top","right","bottom"];function hs(s,t){return s.filter(i=>i.pos===t)}function wn(s,t){return s.filter(i=>-1===bo.indexOf(i.pos)&&i.box.axis===t)}function ii(s,t){return s.sort((i,o)=>{const l=t?o:i,c=t?i:o;return l.weight===c.weight?l.index-c.index:l.weight-c.weight})}function _o(s,t,i,o){return Math.max(s[i],t[i])+Math.max(s[o],t[o])}function cs(s,t){s.top=Math.max(s.top,t.top),s.left=Math.max(s.left,t.left),s.bottom=Math.max(s.bottom,t.bottom),s.right=Math.max(s.right,t.right)}function Hr(s,t,i,o){const{pos:l,box:c}=i,u=s.maxPadding;if(!ht(l)){i.size&&(s[l]-=i.size);const k=o[i.stack]||{size:0,count:1};k.size=Math.max(k.size,i.horizontal?c.height:c.width),i.size=k.size/k.count,s[l]+=i.size}c.getPadding&&cs(u,c.getPadding());const g=Math.max(0,t.outerWidth-_o(u,s,"left","right")),m=Math.max(0,t.outerHeight-_o(u,s,"top","bottom")),_=g!==s.w,M=m!==s.h;return s.w=g,s.h=m,i.horizontal?{same:_,other:M}:{same:M,other:_}}function Ba(s,t){const i=t.maxPadding;return function o(l){const c={left:0,top:0,right:0,bottom:0};return l.forEach(u=>{c[u]=Math.max(t[u],i[u])}),c}(s?["left","right"]:["top","bottom"])}function ds(s,t,i,o){const l=[];let c,u,g,m,_,M;for(c=0,u=s.length,_=0;c<u;++c){g=s[c],m=g.box,m.update(g.width||t.w,g.height||t.h,Ba(g.horizontal,t));const{same:k,other:C}=Hr(t,i,g,o);_|=k&&l.length,M=M||C,m.fullSize||l.push(g)}return _&&ds(l,t,i,o)||M}function Sn(s,t,i,o,l){s.top=i,s.left=t,s.right=t+o,s.bottom=i+l,s.width=o,s.height=l}function us(s,t,i,o){const l=i.padding;let{x:c,y:u}=t;for(const g of s){const m=g.box,_=o[g.stack]||{count:1,placed:0,weight:1},M=g.stackWeight/_.weight||1;if(g.horizontal){const k=t.w*M,C=_.size||m.height;ct(_.start)&&(u=_.start),m.fullSize?Sn(m,l.left,u,i.outerWidth-l.right-l.left,C):Sn(m,t.left+_.placed,u,k,C),_.start=u,_.placed+=k,u=m.bottom}else{const k=t.h*M,C=_.size||m.width;ct(_.start)&&(c=_.start),m.fullSize?Sn(m,c,l.top,C,i.outerHeight-l.bottom-l.top):Sn(m,c,t.top+_.placed,C,k),_.start=c,_.placed+=k,c=m.right}}t.x=c,t.y=u}ot.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Zt={addBox(s,t){s.boxes||(s.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(i){t.draw(i)}}]},s.boxes.push(t)},removeBox(s,t){const i=s.boxes?s.boxes.indexOf(t):-1;-1!==i&&s.boxes.splice(i,1)},configure(s,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(s,t,i,o){if(!s)return;const l=Nt(s.options.layout.padding),c=Math.max(t-l.width,0),u=Math.max(i-l.height,0),g=function ve(s){const t=function xo(s){const t=[];let i,o,l,c,u,g;for(i=0,o=(s||[]).length;i<o;++i)l=s[i],({position:c,options:{stack:u,stackWeight:g=1}}=l),t.push({index:i,box:l,pos:c,horizontal:l.isHorizontal(),weight:l.weight,stack:u&&c+u,stackWeight:g});return t}(s),i=ii(t.filter(_=>_.box.fullSize),!0),o=ii(hs(t,"left"),!0),l=ii(hs(t,"right")),c=ii(hs(t,"top"),!0),u=ii(hs(t,"bottom")),g=wn(t,"x"),m=wn(t,"y");return{fullSize:i,leftAndTop:o.concat(c),rightAndBottom:l.concat(m).concat(u).concat(g),chartArea:hs(t,"chartArea"),vertical:o.concat(l).concat(m),horizontal:c.concat(u).concat(g)}}(s.boxes),m=g.vertical,_=g.horizontal;_t(s.boxes,I=>{"function"==typeof I.beforeLayout&&I.beforeLayout()});const M=m.reduce((I,F)=>F.box.options&&!1===F.box.options.display?I:I+1,0)||1,k=Object.freeze({outerWidth:t,outerHeight:i,padding:l,availableWidth:c,availableHeight:u,vBoxMaxWidth:c/2/M,hBoxMaxHeight:u/2}),C=Object.assign({},l);cs(C,Nt(o));const A=Object.assign({maxPadding:C,w:c,h:u,x:l.left,y:l.top},l),L=function Re(s,t){const i=function za(s){const t={};for(const i of s){const{stack:o,pos:l,stackWeight:c}=i;if(!o||!bo.includes(l))continue;const u=t[o]||(t[o]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=c}return t}(s),{vBoxMaxWidth:o,hBoxMaxHeight:l}=t;let c,u,g;for(c=0,u=s.length;c<u;++c){g=s[c];const{fullSize:m}=g.box,_=i[g.stack],M=_&&g.stackWeight/_.weight;g.horizontal?(g.width=M?M*o:m&&t.availableWidth,g.height=l):(g.width=o,g.height=M?M*l:m&&t.availableHeight)}return i}(m.concat(_),k);ds(g.fullSize,A,k,L),ds(m,A,k,L),ds(_,A,k,L)&&ds(m,A,k,L),function kn(s){const t=s.maxPadding;function i(o){const l=Math.max(t[o]-s[o],0);return s[o]+=l,l}s.y+=i("top"),s.x+=i("left"),i("right"),i("bottom")}(A),us(g.leftAndTop,A,k,L),A.x+=A.w,A.y+=A.h,us(g.rightAndBottom,A,k,L),s.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},_t(g.chartArea,I=>{const F=I.box;Object.assign(F,s.chartArea),F.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})})}};class yo{acquireContext(t,i){}releaseContext(t){return!1}addEventListener(t,i,o){}removeEventListener(t,i,o){}getDevicePixelRatio(){return 1}getMaximumSize(t,i,o,l){return i=Math.max(0,i||t.width),o=o||t.height,{width:i,height:Math.max(0,l?Math.floor(i/l):o)}}isAttached(t){return!0}updateConfig(t){}}class si extends yo{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ji="$chartjs",We={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Va=s=>null===s||""===s,Wa=!!Jn&&{passive:!0};function Mo(s,t,i){s.canvas.removeEventListener(t,i,Wa)}function zs(s,t){for(const i of s)if(i===t||i.contains(t))return!0}function Ha(s,t,i){const o=s.canvas,l=new MutationObserver(c=>{let u=!1;for(const g of c)u=u||zs(g.addedNodes,o),u=u&&!zs(g.removedNodes,o);u&&i()});return l.observe(document,{childList:!0,subtree:!0}),l}function ja(s,t,i){const o=s.canvas,l=new MutationObserver(c=>{let u=!1;for(const g of c)u=u||zs(g.removedNodes,o),u=u&&!zs(g.addedNodes,o);u&&i()});return l.observe(document,{childList:!0,subtree:!0}),l}const Si=new Map;let fs=0;function $a(){const s=window.devicePixelRatio;s!==fs&&(fs=s,Si.forEach((t,i)=>{i.currentDevicePixelRatio!==s&&t()}))}function Yr(s,t,i){const o=s.canvas,l=o&&qe(o);if(!l)return;const c=ie((g,m)=>{const _=l.clientWidth;i(g,m),_<l.clientWidth&&i()},window),u=new ResizeObserver(g=>{const m=g[0],_=m.contentRect.width,M=m.contentRect.height;0===_&&0===M||c(_,M)});return u.observe(l),function Ya(s,t){Si.size||window.addEventListener("resize",$a),Si.set(s,t)}(s,c),u}function Pn(s,t,i){i&&i.disconnect(),"resize"===t&&function $r(s){Si.delete(s),Si.size||window.removeEventListener("resize",$a)}(s)}function Ua(s,t,i){const o=s.canvas,l=ie(c=>{null!==s.ctx&&i(function Na(s,t){const i=We[s.type]||s.type,{x:o,y:l}=Te(s,t);return{type:i,chart:t,native:s,x:void 0!==o?o:null,y:void 0!==l?l:null}}(c,s))},s,c=>{const u=c[0];return[u,u.offsetX,u.offsetY]});return function vo(s,t,i){s.addEventListener(t,i,Wa)}(o,t,l),l}class wo extends yo{acquireContext(t,i){const o=t&&t.getContext&&t.getContext("2d");return o&&o.canvas===t?(function jr(s,t){const i=s.style,o=s.getAttribute("height"),l=s.getAttribute("width");if(s[ji]={initial:{height:o,width:l,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",Va(l)){const c=dn(s,"width");void 0!==c&&(s.width=c)}if(Va(o))if(""===s.style.height)s.height=s.width/(t||2);else{const c=dn(s,"height");void 0!==c&&(s.height=c)}}(t,i),o):null}releaseContext(t){const i=t.canvas;if(!i[ji])return!1;const o=i[ji].initial;["height","width"].forEach(c=>{const u=o[c];lt(u)?i.removeAttribute(c):i.setAttribute(c,u)});const l=o.style||{};return Object.keys(l).forEach(c=>{i.style[c]=l[c]}),i.width=i.width,delete i[ji],!0}addEventListener(t,i,o){this.removeEventListener(t,i),(t.$proxies||(t.$proxies={}))[i]=({attach:Ha,detach:ja,resize:Yr}[i]||Ua)(t,i,o)}removeEventListener(t,i){const o=t.$proxies||(t.$proxies={}),l=o[i];l&&(({attach:Pn,detach:Pn,resize:Pn}[i]||Mo)(t,i,l),o[i]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,i,o,l){return ga(t,i,o,l)}isAttached(t){const i=qe(t);return!(!i||!i.isConnected)}}function Xa(s){return!Bi()||"undefined"!=typeof OffscreenCanvas&&s instanceof OffscreenCanvas?si:wo}var ko=Object.freeze({__proto__:null,_detectPlatform:Xa,BasePlatform:yo,BasicPlatform:si,DomPlatform:wo});const Bs="transparent",Ka={boolean:(s,t,i)=>i>.5?t:s,color(s,t,i){const o=Ri(s||Bs),l=o.valid&&Ri(t||Bs);return l&&l.valid?l.mix(o,i).hexString():t},number:(s,t,i)=>s+(t-s)*i};class qa{constructor(t,i,o,l){const c=i[o];l=Ni([t.to,l,c,t.from]);const u=Ni([t.from,c,l]);this._active=!0,this._fn=t.fn||Ka[t.type||typeof u],this._easing=vi[t.easing]||vi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=i,this._prop=o,this._from=u,this._to=l,this._promises=void 0}active(){return this._active}update(t,i,o){if(this._active){this._notify(!1);const l=this._target[this._prop],c=o-this._start,u=this._duration-c;this._start=o,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=c,this._loop=!!t.loop,this._to=Ni([t.to,i,l,t.from]),this._from=Ni([t.from,l,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const i=t-this._start,o=this._duration,l=this._prop,c=this._from,u=this._loop,g=this._to;let m;if(this._active=c!==g&&(u||i<o),!this._active)return this._target[l]=g,void this._notify(!0);i<0?this._target[l]=c:(m=i/o%2,m=u&&m>1?2-m:m,m=this._easing(Math.min(1,Math.max(0,m))),this._target[l]=this._fn(c,g,m))}wait(){const t=this._promises||(this._promises=[]);return new Promise((i,o)=>{t.push({res:i,rej:o})})}_notify(t){const i=t?"res":"rej",o=this._promises||[];for(let l=0;l<o.length;l++)o[l][i]()}}ot.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Pi=Object.keys(ot.animation);ot.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:s=>"onProgress"!==s&&"onComplete"!==s&&"fn"!==s}),ot.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),ot.describe("animations",{_fallback:"animation"}),ot.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:s=>0|s}}}});class ni{constructor(t,i){this._chart=t,this._properties=new Map,this.configure(i)}configure(t){if(!ht(t))return;const i=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{const l=t[o];if(!ht(l))return;const c={};for(const u of Pi)c[u]=l[u];(bt(l.properties)&&l.properties||[o]).forEach(u=>{(u===o||!i.has(u))&&i.set(u,c)})})}_animateOptions(t,i){const o=i.options,l=function Za(s,t){if(!t)return;let i=s.options;if(i)return i.$shared&&(s.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i;s.options=t}(t,o);if(!l)return[];const c=this._createAnimations(l,o);return o.$shared&&function So(s,t){const i=[],o=Object.keys(t);for(let l=0;l<o.length;l++){const c=s[o[l]];c&&c.active()&&i.push(c.wait())}return Promise.all(i)}(t.options.$animations,o).then(()=>{t.options=o},()=>{}),c}_createAnimations(t,i){const o=this._properties,l=[],c=t.$animations||(t.$animations={}),u=Object.keys(i),g=Date.now();let m;for(m=u.length-1;m>=0;--m){const _=u[m];if("$"===_.charAt(0))continue;if("options"===_){l.push(...this._animateOptions(t,i));continue}const M=i[_];let k=c[_];const C=o.get(_);if(k){if(C&&k.active()){k.update(C,M,g);continue}k.cancel()}C&&C.duration?(c[_]=k=new qa(C,t,_,M),l.push(k)):t[_]=M}return l}update(t,i){if(0===this._properties.size)return void Object.assign(t,i);const o=this._createAnimations(t,i);return o.length?(Jt.add(this._chart,o),!0):void 0}}function Qa(s,t){const i=s&&s.options||{},o=i.reverse,l=void 0===i.min?t:0,c=void 0===i.max?t:0;return{start:o?c:l,end:o?l:c}}function Dn(s,t){const i=[],o=s._getSortedDatasetMetas(t);let l,c;for(l=0,c=o.length;l<c;++l)i.push(o[l].index);return i}function er(s,t,i,o={}){const l=s.keys,c="single"===o.mode;let u,g,m,_;if(null!==t){for(u=0,g=l.length;u<g;++u){if(m=+l[u],m===i){if(o.all)continue;break}_=s.values[m],Rt(_)&&(c||0===t||pe(t)===pe(_))&&(t+=_)}return t}}function Po(s,t){const i=s&&s.options.stacked;return i||void 0===i&&void 0!==t.stack}function On(s,t,i){const o=s[t]||(s[t]={});return o[i]||(o[i]={})}function $i(s,t,i,o){for(const l of t.getMatchingVisibleMetas(o).reverse()){const c=s[l.index];if(i&&c>0||!i&&c<0)return l.index}return null}function gs(s,t){const{chart:i,_cachedMeta:o}=s,l=i._stacks||(i._stacks={}),{iScale:c,vScale:u,index:g}=o,m=c.axis,_=u.axis,M=function Ur(s,t,i){return`${s.id}.${t.id}.${i.stack||i.type}`}(c,u,o),k=t.length;let C;for(let A=0;A<k;++A){const L=t[A],{[m]:I,[_]:F}=L;C=(L._stacks||(L._stacks={}))[_]=On(l,M,I),C[g]=F,C._top=$i(C,u,!0,o.type),C._bottom=$i(C,u,!1,o.type)}}function ps(s,t){const i=s.scales;return Object.keys(i).filter(o=>i[o].axis===t).shift()}function Di(s,t){const i=s.controller.index,o=s.vScale&&s.vScale.axis;if(o){t=t||s._parsed;for(const l of t){const c=l._stacks;if(!c||void 0===c[o]||void 0===c[o][i])return;delete c[o][i]}}}const Tn=s=>"reset"===s||"none"===s,Co=(s,t)=>t?s:Object.assign({},s);class ee{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Po(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&Di(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,o=this.getDataset(),l=(k,C,A,L)=>"x"===k?C:"r"===k?L:A,c=i.xAxisID=nt(o.xAxisID,ps(t,"x")),u=i.yAxisID=nt(o.yAxisID,ps(t,"y")),g=i.rAxisID=nt(o.rAxisID,ps(t,"r")),m=i.indexAxis,_=i.iAxisID=l(m,c,u,g),M=i.vAxisID=l(m,u,c,g);i.xScale=this.getScaleForId(c),i.yScale=this.getScaleForId(u),i.rScale=this.getScaleForId(g),i.iScale=this.getScaleForId(_),i.vScale=this.getScaleForId(M)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&he(this._data,this),t._stacked&&Di(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),o=this._data;if(ht(i))this._data=function ir(s){const t=Object.keys(s),i=new Array(t.length);let o,l,c;for(o=0,l=t.length;o<l;++o)c=t[o],i[o]={x:c,y:s[c]};return i}(i);else if(o!==i){if(o){he(o,this);const l=this._cachedMeta;Di(l),l._parsed=[]}i&&Object.isExtensible(i)&&rn(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,o=this.getDataset();let l=!1;this._dataCheck();const c=i._stacked;i._stacked=Po(i.vScale,i),i.stack!==o.stack&&(l=!0,Di(i),i.stack=o.stack),this._resyncElements(t),(l||c!==i._stacked)&&gs(this,i._parsed)}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),o=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:o,_data:l}=this,{iScale:c,_stacked:u}=o,g=c.axis;let M,k,C,m=0===t&&i===l.length||o._sorted,_=t>0&&o._parsed[t-1];if(!1===this._parsing)o._parsed=l,o._sorted=!0,C=l;else{C=bt(l[t])?this.parseArrayData(o,l,t,i):ht(l[t])?this.parseObjectData(o,l,t,i):this.parsePrimitiveData(o,l,t,i);const A=()=>null===k[g]||_&&k[g]<_[g];for(M=0;M<i;++M)o._parsed[M+t]=k=C[M],m&&(A()&&(m=!1),_=k);o._sorted=m}u&&gs(this,C)}parsePrimitiveData(t,i,o,l){const{iScale:c,vScale:u}=t,g=c.axis,m=u.axis,_=c.getLabels(),M=c===u,k=new Array(l);let C,A,L;for(C=0,A=l;C<A;++C)L=C+o,k[C]={[g]:M||c.parse(_[L],L),[m]:u.parse(i[L],L)};return k}parseArrayData(t,i,o,l){const{xScale:c,yScale:u}=t,g=new Array(l);let m,_,M,k;for(m=0,_=l;m<_;++m)M=m+o,k=i[M],g[m]={x:c.parse(k[0],M),y:u.parse(k[1],M)};return g}parseObjectData(t,i,o,l){const{xScale:c,yScale:u}=t,{xAxisKey:g="x",yAxisKey:m="y"}=this._parsing,_=new Array(l);let M,k,C,A;for(M=0,k=l;M<k;++M)C=M+o,A=i[C],_[M]={x:c.parse(Oe(A,g),C),y:u.parse(Oe(A,m),C)};return _}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,o){const c=this._cachedMeta,u=i[t.axis];return er({keys:Dn(this.chart,!0),values:i._stacks[t.axis]},u,c.index,{mode:o})}updateRangeFromParsed(t,i,o,l){const c=o[i.axis];let u=null===c?NaN:c;const g=l&&o._stacks[i.axis];l&&g&&(l.values=g,u=er(l,c,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,i){const o=this._cachedMeta,l=o._parsed,c=o._sorted&&t===o.iScale,u=l.length,g=this._getOtherScale(t),m=((s,t,i)=>s&&!t.hidden&&t._stacked&&{keys:Dn(this.chart,!0),values:null})(i,o),_={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:M,max:k}=function Cn(s){const{min:t,max:i,minDefined:o,maxDefined:l}=s.getUserBounds();return{min:o?t:Number.NEGATIVE_INFINITY,max:l?i:Number.POSITIVE_INFINITY}}(g);let C,A;function L(){A=l[C];const I=A[g.axis];return!Rt(A[t.axis])||M>I||k<I}for(C=0;C<u&&(L()||(this.updateRangeFromParsed(_,t,A,m),!c));++C);if(c)for(C=u-1;C>=0;--C)if(!L()){this.updateRangeFromParsed(_,t,A,m);break}return _}getAllParsedValues(t){const i=this._cachedMeta._parsed,o=[];let l,c,u;for(l=0,c=i.length;l<c;++l)u=i[l][t.axis],Rt(u)&&o.push(u);return o}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,o=i.iScale,l=i.vScale,c=this.getParsed(t);return{label:o?""+o.getLabelForValue(c[o.axis]):"",value:l?""+l.getLabelForValue(c[l.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=function tr(s){let t,i,o,l;return ht(s)?(t=s.top,i=s.right,o=s.bottom,l=s.left):t=i=o=l=s,{top:t,right:i,bottom:o,left:l,disabled:!1===s}}(nt(this.options.clip,function Ja(s,t,i){if(!1===i)return!1;const o=Qa(s,i),l=Qa(t,i);return{top:l.end,right:o.end,bottom:l.start,left:o.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,o=this._cachedMeta,l=o.data||[],c=this.chart.chartArea,u=[],g=this._drawStart||0,m=this._drawCount||l.length-g,_=this.options.drawActiveElementsOnTop;let M;for(o.dataset&&o.dataset.draw(t,c,g,m),M=g;M<g+m;++M){const k=l[M];k.hidden||(k.active&&_?u.push(k):k.draw(t,c))}for(M=0;M<u.length;++M)u[M].draw(t,c)}getStyle(t,i){const o=i?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(t||0,o)}getContext(t,i,o){const l=this.getDataset();let c;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];c=u.$context||(u.$context=function An(s,t,i){return Le(s,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}(this.getContext(),t,u)),c.parsed=this.getParsed(t),c.raw=l.data[t],c.index=c.dataIndex=t}else c=this.$context||(this.$context=function Do(s,t){return Le(s,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),c.dataset=l,c.index=c.datasetIndex=this.index;return c.active=!!i,c.mode=o,c}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",o){const l="active"===i,c=this._cachedDataOpts,u=t+"-"+i,g=c[u],m=this.enableOptionSharing&&ct(o);if(g)return Co(g,m);const _=this.chart.config,M=_.datasetElementScopeKeys(this._type,t),k=l?[`${t}Hover`,"hover",t,""]:[t,""],C=_.getOptionScopes(this.getDataset(),M),A=Object.keys(ot.elements[t]),I=_.resolveNamedOptions(C,A,()=>this.getContext(o,l),k);return I.$shared&&(I.$shared=m,c[u]=Object.freeze(Co(I,m))),I}_resolveAnimations(t,i,o){const l=this.chart,c=this._cachedDataOpts,u=`animation-${i}`,g=c[u];if(g)return g;let m;if(!1!==l.options.animation){const M=this.chart.config,k=M.datasetAnimationScopeKeys(this._type,i),C=M.getOptionScopes(this.getDataset(),k);m=M.createResolver(C,this.getContext(t,o,i))}const _=new ni(l,m&&m.animations);return m&&m._cacheable&&(c[u]=Object.freeze(_)),_}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||Tn(t)||this.chart._animationsDisabled}updateElement(t,i,o,l){Tn(l)?Object.assign(t,o):this._resolveAnimations(i,l).update(t,o)}updateSharedOptions(t,i,o){t&&!Tn(i)&&this._resolveAnimations(void 0,i).update(t,o)}_setStyle(t,i,o,l){t.active=l;const c=this.getStyle(i,l);this._resolveAnimations(i,o,l).update(t,{options:!l&&this.getSharedOptions(c)||c})}removeHoverStyle(t,i,o){this._setStyle(t,o,"active",!1)}setHoverStyle(t,i,o){this._setStyle(t,o,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,o=this._cachedMeta.data;for(const[g,m,_]of this._syncList)this[g](m,_);this._syncList=[];const l=o.length,c=i.length,u=Math.min(c,l);u&&this.parse(0,u),c>l?this._insertElements(l,c-l,t):c<l&&this._removeElements(c,l-c)}_insertElements(t,i,o=!0){const l=this._cachedMeta,c=l.data,u=t+i;let g;const m=_=>{for(_.length+=i,g=_.length-1;g>=u;g--)_[g]=_[g-i]};for(m(c),g=t;g<u;++g)c[g]=new this.dataElementType;this._parsing&&m(l._parsed),this.parse(t,i),o&&this.updateElements(c,t,i,"reset")}updateElements(t,i,o,l){}_removeElements(t,i){const o=this._cachedMeta;if(this._parsing){const l=o._parsed.splice(t,i);o._stacked&&Di(o,l)}o.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,o,l]=t;this[i](o,l)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const o=arguments.length-2;o&&this._sync(["_insertElements",t,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ee.defaults={},ee.prototype.datasetElementType=null,ee.prototype.dataElementType=null;class de{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:i,y:o}=this.getProps(["x","y"],t);return{x:i,y:o}}hasValue(){return Ue(this.x)&&Ue(this.y)}getProps(t,i){const o=this.$animations;if(!i||!o)return this;const l={};return t.forEach(c=>{l[c]=o[c]&&o[c].active()?o[c]._to:this[c]}),l}}de.defaults={},de.defaultRoutes=void 0;const sr={values:s=>bt(s)?s:""+s,numeric(s,t,i){if(0===s)return"0";const o=this.chart.options.locale;let l,c=s;if(i.length>1){const _=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(_<1e-4||_>1e15)&&(l="scientific"),c=function Ln(s,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&s!==Math.floor(s)&&(i=s-Math.floor(s)),i}(s,i)}const u=Ft(Math.abs(c)),g=Math.max(Math.min(-1*Math.floor(u),20),0),m={notation:l,minimumFractionDigits:g,maximumFractionDigits:g};return Object.assign(m,this.options.ticks.format),Ve(s,o,m)},logarithmic(s,t,i){if(0===s)return"0";const o=s/Math.pow(10,Math.floor(Ft(s)));return 1===o||2===o||5===o?sr.numeric.call(this,s,t,i):""}};var ms={formatters:sr};function Rn(s,t,i,o,l){const c=nt(o,0),u=Math.min(nt(l,s.length),s.length);let m,_,M,g=0;for(i=Math.ceil(i),l&&(m=l-o,i=m/Math.floor(m/i)),M=c;M<0;)g++,M=Math.round(c+g*i);for(_=Math.max(c,0);_<u;_++)_===M&&(t.push(s[_]),g++,M=Math.round(c+g*i))}ot.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(s,t)=>t.lineWidth,tickColor:(s,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ms.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),ot.route("scale.ticks","color","","color"),ot.route("scale.grid","color","","borderColor"),ot.route("scale.grid","borderColor","","borderColor"),ot.route("scale.title","color","","color"),ot.describe("scale",{_fallback:!1,_scriptable:s=>!s.startsWith("before")&&!s.startsWith("after")&&"callback"!==s&&"parser"!==s,_indexable:s=>"borderDash"!==s&&"tickBorderDash"!==s}),ot.describe("scales",{_fallback:"scale"}),ot.describe("scale.ticks",{_scriptable:s=>"backdropPadding"!==s&&"callback"!==s,_indexable:s=>"backdropPadding"!==s});const Ao=(s,t,i)=>"top"===t||"left"===t?s[t]+i:s[t]-i;function Vs(s,t){const i=[],o=s.length/t,l=s.length;let c=0;for(;c<l;c+=o)i.push(s[Math.floor(c)]);return i}function or(s,t,i){const o=s.ticks.length,l=Math.min(t,o-1),c=s._startPixel,u=s._endPixel,g=1e-6;let _,m=s.getPixelForTick(l);if(!(i&&(_=1===o?Math.max(m-c,u-m):0===t?(s.getPixelForTick(1)-m)/2:(m-s.getPixelForTick(l-1))/2,m+=l<t?_:-_,m<c-g||m>u+g)))return m}function Ws(s){return s.drawTicks?s.tickLength:0}function En(s,t){if(!s.display)return 0;const i=Et(s.font,t),o=Nt(s.padding);return(bt(s.text)?s.text.length:1)*i.lineHeight+o.height}function In(s,t,i){let o=$t(s);return(i&&"right"!==t||!i&&"right"===t)&&(o=(s=>"left"===s?"right":"right"===s?"left":s)(o)),o}class oi extends de{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,i){return t}getUserBounds(){let{_userMin:t,_userMax:i,_suggestedMin:o,_suggestedMax:l}=this;return t=Wt(t,Number.POSITIVE_INFINITY),i=Wt(i,Number.NEGATIVE_INFINITY),o=Wt(o,Number.POSITIVE_INFINITY),l=Wt(l,Number.NEGATIVE_INFINITY),{min:Wt(t,o),max:Wt(i,l),minDefined:Rt(t),maxDefined:Rt(i)}}getMinMax(t){let u,{min:i,max:o,minDefined:l,maxDefined:c}=this.getUserBounds();if(l&&c)return{min:i,max:o};const g=this.getMatchingVisibleMetas();for(let m=0,_=g.length;m<_;++m)u=g[m].controller.getMinMax(this,t),l||(i=Math.min(i,u.min)),c||(o=Math.max(o,u.max));return i=c&&i>o?o:i,o=l&&i>o?i:o,{min:Wt(i,Wt(o,i)),max:Wt(o,Wt(i,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Mt(this.options.beforeUpdate,[this])}update(t,i,o){const{beginAtZero:l,grace:c,ticks:u}=this.options,g=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Gt(this,c,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const m=g<this.ticks.length;this._convertTicksToLabels(m?Vs(this.ticks,g):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||"auto"===u.source)&&(this.ticks=function Kr(s,t){const i=s.options.ticks,o=i.maxTicksLimit||function nr(s){const t=s.options.offset,i=s._tickSize();return Math.floor(Math.min(s._length/i+(t?0:1),s._maxLength/i))}(s),l=i.major.enabled?function Gr(s){const t=[];let i,o;for(i=0,o=s.length;i<o;i++)s[i].major&&t.push(i);return t}(t):[],c=l.length,u=l[0],g=l[c-1],m=[];if(c>o)return function Oo(s,t,i,o){let u,l=0,c=i[0];for(o=Math.ceil(o),u=0;u<s.length;u++)u===c&&(t.push(s[u]),l++,c=i[l*o])}(t,m,l,c/o),m;const _=function qr(s,t,i){const o=function Zr(s){const t=s.length;let i,o;if(t<2)return!1;for(o=s[0],i=1;i<t;++i)if(s[i]-s[i-1]!==o)return!1;return o}(s),l=t.length/i;if(!o)return Math.max(l,1);const c=ws(o);for(let u=0,g=c.length-1;u<g;u++){const m=c[u];if(m>l)return m}return Math.max(l,1)}(l,t,o);if(c>0){let M,k;const C=c>1?Math.round((g-u)/(c-1)):null;for(Rn(t,m,_,lt(C)?0:u-C,u),M=0,k=c-1;M<k;M++)Rn(t,m,_,l[M],l[M+1]);return Rn(t,m,_,g,lt(C)?t.length:g+C),m}return Rn(t,m,_),m}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),m&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let i,o,t=this.options.reverse;this.isHorizontal()?(i=this.left,o=this.right):(i=this.top,o=this.bottom,t=!t),this._startPixel=i,this._endPixel=o,this._reversePixels=t,this._length=o-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Mt(this.options.afterUpdate,[this])}beforeSetDimensions(){Mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Mt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Mt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const i=this.options.ticks;let o,l,c;for(o=0,l=t.length;o<l;o++)c=t[o],c.label=Mt(i.callback,[c.value,o,t],this)}afterTickToLabelConversion(){Mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,i=t.ticks,o=this.ticks.length,l=i.minRotation||0,c=i.maxRotation;let g,m,_,u=l;if(!this._isVisible()||!i.display||l>=c||o<=1||!this.isHorizontal())return void(this.labelRotation=l);const M=this._getLabelSizes(),k=M.widest.width,C=M.highest.height,A=Ut(this.chart.width-k,0,this.maxWidth);g=t.offset?this.maxWidth/o:A/(o-1),k+6>g&&(g=A/(o-(t.offset?.5:1)),m=this.maxHeight-Ws(t.grid)-i.padding-En(t.title,this.chart.options.font),_=Math.sqrt(k*k+C*C),u=ss(Math.min(Math.asin(Ut((M.highest.height+6)/g,-1,1)),Math.asin(Ut(m/_,-1,1))-Math.asin(Ut(C/_,-1,1)))),u=Math.max(l,Math.min(c,u))),this.labelRotation=u}afterCalculateLabelRotation(){Mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Mt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:i,options:{ticks:o,title:l,grid:c}}=this,u=this._isVisible(),g=this.isHorizontal();if(u){const m=En(l,i.options.font);if(g?(t.width=this.maxWidth,t.height=Ws(c)+m):(t.height=this.maxHeight,t.width=Ws(c)+m),o.display&&this.ticks.length){const{first:_,last:M,widest:k,highest:C}=this._getLabelSizes(),A=2*o.padding,L=Kt(this.labelRotation),I=Math.cos(L),F=Math.sin(L);g?t.height=Math.min(this.maxHeight,t.height+(o.mirror?0:F*k.width+I*C.height)+A):t.width=Math.min(this.maxWidth,t.width+(o.mirror?0:I*k.width+F*C.height)+A),this._calculatePadding(_,M,F,I)}}this._handleMargins(),g?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,i,o,l){const{ticks:{align:c,padding:u},position:g}=this.options,m=0!==this.labelRotation,_="top"!==g&&"x"===this.axis;if(this.isHorizontal()){const M=this.getPixelForTick(0)-this.left,k=this.right-this.getPixelForTick(this.ticks.length-1);let C=0,A=0;m?_?(C=l*t.width,A=o*i.height):(C=o*t.height,A=l*i.width):"start"===c?A=i.width:"end"===c?C=t.width:"inner"!==c&&(C=t.width/2,A=i.width/2),this.paddingLeft=Math.max((C-M+u)*this.width/(this.width-M),0),this.paddingRight=Math.max((A-k+u)*this.width/(this.width-k),0)}else{let M=i.height/2,k=t.height/2;"start"===c?(M=0,k=t.height):"end"===c&&(M=i.height,k=0),this.paddingTop=M+u,this.paddingBottom=k+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Mt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:i}=this.options;return"top"===i||"bottom"===i||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let i,o;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),i=0,o=t.length;i<o;i++)lt(t[i].label)&&(t.splice(i,1),o--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const i=this.options.ticks.sampleSize;let o=this.ticks;i<o.length&&(o=Vs(o,i)),this._labelSizes=t=this._computeLabelSizes(o,o.length)}return t}_computeLabelSizes(t,i){const{ctx:o,_longestTextCache:l}=this,c=[],u=[];let _,M,k,C,A,L,I,F,B,W,j,g=0,m=0;for(_=0;_<i;++_){if(C=t[_].label,A=this._resolveTickFontOptions(_),o.font=L=A.string,I=l[L]=l[L]||{data:{},gc:[]},F=A.lineHeight,B=W=0,lt(C)||bt(C)){if(bt(C))for(M=0,k=C.length;M<k;++M)j=C[M],!lt(j)&&!bt(j)&&(B=Cs(o,I.data,I.gc,B,j),W+=F)}else B=Cs(o,I.data,I.gc,B,C),W=F;c.push(B),u.push(W),g=Math.max(B,g),m=Math.max(W,m)}!function Oi(s,t){_t(s,i=>{const o=i.gc,l=o.length/2;let c;if(l>t){for(c=0;c<l;++c)delete i.data[o[c]];o.splice(0,l)}})}(l,i);const H=c.indexOf(g),$=u.indexOf(m),tt=Z=>({width:c[Z]||0,height:u[Z]||0});return{first:tt(0),last:tt(i-1),widest:tt(H),highest:tt($),widths:c,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,i){return NaN}getValueForPixel(t){}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const i=this._startPixel+t*this._length;return Ke(this._alignToPixels?Ge(this.chart,i,0):i)}getDecimalForPixel(t){const i=(t-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:i}=this;return t<0&&i<0?i:t>0&&i>0?t:0}getContext(t){const i=this.ticks||[];if(t>=0&&t<i.length){const o=i[t];return o.$context||(o.$context=function To(s,t,i){return Le(s,{tick:i,index:t,type:"tick"})}(this.getContext(),t,o))}return this.$context||(this.$context=function Qr(s,t){return Le(s,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,i=Kt(this.labelRotation),o=Math.abs(Math.cos(i)),l=Math.abs(Math.sin(i)),c=this._getLabelSizes(),u=t.autoSkipPadding||0,g=c?c.widest.width+u:0,m=c?c.highest.height+u:0;return this.isHorizontal()?m*o>g*l?g/o:m/l:m*l<g*o?m/o:g/l}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const i=this.axis,o=this.chart,l=this.options,{grid:c,position:u}=l,g=c.offset,m=this.isHorizontal(),M=this.ticks.length+(g?1:0),k=Ws(c),C=[],A=c.setContext(this.getContext()),L=A.drawBorder?A.borderWidth:0,I=L/2,F=function(gt){return Ge(o,gt,L)};let B,W,j,H,$,tt,Z,st,it,Pt,vt,xt;if("top"===u)B=F(this.bottom),tt=this.bottom-k,st=B-I,Pt=F(t.top)+I,xt=t.bottom;else if("bottom"===u)B=F(this.top),Pt=t.top,xt=F(t.bottom)-I,tt=B+I,st=this.top+k;else if("left"===u)B=F(this.right),$=this.right-k,Z=B-I,it=F(t.left)+I,vt=t.right;else if("right"===u)B=F(this.left),it=t.left,vt=F(t.right)-I,$=B+I,Z=this.left+k;else if("x"===i){if("center"===u)B=F((t.top+t.bottom)/2+.5);else if(ht(u)){const gt=Object.keys(u)[0];B=F(this.chart.scales[gt].getPixelForValue(u[gt]))}Pt=t.top,xt=t.bottom,tt=B+I,st=tt+k}else if("y"===i){if("center"===u)B=F((t.left+t.right)/2);else if(ht(u)){const gt=Object.keys(u)[0];B=F(this.chart.scales[gt].getPixelForValue(u[gt]))}$=B-I,Z=$-k,it=t.left,vt=t.right}const Qt=nt(l.ticks.maxTicksLimit,M),xe=Math.max(1,Math.ceil(M/Qt));for(W=0;W<M;W+=xe){const gt=c.setContext(this.getContext(W)),Tt=gt.lineWidth,Go=gt.color,qs=c.borderDash||[],Zo=gt.borderDashOffset,Nn=gt.tickWidth,Or=gt.tickColor,Hn=gt.tickBorderDash||[],Qo=gt.tickBorderDashOffset;j=or(this,W,g),void 0!==j&&(H=Ge(o,j,Tt),m?$=Z=it=vt=H:tt=st=Pt=xt=H,C.push({tx1:$,ty1:tt,tx2:Z,ty2:st,x1:it,y1:Pt,x2:vt,y2:xt,width:Tt,color:Go,borderDash:qs,borderDashOffset:Zo,tickWidth:Nn,tickColor:Or,tickBorderDash:Hn,tickBorderDashOffset:Qo}))}return this._ticksLength=M,this._borderValue=B,C}_computeLabelItems(t){const i=this.axis,o=this.options,{position:l,ticks:c}=o,u=this.isHorizontal(),g=this.ticks,{align:m,crossAlign:_,padding:M,mirror:k}=c,C=Ws(o.grid),A=C+M,L=k?-M:A,I=-Kt(this.labelRotation),F=[];let B,W,j,H,$,tt,Z,st,it,Pt,vt,xt,Qt="middle";if("top"===l)tt=this.bottom-L,Z=this._getXAxisLabelAlignment();else if("bottom"===l)tt=this.top+L,Z=this._getXAxisLabelAlignment();else if("left"===l){const gt=this._getYAxisLabelAlignment(C);Z=gt.textAlign,$=gt.x}else if("right"===l){const gt=this._getYAxisLabelAlignment(C);Z=gt.textAlign,$=gt.x}else if("x"===i){if("center"===l)tt=(t.top+t.bottom)/2+A;else if(ht(l)){const gt=Object.keys(l)[0];tt=this.chart.scales[gt].getPixelForValue(l[gt])+A}Z=this._getXAxisLabelAlignment()}else if("y"===i){if("center"===l)$=(t.left+t.right)/2-A;else if(ht(l)){const gt=Object.keys(l)[0];$=this.chart.scales[gt].getPixelForValue(l[gt])}Z=this._getYAxisLabelAlignment(C).textAlign}"y"===i&&("start"===m?Qt="top":"end"===m&&(Qt="bottom"));const xe=this._getLabelSizes();for(B=0,W=g.length;B<W;++B){j=g[B],H=j.label;const gt=c.setContext(this.getContext(B));st=this.getPixelForTick(B)+c.labelOffset,it=this._resolveTickFontOptions(B),Pt=it.lineHeight,vt=bt(H)?H.length:1;const Tt=vt/2,Go=gt.color,qs=gt.textStrokeColor,Zo=gt.textStrokeWidth;let Or,Nn=Z;if(u?($=st,"inner"===Z&&(Nn=B===W-1?this.options.reverse?"left":"right":0===B?this.options.reverse?"right":"left":"center"),xt="top"===l?"near"===_||0!==I?-vt*Pt+Pt/2:"center"===_?-xe.highest.height/2-Tt*Pt+Pt:Pt/2-xe.highest.height:"near"===_||0!==I?Pt/2:"center"===_?xe.highest.height/2-Tt*Pt:xe.highest.height-vt*Pt,k&&(xt*=-1)):(tt=st,xt=(1-vt)*Pt/2),gt.showLabelBackdrop){const Hn=Nt(gt.backdropPadding),Qo=xe.heights[B],_l=xe.widths[B];let yl=tt+xt-Hn.top,vl=$-Hn.left;switch(Qt){case"middle":yl-=Qo/2;break;case"bottom":yl-=Qo}switch(Z){case"center":vl-=_l/2;break;case"right":vl-=_l}Or={left:vl,top:yl,width:_l+Hn.width,height:Qo+Hn.height,color:gt.backdropColor}}F.push({rotation:I,label:H,font:it,color:Go,strokeColor:qs,strokeWidth:Zo,textOffset:xt,textAlign:Nn,textBaseline:Qt,translation:[$,tt],backdrop:Or})}return F}_getXAxisLabelAlignment(){const{position:t,ticks:i}=this.options;if(-Kt(this.labelRotation))return"top"===t?"left":"right";let l="center";return"start"===i.align?l="left":"end"===i.align?l="right":"inner"===i.align&&(l="inner"),l}_getYAxisLabelAlignment(t){const{position:i,ticks:{crossAlign:o,mirror:l,padding:c}}=this.options,g=t+c,m=this._getLabelSizes().widest.width;let _,M;return"left"===i?l?(M=this.right+c,"near"===o?_="left":"center"===o?(_="center",M+=m/2):(_="right",M+=m)):(M=this.right-g,"near"===o?_="right":"center"===o?(_="center",M-=m/2):(_="left",M=this.left)):"right"===i?l?(M=this.left+c,"near"===o?_="right":"center"===o?(_="center",M-=m/2):(_="left",M-=m)):(M=this.left+g,"near"===o?_="left":"center"===o?(_="center",M+=m/2):(_="right",M=this.right)):_="right",{textAlign:_,x:M}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,i=this.options.position;return"left"===i||"right"===i?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===i||"bottom"===i?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:i},left:o,top:l,width:c,height:u}=this;i&&(t.save(),t.fillStyle=i,t.fillRect(o,l,c,u),t.restore())}getLineWidthForValue(t){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const l=this.ticks.findIndex(c=>c.value===t);return l>=0?i.setContext(this.getContext(l)).lineWidth:0}drawGrid(t){const i=this.options.grid,o=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let c,u;const g=(m,_,M)=>{!M.width||!M.color||(o.save(),o.lineWidth=M.width,o.strokeStyle=M.color,o.setLineDash(M.borderDash||[]),o.lineDashOffset=M.borderDashOffset,o.beginPath(),o.moveTo(m.x,m.y),o.lineTo(_.x,_.y),o.stroke(),o.restore())};if(i.display)for(c=0,u=l.length;c<u;++c){const m=l[c];i.drawOnChartArea&&g({x:m.x1,y:m.y1},{x:m.x2,y:m.y2},m),i.drawTicks&&g({x:m.tx1,y:m.ty1},{x:m.tx2,y:m.ty2},{color:m.tickColor,width:m.tickWidth,borderDash:m.tickBorderDash,borderDashOffset:m.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:i,options:{grid:o}}=this,l=o.setContext(this.getContext()),c=o.drawBorder?l.borderWidth:0;if(!c)return;const u=o.setContext(this.getContext(0)).lineWidth,g=this._borderValue;let m,_,M,k;this.isHorizontal()?(m=Ge(t,this.left,c)-c/2,_=Ge(t,this.right,u)+u/2,M=k=g):(M=Ge(t,this.top,c)-c/2,k=Ge(t,this.bottom,u)+u/2,m=_=g),i.save(),i.lineWidth=l.borderWidth,i.strokeStyle=l.borderColor,i.beginPath(),i.moveTo(m,M),i.lineTo(_,k),i.stroke(),i.restore()}drawLabels(t){if(!this.options.ticks.display)return;const o=this.ctx,l=this._computeLabelArea();l&&Os(o,l);const c=this._labelItems||(this._labelItems=this._computeLabelItems(t));let u,g;for(u=0,g=c.length;u<g;++u){const m=c[u],_=m.font,M=m.label;m.backdrop&&(o.fillStyle=m.backdrop.color,o.fillRect(m.backdrop.left,m.backdrop.top,m.backdrop.width,m.backdrop.height)),Ze(o,M,0,m.textOffset,_,m)}l&&Be(o)}drawTitle(){const{ctx:t,options:{position:i,title:o,reverse:l}}=this;if(!o.display)return;const c=Et(o.font),u=Nt(o.padding),g=o.align;let m=c.lineHeight/2;"bottom"===i||"center"===i||ht(i)?(m+=u.bottom,bt(o.text)&&(m+=c.lineHeight*(o.text.length-1))):m+=u.top;const{titleX:_,titleY:M,maxWidth:k,rotation:C}=function Lo(s,t,i,o){const{top:l,left:c,bottom:u,right:g,chart:m}=s,{chartArea:_,scales:M}=m;let C,A,L,k=0;const I=u-l,F=g-c;if(s.isHorizontal()){if(A=qt(o,c,g),ht(i)){const B=Object.keys(i)[0];L=M[B].getPixelForValue(i[B])+I-t}else L="center"===i?(_.bottom+_.top)/2+I-t:Ao(s,i,t);C=g-c}else{if(ht(i)){const B=Object.keys(i)[0];A=M[B].getPixelForValue(i[B])-F+t}else A="center"===i?(_.left+_.right)/2-F+t:Ao(s,i,t);L=qt(o,u,l),k="left"===i?-kt:kt}return{titleX:A,titleY:L,maxWidth:C,rotation:k}}(this,m,i,g);Ze(t,o.text,0,0,c,{color:o.color,maxWidth:k,rotation:C,textAlign:In(g,i,l),textBaseline:"middle",translation:[_,M]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,i=t.ticks&&t.ticks.z||0,o=nt(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===oi.prototype.draw?[{z:o,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:o+1,draw:()=>{this.drawBorder()}},{z:i,draw:l=>{this.drawLabels(l)}}]:[{z:i,draw:l=>{this.draw(l)}}]}getMatchingVisibleMetas(t){const i=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",l=[];let c,u;for(c=0,u=i.length;c<u;++c){const g=i[c];g[o]===this.id&&(!t||g.type===t)&&l.push(g)}return l}_resolveTickFontOptions(t){return Et(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ns{constructor(t,i,o){this.type=t,this.scope=i,this.override=o,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const i=Object.getPrototypeOf(t);let o;(function Eo(s){return"id"in s&&"defaults"in s})(i)&&(o=this.register(i));const l=this.items,c=t.id,u=this.scope+"."+c;if(!c)throw new Error("class does not have id: "+t);return c in l||(l[c]=t,function Jr(s,t,i){const o=rt(Object.create(null),[i?ot.get(i):{},ot.get(t),s.defaults]);ot.set(t,o),s.defaultRoutes&&function Ro(s,t){Object.keys(t).forEach(i=>{const o=i.split("."),l=o.pop(),c=[s].concat(o).join("."),u=t[i].split("."),g=u.pop(),m=u.join(".");ot.route(c,l,m,g)})}(t,s.defaultRoutes),s.descriptors&&ot.describe(t,s.descriptors)}(t,u,o),this.override&&ot.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const i=this.items,o=t.id,l=this.scope;o in i&&delete i[o],l&&o in ot[l]&&(delete ot[l][o],this.override&&delete fi[o])}}var Ee=new class ar{constructor(){this.controllers=new Ns(ee,"datasets",!0),this.elements=new Ns(de,"elements"),this.plugins=new Ns(Object,"plugins"),this.scales=new Ns(oi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,i,o){[...i].forEach(l=>{const c=o||this._getRegistryForType(l);o||c.isForType(l)||c===this.plugins&&l.id?this._exec(t,c,l):_t(l,u=>{const g=o||this._getRegistryForType(u);this._exec(t,g,u)})})}_exec(t,i,o){const l=Zi(t);Mt(o["before"+l],[],o),i[t](o),Mt(o["after"+l],[],o)}_getRegistryForType(t){for(let i=0;i<this._typedRegistries.length;i++){const o=this._typedRegistries[i];if(o.isForType(t))return o}return this.plugins}_get(t,i,o){const l=i.get(t);if(void 0===l)throw new Error('"'+t+'" is not a registered '+o+".");return l}};class tl{constructor(){this._init=[]}notify(t,i,o,l){"beforeInit"===i&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const c=l?this._descriptors(t).filter(l):this._descriptors(t),u=this._notify(c,t,i,o);return"afterDestroy"===i&&(this._notify(c,t,"stop"),this._notify(this._init,t,"uninstall")),u}_notify(t,i,o,l){l=l||{};for(const c of t){const u=c.plugin;if(!1===Mt(u[o],[i,l,c.options],u)&&l.cancelable)return!1}return!0}invalidate(){lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),i}_createDescriptors(t,i){const o=t&&t.config,l=nt(o.options&&o.options.plugins,{}),c=function el(s){const t=[],i=Object.keys(Ee.plugins.items);for(let l=0;l<i.length;l++)t.push(Ee.getPlugin(i[l]));const o=s.plugins||[];for(let l=0;l<o.length;l++){const c=o[l];-1===t.indexOf(c)&&t.push(c)}return t}(o);return!1!==l||i?function sl(s,t,i,o){const l=[],c=s.getContext();for(let u=0;u<t.length;u++){const g=t[u],_=il(i[g.id],o);null!==_&&l.push({plugin:g,options:rr(s.config,g,_,c)})}return l}(t,c,l,i):[]}_notifyStateChanges(t){const i=this._oldCache||[],o=this._cache,l=(c,u)=>c.filter(g=>!u.some(m=>g.plugin.id===m.plugin.id));this._notify(l(i,o),t,"stop"),this._notify(l(o,i),t,"start")}}function il(s,t){return t||!1!==s?!0===s?{}:s:null}function rr(s,t,i,o){const l=s.pluginScopeKeys(t),c=s.getOptionScopes(i,l);return s.createResolver(c,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Io(s,t){return((t.datasets||{})[s]||{}).indexAxis||t.indexAxis||(ot.datasets[s]||{}).indexAxis||"x"}function zo(s,t){return"x"===s||"y"===s?s:t.axis||function hr(s){return"top"===s||"bottom"===s?"x":"left"===s||"right"===s?"y":void 0}(t.position)||s.charAt(0).toLowerCase()}function dr(s){const t=s.options||(s.options={});t.plugins=nt(t.plugins,{}),t.scales=function cr(s,t){const i=fi[s.type]||{scales:{}},o=t.scales||{},l=Io(s.type,t),c=Object.create(null),u=Object.create(null);return Object.keys(o).forEach(g=>{const m=o[g];if(!ht(m))return console.error(`Invalid scale configuration for scale: ${g}`);if(m._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${g}`);const _=zo(g,m),M=function lr(s,t){return s===t?"_index_":"_value_"}(_,l),k=i.scales||{};c[_]=c[_]||g,u[g]=Ye(Object.create(null),[{axis:_},m,k[_],k[M]])}),s.data.datasets.forEach(g=>{const m=g.type||s.type,_=g.indexAxis||Io(m,t),k=(fi[m]||{}).scales||{};Object.keys(k).forEach(C=>{const A=function Fo(s,t){let i=s;return"_index_"===s?i=t:"_value_"===s&&(i="x"===t?"y":"x"),i}(C,_),L=g[A+"AxisID"]||c[A]||A;u[L]=u[L]||Object.create(null),Ye(u[L],[{axis:A},o[L],k[C]])})}),Object.keys(u).forEach(g=>{const m=u[g];Ye(m,[ot.scales[m.type],ot.scale])}),u}(s,t)}function Bo(s){return(s=s||{}).datasets=s.datasets||[],s.labels=s.labels||[],s}const fr=new Map,Fn=new Set;function zn(s,t){let i=fr.get(s);return i||(i=t(),fr.set(s,i),Fn.add(i)),i}const Ai=(s,t,i)=>{const o=Oe(t,i);void 0!==o&&s.add(o)};class nl{constructor(t){this._config=function ur(s){return(s=s||{}).data=Bo(s.data),dr(s),s}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Bo(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),dr(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return zn(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,i){return zn(`${t}.transition.${i}`,()=>[[`datasets.${t}.transitions.${i}`,`transitions.${i}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,i){return zn(`${t}-${i}`,()=>[[`datasets.${t}.elements.${i}`,`datasets.${t}`,`elements.${i}`,""]])}pluginScopeKeys(t){const i=t.id;return zn(`${this.type}-plugin-${i}`,()=>[[`plugins.${i}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,i){const o=this._scopeCache;let l=o.get(t);return(!l||i)&&(l=new Map,o.set(t,l)),l}getOptionScopes(t,i,o){const{options:l,type:c}=this,u=this._cachedScopes(t,o),g=u.get(i);if(g)return g;const m=new Set;i.forEach(M=>{t&&(m.add(t),M.forEach(k=>Ai(m,t,k))),M.forEach(k=>Ai(m,l,k)),M.forEach(k=>Ai(m,fi[c]||{},k)),M.forEach(k=>Ai(m,ot,k)),M.forEach(k=>Ai(m,At,k))});const _=Array.from(m);return 0===_.length&&_.push(Object.create(null)),Fn.has(i)&&u.set(i,_),_}chartOptionScopes(){const{options:t,type:i}=this;return[t,fi[i]||{},ot.datasets[i]||{},{type:i},ot,At]}resolveNamedOptions(t,i,o,l=[""]){const c={$shared:!0},{resolver:u,subPrefixes:g}=bs(this._resolverCache,t,l);let m=u;(function ai(s,t){const{isScriptable:i,isIndexable:o}=xi(s);for(const l of t){const c=i(l),u=o(l),g=(u||c)&&s[l];if(c&&(ut(g)||Ne(g))||u&&bt(g))return!0}return!1})(u,i)&&(c.$shared=!1,m=bi(u,o=ut(o)?o():o,this.createResolver(t,o,g)));for(const _ of i)c[_]=m[_];return c}createResolver(t,i,o=[""],l){const{resolver:c}=bs(this._resolverCache,t,o);return ht(i)?bi(c,i,void 0,l):c}}function bs(s,t,i){let o=s.get(t);o||(o=new Map,s.set(t,o));const l=i.join();let c=o.get(l);return c||(c={resolver:As(t,i),subPrefixes:i.filter(g=>!g.toLowerCase().includes("hover"))},o.set(l,c)),c}const Ne=s=>ht(s)&&Object.getOwnPropertyNames(s).reduce((t,i)=>t||ut(s[i]),!1),gr=["top","bottom","left","right","chartArea"];function pr(s,t){return"top"===s||"bottom"===s||-1===gr.indexOf(s)&&"x"===t}function Vo(s,t){return function(i,o){return i[s]===o[s]?i[t]-o[t]:i[s]-o[s]}}function Wo(s){const t=s.chart,i=t.options.animation;t.notifyPlugins("afterRender"),Mt(i&&i.onComplete,[s],t)}function Bn(s){const t=s.chart,i=t.options.animation;Mt(i&&i.onProgress,[s],t)}function No(s){return Bi()&&"string"==typeof s?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const Hs={},Vn=s=>{const t=No(s);return Object.values(Hs).filter(i=>i.canvas===t).pop()};function al(s,t,i){const o=Object.keys(s);for(const l of o){const c=+l;if(c>=t){const u=s[l];delete s[l],(i>0||c>t)&&(s[c+i]=u)}}}class Bt{constructor(t,i){const o=this.config=new nl(i),l=No(t),c=Vn(l);if(c)throw new Error("Canvas is already in use. Chart with ID '"+c.id+"' must be destroyed before the canvas can be reused.");const u=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||Xa(l)),this.platform.updateConfig(o);const g=this.platform.acquireContext(l,u.aspectRatio),m=g&&g.canvas,_=m&&m.height,M=m&&m.width;this.id=qn(),this.ctx=g,this.canvas=m,this.width=M,this.height=_,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new tl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=xs(k=>this.update(k),u.resizeDelay||0),this._dataChanges=[],Hs[this.id]=this,g&&m?(Jt.listen(this,"complete",Wo),Jt.listen(this,"progress",Bn),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:i},width:o,height:l,_aspectRatio:c}=this;return lt(t)?i&&c?c:l?o/l:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ds(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return fn(this.canvas,this.ctx),this}stop(){return Jt.stop(this),this}resize(t,i){Jt.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){const o=this.options,u=this.platform.getMaximumSize(this.canvas,t,i,o.maintainAspectRatio&&this.aspectRatio),g=o.devicePixelRatio||this.platform.getDevicePixelRatio(),m=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,Ds(this,g,!0)&&(this.notifyPlugins("resize",{size:u}),Mt(o.onResize,[this,u],this),this.attached&&this._doResize(m)&&this.render())}ensureScalesHaveIDs(){_t(this.options.scales||{},(o,l)=>{o.id=l})}buildOrUpdateScales(){const t=this.options,i=t.scales,o=this.scales,l=Object.keys(o).reduce((u,g)=>(u[g]=!1,u),{});let c=[];i&&(c=c.concat(Object.keys(i).map(u=>{const g=i[u],m=zo(u,g),_="r"===m,M="x"===m;return{options:g,dposition:_?"chartArea":M?"bottom":"left",dtype:_?"radialLinear":M?"category":"linear"}}))),_t(c,u=>{const g=u.options,m=g.id,_=zo(m,g),M=nt(g.type,u.dtype);(void 0===g.position||pr(g.position,_)!==pr(u.dposition))&&(g.position=u.dposition),l[m]=!0;let k=null;m in o&&o[m].type===M?k=o[m]:(k=new(Ee.getScale(M))({id:m,type:M,ctx:this.ctx,chart:this}),o[k.id]=k),k.init(g,t)}),_t(l,(u,g)=>{u||delete o[g]}),_t(o,u=>{Zt.configure(this,u,u.options),Zt.addBox(this,u)})}_updateMetasets(){const t=this._metasets,i=this.data.datasets.length,o=t.length;if(t.sort((l,c)=>l.index-c.index),o>i){for(let l=i;l<o;++l)this._destroyDatasetMeta(l);t.splice(i,o-i)}this._sortedMetasets=t.slice(0).sort(Vo("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((o,l)=>{0===i.filter(c=>c===o._dataset).length&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const t=[],i=this.data.datasets;let o,l;for(this._removeUnreferencedMetasets(),o=0,l=i.length;o<l;o++){const c=i[o];let u=this.getDatasetMeta(o);const g=c.type||this.config.type;if(u.type&&u.type!==g&&(this._destroyDatasetMeta(o),u=this.getDatasetMeta(o)),u.type=g,u.indexAxis=c.indexAxis||Io(g,this.options),u.order=c.order||0,u.index=o,u.label=""+c.label,u.visible=this.isDatasetVisible(o),u.controller)u.controller.updateIndex(o),u.controller.linkScales();else{const m=Ee.getController(g),{datasetElementType:_,dataElementType:M}=ot.datasets[g];Object.assign(m.prototype,{dataElementType:Ee.getElement(M),datasetElementType:_&&Ee.getElement(_)}),u.controller=new m(this,o),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){_t(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const i=this.config;i.update();const o=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const c=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let _=0,M=this.data.datasets.length;_<M;_++){const{controller:k}=this.getDatasetMeta(_),C=!l&&-1===c.indexOf(k);k.buildOrUpdateElements(C),u=Math.max(+k.getMaxOverflow(),u)}u=this._minPadding=o.layout.autoPadding?u:0,this._updateLayout(u),l||_t(c,_=>{_.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Vo("z","_idx"));const{_active:g,_lastEvent:m}=this;m?this._eventHandler(m,!0):g.length&&this._updateHoverStyles(g,g,!0),this.render()}_updateScales(){_t(this.scales,t=>{Zt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,i=new Set(Object.keys(this._listeners)),o=new Set(t.events);(!an(i,o)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(const{method:o,start:l,count:c}of i)al(t,l,"_removeElements"===o?-c:c)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const i=this.data.datasets.length,o=c=>new Set(t.filter(u=>u[0]===c).map((u,g)=>g+","+u.splice(1).join(","))),l=o(0);for(let c=1;c<i;c++)if(!an(l,o(c)))return;return Array.from(l).map(c=>c.split(",")).map(c=>({method:c[1],start:+c[2],count:+c[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Zt.update(this,this.width,this.height,t);const i=this.chartArea,o=i.width<=0||i.height<=0;this._layers=[],_t(this.boxes,l=>{o&&"chartArea"===l.position||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,c)=>{l._idx=c}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let i=0,o=this.data.datasets.length;i<o;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,o=this.data.datasets.length;i<o;++i)this._updateDataset(i,ut(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){const o=this.getDatasetMeta(t),l={meta:o,index:t,mode:i,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",l)&&(o.controller._update(i),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Jt.has(this)?this.attached&&!Jt.running(this)&&Jt.start(this):(this.draw(),Wo({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:o,height:l}=this._resizeBeforeDraw;this._resize(o,l),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const i=this._sortedMetasets,o=[];let l,c;for(l=0,c=i.length;l<c;++l){const u=i[l];(!t||u.visible)&&o.push(u)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const i=this.ctx,o=t._clip,l=!o.disabled,c=this.chartArea,u={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",u)&&(l&&Os(i,{left:!1===o.left?0:c.left-o.left,right:!1===o.right?this.width:c.right+o.right,top:!1===o.top?0:c.top-o.top,bottom:!1===o.bottom?this.height:c.bottom+o.bottom}),t.controller.draw(),l&&Be(i),u.cancelable=!1,this.notifyPlugins("afterDatasetDraw",u))}isPointInArea(t){return mi(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,o,l){const c=Fa.modes[i];return"function"==typeof c?c(this,t,o,l):[]}getDatasetMeta(t){const i=this.data.datasets[t],o=this._metasets;let l=o.filter(c=>c&&c._dataset===i).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},o.push(l)),l}getContext(){return this.$context||(this.$context=Le(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const i=this.data.datasets[t];if(!i)return!1;const o=this.getDatasetMeta(t);return"boolean"==typeof o.hidden?!o.hidden:!i.hidden}setDatasetVisibility(t,i){this.getDatasetMeta(t).hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,o){const l=o?"show":"hide",c=this.getDatasetMeta(t),u=c.controller._resolveAnimations(void 0,l);ct(i)?(c.data[i].hidden=!o,this.update()):(this.setDatasetVisibility(t,o),u.update(c,{visible:o}),this.update(g=>g.datasetIndex===t?l:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){const i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),Jt.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),fn(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Hs[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,i=this.platform,o=(c,u)=>{i.addEventListener(this,c,u),t[c]=u},l=(c,u,g)=>{c.offsetX=u,c.offsetY=g,this._eventHandler(c)};_t(this.options.events,c=>o(c,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,i=this.platform,o=(m,_)=>{i.addEventListener(this,m,_),t[m]=_},l=(m,_)=>{t[m]&&(i.removeEventListener(this,m,_),delete t[m])},c=(m,_)=>{this.canvas&&this.resize(m,_)};let u;const g=()=>{l("attach",g),this.attached=!0,this.resize(),o("resize",c),o("detach",u)};u=()=>{this.attached=!1,l("resize",c),this._stop(),this._resize(0,0),o("attach",g)},i.isAttached(this.canvas)?g():u()}unbindEvents(){_t(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},_t(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,o){const l=o?"set":"remove";let c,u,g,m;for("dataset"===i&&(c=this.getDatasetMeta(t[0].datasetIndex),c.controller["_"+l+"DatasetHoverStyle"]()),g=0,m=t.length;g<m;++g){u=t[g];const _=u&&this.getDatasetMeta(u.datasetIndex).controller;_&&_[l+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const i=this._active||[],o=t.map(({datasetIndex:c,index:u})=>{const g=this.getDatasetMeta(c);if(!g)throw new Error("No dataset found at index "+c);return{datasetIndex:c,element:g.data[u],index:u}});!De(o,i)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,i))}notifyPlugins(t,i,o){return this._plugins.notify(this,t,i,o)}_updateHoverStyles(t,i,o){const l=this.options.hover,c=(m,_)=>m.filter(M=>!_.some(k=>M.datasetIndex===k.datasetIndex&&M.index===k.index)),u=c(i,t),g=o?t:c(t,i);u.length&&this.updateHoverStyle(u,l.mode,!1),g.length&&l.mode&&this.updateHoverStyle(g,l.mode,!0)}_eventHandler(t,i){const o={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},l=u=>(u.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",o,l))return;const c=this._handleEvent(t,i,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,l),(c||o.changed)&&this.render(),this}_handleEvent(t,i,o){const{_active:l=[],options:c}=this,g=this._getActiveElements(t,l,o,i),m=Qi(t),_=function mr(s,t,i,o){return i&&"mouseout"!==s.type?o?t:s:null}(t,this._lastEvent,o,m);o&&(this._lastEvent=null,Mt(c.onHover,[t,g,this],this),m&&Mt(c.onClick,[t,g,this],this));const M=!De(g,l);return(M||i)&&(this._active=g,this._updateHoverStyles(g,l,i)),this._lastEvent=_,M}_getActiveElements(t,i,o,l){if("mouseout"===t.type)return[];if(!o)return i;const c=this.options.hover;return this.getElementsAtEventForMode(t,c.mode,c,l)}}const js=()=>_t(Bt.instances,s=>s._plugins.invalidate()),ri=!0;function He(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}Object.defineProperties(Bt,{defaults:{enumerable:ri,value:ot},instances:{enumerable:ri,value:Hs},overrides:{enumerable:ri,value:fi},registry:{enumerable:ri,value:Ee},version:{enumerable:ri,value:"3.8.0"},getChart:{enumerable:ri,value:Vn},register:{enumerable:ri,value:(...s)=>{Ee.add(...s),js()}},unregister:{enumerable:ri,value:(...s)=>{Ee.remove(...s),js()}}});class $s{constructor(t){this.options=t||{}}formats(){return He()}parse(t,i){return He()}format(t,i){return He()}add(t,i,o){return He()}diff(t,i,o){return He()}startOf(t,i,o){return He()}endOf(t,i){return He()}}$s.override=function(s){Object.assign($s.prototype,s)};var Ho={_date:$s};function $o(s){const t=s.iScale,i=function jo(s,t){if(!s._cache.$bar){const i=s.getMatchingVisibleMetas(t);let o=[];for(let l=0,c=i.length;l<c;l++)o=o.concat(i[l].controller.getAllParsedValues(s));s._cache.$bar=ts(o.sort((l,c)=>l-c))}return s._cache.$bar}(t,s.type);let l,c,u,g,o=t._length;const m=()=>{32767===u||-32768===u||(ct(g)&&(o=Math.min(o,Math.abs(u-g)||o)),g=u)};for(l=0,c=i.length;l<c;++l)u=t.getPixelForValue(i[l]),m();for(g=void 0,l=0,c=t.ticks.length;l<c;++l)u=t.getPixelForTick(l),m();return o}function xr(s,t,i,o){return bt(s)?function ll(s,t,i,o){const l=i.parse(s[0],o),c=i.parse(s[1],o),u=Math.min(l,c),g=Math.max(l,c);let m=u,_=g;Math.abs(u)>Math.abs(g)&&(m=g,_=u),t[i.axis]=_,t._custom={barStart:m,barEnd:_,start:l,end:c,min:u,max:g}}(s,t,i,o):t[i.axis]=i.parse(s,o),t}function _r(s,t,i,o){const l=s.iScale,c=s.vScale,u=l.getLabels(),g=l===c,m=[];let _,M,k,C;for(_=i,M=i+o;_<M;++_)C=t[_],k={},k[l.axis]=g||l.parse(u[_],_),m.push(xr(C,k,c,_));return m}function Yo(s){return s&&void 0!==s.barStart&&void 0!==s.barEnd}function Wn(s,t,i,o){let l=t.borderSkipped;const c={};if(!l)return void(s.borderSkipped=c);const{start:u,end:g,reverse:m,top:_,bottom:M}=function Ys(s){let t,i,o,l,c;return s.horizontal?(t=s.base>s.x,i="left",o="right"):(t=s.base<s.y,i="bottom",o="top"),t?(l="end",c="start"):(l="start",c="end"),{start:i,end:o,reverse:t,top:l,bottom:c}}(s);"middle"===l&&i&&(s.enableBorderRadius=!0,(i._top||0)===o?l=_:(i._bottom||0)===o?l=M:(c[ae(M,u,g,m)]=!0,l=_)),c[ae(l,u,g,m)]=!0,s.borderSkipped=c}function ae(s,t,i,o){return o?(s=function hl(s,t,i){return s===t?i:s===i?t:s}(s,t,i),s=Uo(s,i,t)):s=Uo(s,t,i),s}function Uo(s,t,i){return"start"===s?t:"end"===s?i:s}function vr(s,{inflateAmount:t},i){s.inflateAmount="auto"===t?1===i?.33:0:t}class Us extends ee{parsePrimitiveData(t,i,o,l){return _r(t,i,o,l)}parseArrayData(t,i,o,l){return _r(t,i,o,l)}parseObjectData(t,i,o,l){const{iScale:c,vScale:u}=t,{xAxisKey:g="x",yAxisKey:m="y"}=this._parsing,_="x"===c.axis?g:m,M="x"===u.axis?g:m,k=[];let C,A,L,I;for(C=o,A=o+l;C<A;++C)I=i[C],L={},L[c.axis]=c.parse(Oe(I,_),C),k.push(xr(Oe(I,M),L,u,C));return k}updateRangeFromParsed(t,i,o,l){super.updateRangeFromParsed(t,i,o,l);const c=o._custom;c&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,c.min),t.max=Math.max(t.max,c.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const i=this._cachedMeta,{iScale:o,vScale:l}=i,c=this.getParsed(t),u=c._custom,g=Yo(u)?"["+u.start+", "+u.end+"]":""+l.getLabelForValue(c[l.axis]);return{label:""+o.getLabelForValue(c[o.axis]),value:g}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,o,l){const c="reset"===l,{index:u,_cachedMeta:{vScale:g}}=this,m=g.getBasePixel(),_=g.isHorizontal(),M=this._getRuler(),k=this.resolveDataElementOptions(i,l),C=this.getSharedOptions(k),A=this.includeOptions(l,C);this.updateSharedOptions(C,l,k);for(let L=i;L<i+o;L++){const I=this.getParsed(L),F=c||lt(I[g.axis])?{base:m,head:m}:this._calculateBarValuePixels(L),B=this._calculateBarIndexPixels(L,M),W=(I._stacks||{})[g.axis],j={horizontal:_,base:F.base,enableBorderRadius:!W||Yo(I._custom)||u===W._top||u===W._bottom,x:_?F.head:B.center,y:_?B.center:F.head,height:_?B.size:Math.abs(F.size),width:_?Math.abs(F.size):B.size};A&&(j.options=C||this.resolveDataElementOptions(L,t[L].active?"active":l));const H=j.options||t[L].options;Wn(j,H,W,u),vr(j,H,M.ratio),this.updateElement(t[L],L,j,l)}}_getStacks(t,i){const l=this._cachedMeta.iScale,c=l.getMatchingVisibleMetas(this._type),u=l.options.stacked,g=c.length,m=[];let _,M;for(_=0;_<g;++_)if(M=c[_],M.controller.options.grouped){if(void 0!==i){const k=M.controller.getParsed(i)[M.controller._cachedMeta.vScale.axis];if(lt(k)||isNaN(k))continue}if((!1===u||-1===m.indexOf(M.stack)||void 0===u&&void 0===M.stack)&&m.push(M.stack),M.index===t)break}return m.length||m.push(void 0),m}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,o){const l=this._getStacks(t,o),c=void 0!==i?l.indexOf(i):-1;return-1===c?l.length-1:c}_getRuler(){const t=this.options,i=this._cachedMeta,o=i.iScale,l=[];let c,u;for(c=0,u=i.data.length;c<u;++c)l.push(o.getPixelForValue(this.getParsed(c)[o.axis],c));const g=t.barThickness;return{min:g||$o(i),pixels:l,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:t.grouped,ratio:g?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:i,_stacked:o},options:{base:l,minBarLength:c}}=this,u=l||0,g=this.getParsed(t),m=g._custom,_=Yo(m);let A,L,M=g[i.axis],k=0,C=o?this.applyStack(i,g,o):M;C!==M&&(k=C-M,C=M),_&&(M=m.barStart,C=m.barEnd-m.barStart,0!==M&&pe(M)!==pe(m.barEnd)&&(k=0),k+=M);const I=lt(l)||_?k:l;let F=i.getPixelForValue(I);if(A=this.chart.getDataVisibility(t)?i.getPixelForValue(k+C):F,L=A-F,Math.abs(L)<c){L=function yr(s,t,i){return 0!==s?pe(s):(t.isHorizontal()?1:-1)*(t.min>=i?1:-1)}(L,i,u)*c,M===u&&(F-=L/2);const B=i.getPixelForDecimal(0),W=i.getPixelForDecimal(1),j=Math.min(B,W),H=Math.max(B,W);F=Math.max(Math.min(F,H),j),A=F+L}if(F===i.getPixelForValue(u)){const B=pe(L)*i.getLineWidthForValue(u)/2;F+=B,L-=B}return{size:L,base:F,head:A,center:A+L/2}}_calculateBarIndexPixels(t,i){const o=i.scale,l=this.options,c=l.skipNull,u=nt(l.maxBarThickness,1/0);let g,m;if(i.grouped){const _=c?this._getStackCount(t):i.stackCount,M="flex"===l.barThickness?function rl(s,t,i,o){const l=t.pixels,c=l[s];let u=s>0?l[s-1]:null,g=s<l.length-1?l[s+1]:null;const m=i.categoryPercentage;null===u&&(u=c-(null===g?t.end-t.start:g-c)),null===g&&(g=c+c-u);const _=c-(c-Math.min(u,g))/2*m;return{chunk:Math.abs(g-u)/2*m/o,ratio:i.barPercentage,start:_}}(t,i,l,_):function br(s,t,i,o){const l=i.barThickness;let c,u;return lt(l)?(c=t.min*i.categoryPercentage,u=i.barPercentage):(c=l*o,u=1),{chunk:c/o,ratio:u,start:t.pixels[s]-c/2}}(t,i,l,_),k=this._getStackIndex(this.index,this._cachedMeta.stack,c?t:void 0);g=M.start+M.chunk*k+M.chunk/2,m=Math.min(u,M.chunk*M.ratio)}else g=o.getPixelForValue(this.getParsed(t)[o.axis],t),m=Math.min(u,i.min*i.ratio);return{base:g-m/2,head:g+m/2,center:g,size:m}}draw(){const t=this._cachedMeta,i=t.vScale,o=t.data,l=o.length;let c=0;for(;c<l;++c)null!==this.getParsed(c)[i.axis]&&o[c].draw(this._ctx)}}Us.id="bar",Us.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Us.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Xs extends ee{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,o,l){const c=super.parsePrimitiveData(t,i,o,l);for(let u=0;u<c.length;u++)c[u]._custom=this.resolveDataElementOptions(u+o).radius;return c}parseArrayData(t,i,o,l){const c=super.parseArrayData(t,i,o,l);for(let u=0;u<c.length;u++)c[u]._custom=nt(i[o+u][2],this.resolveDataElementOptions(u+o).radius);return c}parseObjectData(t,i,o,l){const c=super.parseObjectData(t,i,o,l);for(let u=0;u<c.length;u++){const g=i[o+u];c[u]._custom=nt(g&&g.r&&+g.r,this.resolveDataElementOptions(u+o).radius)}return c}getMaxOverflow(){const t=this._cachedMeta.data;let i=0;for(let o=t.length-1;o>=0;--o)i=Math.max(i,t[o].size(this.resolveDataElementOptions(o))/2);return i>0&&i}getLabelAndValue(t){const i=this._cachedMeta,{xScale:o,yScale:l}=i,c=this.getParsed(t),u=o.getLabelForValue(c.x),g=l.getLabelForValue(c.y),m=c._custom;return{label:i.label,value:"("+u+", "+g+(m?", "+m:"")+")"}}update(t){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,o,l){const c="reset"===l,{iScale:u,vScale:g}=this._cachedMeta,m=this.resolveDataElementOptions(i,l),_=this.getSharedOptions(m),M=this.includeOptions(l,_),k=u.axis,C=g.axis;for(let A=i;A<i+o;A++){const L=t[A],I=!c&&this.getParsed(A),F={},B=F[k]=c?u.getPixelForDecimal(.5):u.getPixelForValue(I[k]),W=F[C]=c?g.getBasePixel():g.getPixelForValue(I[C]);F.skip=isNaN(B)||isNaN(W),M&&(F.options=this.resolveDataElementOptions(A,L.active?"active":l),c&&(F.options.radius=0)),this.updateElement(L,A,F,l)}this.updateSharedOptions(_,l,m)}resolveDataElementOptions(t,i){const o=this.getParsed(t);let l=super.resolveDataElementOptions(t,i);l.$shared&&(l=Object.assign({},l,{$shared:!1}));const c=l.radius;return"active"!==i&&(l.radius=0),l.radius+=nt(o&&o._custom,c),l}}Xs.id="bubble",Xs.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Xs.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class li extends ee{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){const o=this.getDataset().data,l=this._cachedMeta;if(!1===this._parsing)l._parsed=o;else{let u,g,c=m=>+o[m];if(ht(o[t])){const{key:m="value"}=this._parsing;c=_=>+Oe(o[_],m)}for(u=t,g=t+i;u<g;++u)l._parsed[u]=c(u)}}_getRotation(){return Kt(this.options.rotation-90)}_getCircumference(){return Kt(this.options.circumference)}_getRotationExtents(){let t=yt,i=-yt;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)){const l=this.chart.getDatasetMeta(o).controller,c=l._getRotation(),u=l._getCircumference();t=Math.min(t,c),i=Math.max(i,c+u)}return{rotation:t,circumference:i-t}}update(t){const i=this.chart,{chartArea:o}=i,l=this._cachedMeta,c=l.data,u=this.getMaxBorderWidth()+this.getMaxOffset(c)+this.options.spacing,g=Math.max((Math.min(o.width,o.height)-u)/2,0),m=Math.min(le(this.options.cutout,g),1),_=this._getRingWeight(this.index),{circumference:M,rotation:k}=this._getRotationExtents(),{ratioX:C,ratioY:A,offsetX:L,offsetY:I}=function Ks(s,t,i){let o=1,l=1,c=0,u=0;if(t<yt){const g=s,m=g+t,_=Math.cos(g),M=Math.sin(g),k=Math.cos(m),C=Math.sin(m),A=(j,H,$)=>ze(j,g,m,!0)?1:Math.max(H,H*i,$,$*i),L=(j,H,$)=>ze(j,g,m,!0)?-1:Math.min(H,H*i,$,$*i),I=A(0,_,k),F=A(kt,M,C),B=L(St,_,k),W=L(St+kt,M,C);o=(I-B)/2,l=(F-W)/2,c=-(I+B)/2,u=-(F+W)/2}return{ratioX:o,ratioY:l,offsetX:c,offsetY:u}}(k,M,m),W=Math.max(Math.min((o.width-u)/C,(o.height-u)/A)/2,0),j=Pe(this.options.radius,W),$=(j-Math.max(j*m,0))/this._getVisibleDatasetWeightTotal();this.offsetX=L*j,this.offsetY=I*j,l.total=this.calculateTotal(),this.outerRadius=j-$*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-$*_,0),this.updateElements(c,0,c.length,t)}_circumference(t,i){const o=this.options,l=this._cachedMeta,c=this._getCircumference();return i&&o.animation.animateRotate||!this.chart.getDataVisibility(t)||null===l._parsed[t]||l.data[t].hidden?0:this.calculateCircumference(l._parsed[t]*c/yt)}updateElements(t,i,o,l){const c="reset"===l,u=this.chart,g=u.chartArea,M=(g.left+g.right)/2,k=(g.top+g.bottom)/2,C=c&&u.options.animation.animateScale,A=C?0:this.innerRadius,L=C?0:this.outerRadius,I=this.resolveDataElementOptions(i,l),F=this.getSharedOptions(I),B=this.includeOptions(l,F);let j,W=this._getRotation();for(j=0;j<i;++j)W+=this._circumference(j,c);for(j=i;j<i+o;++j){const H=this._circumference(j,c),$=t[j],tt={x:M+this.offsetX,y:k+this.offsetY,startAngle:W,endAngle:W+H,circumference:H,outerRadius:L,innerRadius:A};B&&(tt.options=F||this.resolveDataElementOptions(j,$.active?"active":l)),W+=H,this.updateElement($,j,tt,l)}this.updateSharedOptions(F,l,I)}calculateTotal(){const t=this._cachedMeta,i=t.data;let l,o=0;for(l=0;l<i.length;l++){const c=t._parsed[l];null!==c&&!isNaN(c)&&this.chart.getDataVisibility(l)&&!i[l].hidden&&(o+=Math.abs(c))}return o}calculateCircumference(t){const i=this._cachedMeta.total;return i>0&&!isNaN(t)?yt*(Math.abs(t)/i):0}getLabelAndValue(t){const o=this.chart,l=o.data.labels||[],c=Ve(this._cachedMeta._parsed[t],o.options.locale);return{label:l[t]||"",value:c}}getMaxBorderWidth(t){let i=0;const o=this.chart;let l,c,u,g,m;if(!t)for(l=0,c=o.data.datasets.length;l<c;++l)if(o.isDatasetVisible(l)){u=o.getDatasetMeta(l),t=u.data,g=u.controller;break}if(!t)return 0;for(l=0,c=t.length;l<c;++l)m=g.resolveDataElementOptions(l),"inner"!==m.borderAlign&&(i=Math.max(i,m.borderWidth||0,m.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let o=0,l=t.length;o<l;++o){const c=this.resolveDataElementOptions(o);i=Math.max(i,c.offset||0,c.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let o=0;o<t;++o)this.chart.isDatasetVisible(o)&&(i+=this._getRingWeight(o));return i}_getRingWeight(t){return Math.max(nt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}li.id="doughnut",li.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},li.descriptors={_scriptable:s=>"spacing"!==s,_indexable:s=>"spacing"!==s},li.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const t=s.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i}}=s.legend.options;return t.labels.map((o,l)=>{const u=s.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,lineWidth:u.borderWidth,pointStyle:i,hidden:!s.getDataVisibility(l),index:l}})}return[]}},onClick(s,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(s){let t=s.label;const i=": "+s.formattedValue;return bt(t)?(t=t.slice(),t[0]+=i):t+=i,t}}}}};class Yi extends ee{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const i=this._cachedMeta,{dataset:o,data:l=[],_dataset:c}=i,u=this.chart._animationsDisabled;let{start:g,count:m}=function Mr(s,t,i){const o=t.length;let l=0,c=o;if(s._sorted){const{iScale:u,_parsed:g}=s,m=u.axis,{min:_,max:M,minDefined:k,maxDefined:C}=u.getUserBounds();k&&(l=Ut(Math.min(Ae(g,u.axis,_).lo,i?o:Ae(t,m,u.getPixelForValue(_)).lo),0,o-1)),c=C?Ut(Math.max(Ae(g,u.axis,M).hi+1,i?0:Ae(t,m,u.getPixelForValue(M)).hi+1),l,o)-l:o-l}return{start:l,count:c}}(i,l,u);this._drawStart=g,this._drawCount=m,function a(s){const{xScale:t,yScale:i,_scaleRanges:o}=s,l={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!o)return s._scaleRanges=l,!0;const c=o.xmin!==t.min||o.xmax!==t.max||o.ymin!==i.min||o.ymax!==i.max;return Object.assign(o,l),c}(i)&&(g=0,m=l.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!c._decimated,o.points=l;const _=this.resolveDatasetElementOptions(t);this.options.showLine||(_.borderWidth=0),_.segment=this.options.segment,this.updateElement(o,void 0,{animated:!u,options:_},t),this.updateElements(l,g,m,t)}updateElements(t,i,o,l){const c="reset"===l,{iScale:u,vScale:g,_stacked:m,_dataset:_}=this._cachedMeta,M=this.resolveDataElementOptions(i,l),k=this.getSharedOptions(M),C=this.includeOptions(l,k),A=u.axis,L=g.axis,{spanGaps:I,segment:F}=this.options,B=Ue(I)?I:Number.POSITIVE_INFINITY,W=this.chart._animationsDisabled||c||"none"===l;let j=i>0&&this.getParsed(i-1);for(let H=i;H<i+o;++H){const $=t[H],tt=this.getParsed(H),Z=W?$:{},st=lt(tt[L]),it=Z[A]=u.getPixelForValue(tt[A],H),Pt=Z[L]=c||st?g.getBasePixel():g.getPixelForValue(m?this.applyStack(g,tt,m):tt[L],H);Z.skip=isNaN(it)||isNaN(Pt)||st,Z.stop=H>0&&Math.abs(tt[A]-j[A])>B,F&&(Z.parsed=tt,Z.raw=_.data[H]),C&&(Z.options=k||this.resolveDataElementOptions(H,$.active?"active":l)),W||this.updateElement($,H,Z,l),j=tt}this.updateSharedOptions(k,l,M)}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,o=i.options&&i.options.borderWidth||0,l=t.data||[];if(!l.length)return o;const c=l[0].size(this.resolveDataElementOptions(0)),u=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(o,c,u)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Yi.id="line",Yi.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Yi.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class e extends ee{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const o=this.chart,l=o.data.labels||[],c=Ve(this._cachedMeta._parsed[t].r,o.options.locale);return{label:l[t]||"",value:c}}parseObjectData(t,i,o,l){return ei.bind(this)(t,i,o,l)}update(t){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((o,l)=>{const c=this.getParsed(l).r;!isNaN(c)&&this.chart.getDataVisibility(l)&&(c<i.min&&(i.min=c),c>i.max&&(i.max=c))}),i}_updateRadius(){const t=this.chart,i=t.chartArea,o=t.options,l=Math.min(i.right-i.left,i.bottom-i.top),c=Math.max(l/2,0),g=(c-Math.max(o.cutoutPercentage?c/100*o.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=c-g*this.index,this.innerRadius=this.outerRadius-g}updateElements(t,i,o,l){const c="reset"===l,u=this.chart,m=u.options.animation,_=this._cachedMeta.rScale,M=_.xCenter,k=_.yCenter,C=_.getIndexAngle(0)-.5*St;let L,A=C;const I=360/this.countVisibleElements();for(L=0;L<i;++L)A+=this._computeAngle(L,l,I);for(L=i;L<i+o;L++){const F=t[L];let B=A,W=A+this._computeAngle(L,l,I),j=u.getDataVisibility(L)?_.getDistanceFromCenterForValue(this.getParsed(L).r):0;A=W,c&&(m.animateScale&&(j=0),m.animateRotate&&(B=W=C));const H={x:M,y:k,innerRadius:0,outerRadius:j,startAngle:B,endAngle:W,options:this.resolveDataElementOptions(L,F.active?"active":l)};this.updateElement(F,L,H,l)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((o,l)=>{!isNaN(this.getParsed(l).r)&&this.chart.getDataVisibility(l)&&i++}),i}_computeAngle(t,i,o){return this.chart.getDataVisibility(t)?Kt(this.resolveDataElementOptions(t,i).angle||o):0}}e.id="polarArea",e.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},e.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const t=s.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i}}=s.legend.options;return t.labels.map((o,l)=>{const u=s.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,lineWidth:u.borderWidth,pointStyle:i,hidden:!s.getDataVisibility(l),index:l}})}return[]}},onClick(s,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:s=>s.chart.data.labels[s.dataIndex]+": "+s.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class n extends li{}n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class r extends ee{getLabelAndValue(t){const i=this._cachedMeta.vScale,o=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(o[i.axis])}}parseObjectData(t,i,o,l){return ei.bind(this)(t,i,o,l)}update(t){const i=this._cachedMeta,o=i.dataset,l=i.data||[],c=i.iScale.getLabels();if(o.points=l,"resize"!==t){const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),this.updateElement(o,void 0,{_loop:!0,_fullLoop:c.length===l.length,options:u},t)}this.updateElements(l,0,l.length,t)}updateElements(t,i,o,l){const c=this._cachedMeta.rScale,u="reset"===l;for(let g=i;g<i+o;g++){const m=t[g],_=this.resolveDataElementOptions(g,m.active?"active":l),M=c.getPointPositionForValue(g,this.getParsed(g).r),k=u?c.xCenter:M.x,C=u?c.yCenter:M.y,A={x:k,y:C,angle:M.angle,skip:isNaN(k)||isNaN(C),options:_};this.updateElement(m,g,A,l)}}}r.id="radar",r.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},r.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class h extends Yi{}h.id="scatter",h.defaults={showLine:!1,fill:!1},h.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:s=>"("+s.label+", "+s.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var d=Object.freeze({__proto__:null,BarController:Us,BubbleController:Xs,DoughnutController:li,LineController:Yi,PolarAreaController:e,PieController:n,RadarController:r,ScatterController:h});function f(s,t,i){const{startAngle:o,pixelMargin:l,x:c,y:u,outerRadius:g,innerRadius:m}=t;let _=l/g;s.beginPath(),s.arc(c,u,g,o-_,i+_),m>l?(_=l/m,s.arc(c,u,m,i+_,o-_,!0)):s.arc(c,u,l,i+kt,o-kt),s.closePath(),s.clip()}function x(s,t,i,o){return{x:i+s*Math.cos(t),y:o+s*Math.sin(t)}}function y(s,t,i,o,l){const{x:c,y:u,startAngle:g,pixelMargin:m,innerRadius:_}=t,M=Math.max(t.outerRadius+o+i-m,0),k=_>0?_+o+i+m:0;let C=0;const A=l-g;if(o){const qs=((_>0?_-o:0)+(M>0?M-o:0))/2;C=(A-(0!==qs?A*qs/(qs+o):A))/2}const I=(A-Math.max(.001,A*M-i/St)/M)/2,F=g+I+C,B=l-I-C,{outerStart:W,outerEnd:j,innerStart:H,innerEnd:$}=function b(s,t,i,o){const l=function p(s){return Es(s,["outerStart","outerEnd","innerStart","innerEnd"])}(s.options.borderRadius),c=(i-t)/2,u=Math.min(c,o*t/2),g=m=>{const _=(i-Math.min(c,m))*o/2;return Ut(m,0,Math.min(c,_))};return{outerStart:g(l.outerStart),outerEnd:g(l.outerEnd),innerStart:Ut(l.innerStart,0,u),innerEnd:Ut(l.innerEnd,0,u)}}(t,k,M,B-F),tt=M-W,Z=M-j,st=F+W/tt,it=B-j/Z,Pt=k+H,vt=k+$,xt=F+H/Pt,Qt=B-$/vt;if(s.beginPath(),s.arc(c,u,M,st,it),j>0){const Tt=x(Z,it,c,u);s.arc(Tt.x,Tt.y,j,it,B+kt)}const xe=x(vt,B,c,u);if(s.lineTo(xe.x,xe.y),$>0){const Tt=x(vt,Qt,c,u);s.arc(Tt.x,Tt.y,$,B+kt,Qt+Math.PI)}if(s.arc(c,u,k,B-$/k,F+H/k,!0),H>0){const Tt=x(Pt,xt,c,u);s.arc(Tt.x,Tt.y,H,xt+Math.PI,F-kt)}const gt=x(tt,F,c,u);if(s.lineTo(gt.x,gt.y),W>0){const Tt=x(tt,st,c,u);s.arc(Tt.x,Tt.y,W,F-kt,st)}s.closePath()}class P extends de{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,o){const l=this.getProps(["x","y"],o),{angle:c,distance:u}=ks(l,{x:t,y:i}),{startAngle:g,endAngle:m,innerRadius:_,outerRadius:M,circumference:k}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),C=this.options.spacing/2,L=nt(k,m-g)>=yt||ze(c,g,m),I=ye(u,_+C,M+C);return L&&I}getCenterPoint(t){const{x:i,y:o,startAngle:l,endAngle:c,innerRadius:u,outerRadius:g}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:m,spacing:_}=this.options,M=(l+c)/2,k=(u+g+_+m)/2;return{x:i+Math.cos(M)*k,y:o+Math.sin(M)*k}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:o}=this,l=(i.offset||0)/2,c=(i.spacing||0)/2;if(this.pixelMargin="inner"===i.borderAlign?.33:0,this.fullCircles=o>yt?Math.floor(o/yt):0,0===o||this.innerRadius<0||this.outerRadius<0)return;t.save();let u=0;if(l){u=l/2;const m=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(m)*u,Math.sin(m)*u),this.circumference>=St&&(u=l)}t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor;const g=function v(s,t,i,o){const{fullCircles:l,startAngle:c,circumference:u}=t;let g=t.endAngle;if(l){y(s,t,i,o,c+yt);for(let m=0;m<l;++m)s.fill();isNaN(u)||(g=c+u%yt,u%yt==0&&(g+=yt))}return y(s,t,i,o,g),s.fill(),g}(t,this,u,c);(function S(s,t,i,o,l){const{options:c}=t,{borderWidth:u,borderJoinStyle:g}=c,m="inner"===c.borderAlign;!u||(m?(s.lineWidth=2*u,s.lineJoin=g||"round"):(s.lineWidth=u,s.lineJoin=g||"bevel"),t.fullCircles&&function w(s,t,i){const{x:o,y:l,startAngle:c,pixelMargin:u,fullCircles:g}=t,m=Math.max(t.outerRadius-u,0),_=t.innerRadius+u;let M;for(i&&f(s,t,c+yt),s.beginPath(),s.arc(o,l,_,c+yt,c,!0),M=0;M<g;++M)s.stroke();for(s.beginPath(),s.arc(o,l,m,c,c+yt),M=0;M<g;++M)s.stroke()}(s,t,m),m&&f(s,t,l),y(s,t,i,o,l),s.stroke())})(t,this,u,c,g),t.restore()}}function D(s,t,i=t){s.lineCap=nt(i.borderCapStyle,t.borderCapStyle),s.setLineDash(nt(i.borderDash,t.borderDash)),s.lineDashOffset=nt(i.borderDashOffset,t.borderDashOffset),s.lineJoin=nt(i.borderJoinStyle,t.borderJoinStyle),s.lineWidth=nt(i.borderWidth,t.borderWidth),s.strokeStyle=nt(i.borderColor,t.borderColor)}function O(s,t,i){s.lineTo(i.x,i.y)}function R(s,t,i={}){const o=s.length,{start:l=0,end:c=o-1}=i,{start:u,end:g}=t,m=Math.max(l,u),_=Math.min(c,g);return{count:o,start:m,loop:t.loop,ilen:_<m&&!(l<u&&c<u||l>g&&c>g)?o+_-m:_-m}}function E(s,t,i,o){const{points:l,options:c}=t,{count:u,start:g,loop:m,ilen:_}=R(l,i,o),M=function T(s){return s.stepped?to:s.tension||"monotone"===s.cubicInterpolationMode?eo:O}(c);let A,L,I,{move:k=!0,reverse:C}=o||{};for(A=0;A<=_;++A)L=l[(g+(C?_-A:A))%u],!L.skip&&(k?(s.moveTo(L.x,L.y),k=!1):M(s,I,L,C,c.stepped),I=L);return m&&(L=l[(g+(C?_:0))%u],M(s,I,L,C,c.stepped)),!!m}function z(s,t,i,o){const l=t.points,{count:c,start:u,ilen:g}=R(l,i,o),{move:m=!0,reverse:_}=o||{};let C,A,L,I,F,B,M=0,k=0;const W=H=>(u+(_?g-H:H))%c,j=()=>{I!==F&&(s.lineTo(M,F),s.lineTo(M,I),s.lineTo(M,B))};for(m&&(A=l[W(0)],s.moveTo(A.x,A.y)),C=0;C<=g;++C){if(A=l[W(C)],A.skip)continue;const H=A.x,$=A.y,tt=0|H;tt===L?($<I?I=$:$>F&&(F=$),M=(k*M+H)/++k):(j(),s.lineTo(H,$),L=tt,k=0,I=F=$),B=$}j()}function V(s){const t=s.options;return s._decimated||s._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?E:z}P.id="arc",P.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},P.defaultRoutes={backgroundColor:"backgroundColor"};const G="function"==typeof Path2D;class q extends de{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){const o=this.options;!o.tension&&"monotone"!==o.cubicInterpolationMode||o.stepped||this._pointsUpdated||(va(this._points,o,t,o.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=vn(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,o=t.length;return o&&this.points[t[o-1].end]}interpolate(t,i){const o=this.options,l=t[i],c=this.points,u=yn(this,{property:i,start:l,end:l});if(!u.length)return;const g=[],m=function N(s){return s.stepped?xn:s.tension||"monotone"===s.cubicInterpolationMode?co:Mi}(o);let _,M;for(_=0,M=u.length;_<M;++_){const{start:k,end:C}=u[_],A=c[k],L=c[C];if(A===L){g.push(A);continue}const F=m(A,L,Math.abs((l-A[i])/(L[i]-A[i])),o.stepped);F[i]=t[i],g.push(F)}return 1===g.length?g[0]:g}pathSegment(t,i,o){return V(this)(t,this,i,o)}path(t,i,o){const l=this.segments,c=V(this);let u=this._loop;i=i||0,o=o||this.points.length-i;for(const g of l)u&=c(t,this,g,{start:i,end:i+o-1});return!!u}draw(t,i,o,l){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function U(s,t,i,o){G&&!t.options.segment?function Y(s,t,i,o){let l=t._path;l||(l=t._path=new Path2D,t.path(l,i,o)&&l.closePath()),D(s,t.options),s.stroke(l)}(s,t,i,o):function Q(s,t,i,o){const{segments:l,options:c}=t,u=V(t);for(const g of l)D(s,c,g.style),s.beginPath(),u(s,t,g,{start:i,end:i+o-1})&&s.closePath(),s.stroke()}(s,t,i,o)}(t,this,o,l),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function J(s,t,i,o){const l=s.options,{[i]:c}=s.getProps([i],o);return Math.abs(t-c)<l.radius+l.hitRadius}q.id="line",q.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},q.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},q.descriptors={_scriptable:!0,_indexable:s=>"borderDash"!==s&&"fill"!==s};class et extends de{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,o){const l=this.options,{x:c,y:u}=this.getProps(["x","y"],o);return Math.pow(t-c,2)+Math.pow(i-u,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(t,i){return J(this,t,"x",i)}inYRange(t,i){return J(this,t,"y",i)}getCenterPoint(t){const{x:i,y:o}=this.getProps(["x","y"],t);return{x:i,y:o}}size(t){let i=(t=t||this.options||{}).radius||0;return i=Math.max(i,i&&t.hoverRadius||0),2*(i+(i&&t.borderWidth||0))}draw(t,i){const o=this.options;this.skip||o.radius<.1||!mi(this,i,this.size(o)/2)||(t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.fillStyle=o.backgroundColor,os(t,o,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function X(s,t){const{x:i,y:o,base:l,width:c,height:u}=s.getProps(["x","y","base","width","height"],t);let g,m,_,M,k;return s.horizontal?(k=u/2,g=Math.min(i,l),m=Math.max(i,l),_=o-k,M=o+k):(k=c/2,g=i-k,m=i+k,_=Math.min(o,l),M=Math.max(o,l)),{left:g,top:_,right:m,bottom:M}}function K(s,t,i,o){return s?0:Ut(t,i,o)}function Ht(s,t,i,o){const l=null===t,c=null===i,g=s&&!(l&&c)&&X(s,o);return g&&(l||ye(t,g.left,g.right))&&(c||ye(i,g.top,g.bottom))}function be(s,t){s.rect(t.x,t.y,t.w,t.h)}function ue(s,t,i={}){const o=s.x!==i.x?-t:0,l=s.y!==i.y?-t:0;return{x:s.x+o,y:s.y+l,w:s.w+((s.x+s.w!==i.x+i.w?t:0)-o),h:s.h+((s.y+s.h!==i.y+i.h?t:0)-l),radius:s.radius}}et.id="point",et.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},et.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class Me extends de{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:i,options:{borderColor:o,backgroundColor:l}}=this,{inner:c,outer:u}=function Vt(s){const t=X(s),i=t.right-t.left,o=t.bottom-t.top,l=function Ct(s,t,i){const l=s.borderSkipped,c=fo(s.options.borderWidth);return{t:K(l.top,c.top,0,i),r:K(l.right,c.right,0,t),b:K(l.bottom,c.bottom,0,i),l:K(l.left,c.left,0,t)}}(s,i/2,o/2),c=function It(s,t,i){const{enableBorderRadius:o}=s.getProps(["enableBorderRadius"]),l=s.options.borderRadius,c=wi(l),u=Math.min(t,i),g=s.borderSkipped,m=o||ht(l);return{topLeft:K(!m||g.top||g.left,c.topLeft,0,u),topRight:K(!m||g.top||g.right,c.topRight,0,u),bottomLeft:K(!m||g.bottom||g.left,c.bottomLeft,0,u),bottomRight:K(!m||g.bottom||g.right,c.bottomRight,0,u)}}(s,i/2,o/2);return{outer:{x:t.left,y:t.top,w:i,h:o,radius:c},inner:{x:t.left+l.l,y:t.top+l.t,w:i-l.l-l.r,h:o-l.t-l.b,radius:{topLeft:Math.max(0,c.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,c.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,c.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,c.bottomRight-Math.max(l.b,l.r))}}}}(this),g=function me(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}(u.radius)?Qe:be;t.save(),(u.w!==c.w||u.h!==c.h)&&(t.beginPath(),g(t,ue(u,i,c)),t.clip(),g(t,ue(c,-i,u)),t.fillStyle=o,t.fill("evenodd")),t.beginPath(),g(t,ue(c,i)),t.fillStyle=l,t.fill(),t.restore()}inRange(t,i,o){return Ht(this,t,i,o)}inXRange(t,i){return Ht(this,t,null,i)}inYRange(t,i){return Ht(this,null,t,i)}getCenterPoint(t){const{x:i,y:o,base:l,horizontal:c}=this.getProps(["x","y","base","horizontal"],t);return{x:c?(i+l)/2:i,y:c?o:(o+l)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Me.id="bar",Me.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Me.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var hi=Object.freeze({__proto__:null,ArcElement:P,LineElement:q,PointElement:et,BarElement:Me});function Ml(s){if(s._decimated){const t=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{value:t})}}function wl(s){s.data.datasets.forEach(t=>{Ml(t)})}var Gl={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,t,i)=>{if(!i.enabled)return void wl(s);const o=s.width;s.data.datasets.forEach((l,c)=>{const{_data:u,indexAxis:g}=l,m=s.getDatasetMeta(c),_=u||l.data;if("y"===Ni([g,s.options.indexAxis])||!m.controller.supportsDecimation)return;const M=s.scales[m.xAxisID];if("linear"!==M.type&&"time"!==M.type||s.options.parsing)return;let L,{start:k,count:C}=function ql(s,t){const i=t.length;let l,o=0;const{iScale:c}=s,{min:u,max:g,minDefined:m,maxDefined:_}=c.getUserBounds();return m&&(o=Ut(Ae(t,c.axis,u).lo,0,i-1)),l=_?Ut(Ae(t,c.axis,g).hi+1,o,i)-o:i-o,{start:o,count:l}}(m,_);if(C<=(i.threshold||4*o))Ml(l);else{switch(lt(u)&&(l._data=_,delete l.data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(I){this._data=I}})),i.algorithm){case"lttb":L=function ci(s,t,i,o,l){const c=l.samples||o;if(c>=i)return s.slice(t,t+i);const u=[],g=(i-2)/(c-2);let m=0;const _=t+i-1;let k,C,A,L,I,M=t;for(u[m++]=s[M],k=0;k<c-2;k++){let W,F=0,B=0;const j=Math.floor((k+1)*g)+1+t,H=Math.min(Math.floor((k+2)*g)+1,i)+t,$=H-j;for(W=j;W<H;W++)F+=s[W].x,B+=s[W].y;F/=$,B/=$;const tt=Math.floor(k*g)+1+t,Z=Math.min(Math.floor((k+1)*g)+1,i)+t,{x:st,y:it}=s[M];for(A=L=-1,W=tt;W<Z;W++)L=.5*Math.abs((st-F)*(s[W].y-it)-(st-s[W].x)*(B-it)),L>A&&(A=L,C=s[W],I=W);u[m++]=C,M=I}return u[m++]=s[_],u}(_,k,C,o,i);break;case"min-max":L=function di(s,t,i,o){let u,g,m,_,M,k,C,A,L,I,l=0,c=0;const F=[],W=s[t].x,H=s[t+i-1].x-W;for(u=t;u<t+i;++u){g=s[u],m=(g.x-W)/H*o,_=g.y;const $=0|m;if($===M)_<L?(L=_,k=u):_>I&&(I=_,C=u),l=(c*l+g.x)/++c;else{const tt=u-1;if(!lt(k)&&!lt(C)){const Z=Math.min(k,C),st=Math.max(k,C);Z!==A&&Z!==tt&&F.push(Jo(Gs({},s[Z]),{x:l})),st!==A&&st!==tt&&F.push(Jo(Gs({},s[st]),{x:l}))}u>0&&tt!==A&&F.push(s[tt]),F.push(g),M=$,c=0,L=I=_,k=C=A=u}}return F}(_,k,C,o);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}l._decimated=L}})},destroy(s){wl(s)}};function cl(s,t,i,o){if(o)return;let l=t[s],c=i[s];return"angle"===s&&(l=oe(l),c=oe(c)),{property:s,start:l,end:c}}function dl(s,t,i){for(;t>s;t--){const o=i[t];if(!isNaN(o.x)&&!isNaN(o.y))break}return t}function kl(s,t,i,o){return s&&t?o(s[i],t[i]):s?s[i]:t?t[i]:0}function Sl(s,t){let i=[],o=!1;return bt(s)?(o=!0,i=s):i=function Ql(s,t){const{x:i=null,y:o=null}=s||{},l=t.points,c=[];return t.segments.forEach(({start:u,end:g})=>{g=dl(u,g,l);const m=l[u],_=l[g];null!==o?(c.push({x:m.x,y:o}),c.push({x:_.x,y:o})):null!==i&&(c.push({x:i,y:m.y}),c.push({x:i,y:_.y}))}),c}(s,t),i.length?new q({points:i,options:{tension:0},_loop:o,_fullLoop:o}):null}function Jl(s,t,i){let l=s[t].fill;const c=[t];let u;if(!i)return l;for(;!1!==l&&-1===c.indexOf(l);){if(!Rt(l))return l;if(u=s[l],!u)return!1;if(u.visible)return l;c.push(l),l=u.fill}return!1}function th(s,t,i){const o=function nh(s){const t=s.options,i=t.fill;let o=nt(i&&i.target,i);return void 0===o&&(o=!!t.backgroundColor),!1!==o&&null!==o&&(!0===o?"origin":o)}(s);if(ht(o))return!isNaN(o.value)&&o;let l=parseFloat(o);return Rt(l)&&Math.floor(l)===l?function eh(s,t,i,o){return("-"===s||"+"===s)&&(i=t+i),!(i===t||i<0||i>=o)&&i}(o[0],t,l,i):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function rh(s,t,i){const o=[];for(let l=0;l<i.length;l++){const c=i[l],{first:u,last:g,point:m}=lh(c,t,"x");if(!(!m||u&&g))if(u)o.unshift(m);else if(s.push(m),!g)break}s.push(...o)}function lh(s,t,i){const o=s.interpolate(t,i);if(!o)return{};const l=o[i],c=s.segments,u=s.points;let g=!1,m=!1;for(let _=0;_<c.length;_++){const M=c[_],k=u[M.start][i],C=u[M.end][i];if(ye(l,k,C)){g=l===k,m=l===C;break}}return{first:g,last:m,point:o}}class Pl{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,i,o){const{x:l,y:c,radius:u}=this;return t.arc(l,c,u,(i=i||{start:0,end:yt}).end,i.start,!0),!o.bounds}interpolate(t){const{x:i,y:o,radius:l}=this,c=t.angle;return{x:i+Math.cos(c)*l,y:o+Math.sin(c)*l,angle:c}}}function ul(s,t,i){const o=function hh(s){const{chart:t,fill:i,line:o}=s;if(Rt(i))return function ch(s,t){const i=s.getDatasetMeta(t);return i&&s.isDatasetVisible(t)?i.dataset:null}(t,i);if("stack"===i)return function oh(s){const{scale:t,index:i,line:o}=s,l=[],c=o.segments,u=o.points,g=function ah(s,t){const i=[],o=s.getMatchingVisibleMetas("line");for(let l=0;l<o.length;l++){const c=o[l];if(c.index===t)break;c.hidden||i.unshift(c.dataset)}return i}(t,i);g.push(Sl({x:null,y:t.bottom},o));for(let m=0;m<c.length;m++){const _=c[m];for(let M=_.start;M<=_.end;M++)rh(l,u[M],g)}return new q({points:l,options:{}})}(s);if("shape"===i)return!0;const l=function dh(s){return(s.scale||{}).getPointPositionForValue?function fh(s){const{scale:t,fill:i}=s,o=t.options,l=t.getLabels().length,c=o.reverse?t.max:t.min,u=function sh(s,t,i){let o;return o="start"===s?i:"end"===s?t.options.reverse?t.min:t.max:ht(s)?s.value:t.getBaseValue(),o}(i,t,c),g=[];if(o.grid.circular){const m=t.getPointPositionForValue(0,c);return new Pl({x:m.x,y:m.y,radius:t.getDistanceFromCenterForValue(u)})}for(let m=0;m<l;++m)g.push(t.getPointPositionForValue(m,u));return g}(s):function uh(s){const{scale:t={},fill:i}=s,o=function ih(s,t){let i=null;return"start"===s?i=t.bottom:"end"===s?i=t.top:ht(s)?i=t.getPixelForValue(s.value):t.getBasePixel&&(i=t.getBasePixel()),i}(i,t);if(Rt(o)){const l=t.isHorizontal();return{x:l?o:null,y:l?null:o}}return null}(s)}(s);return l instanceof Pl?l:Sl(l,o)}(t),{line:l,scale:c,axis:u}=t,g=l.options,m=g.fill,_=g.backgroundColor,{above:M=_,below:k=_}=m||{};o&&l.points.length&&(Os(s,i),function gh(s,t){const{line:i,target:o,above:l,below:c,area:u,scale:g}=t,m=i._loop?"angle":t.axis;s.save(),"x"===m&&c!==l&&(Dl(s,o,u.top),Cl(s,{line:i,target:o,color:l,scale:g,property:m}),s.restore(),s.save(),Dl(s,o,u.bottom)),Cl(s,{line:i,target:o,color:c,scale:g,property:m}),s.restore()}(s,{line:l,target:o,above:M,below:k,area:i,scale:c,axis:u}),Be(s))}function Dl(s,t,i){const{segments:o,points:l}=t;let c=!0,u=!1;s.beginPath();for(const g of o){const{start:m,end:_}=g,M=l[m],k=l[dl(m,_,l)];c?(s.moveTo(M.x,M.y),c=!1):(s.lineTo(M.x,i),s.lineTo(M.x,M.y)),u=!!t.pathSegment(s,g,{move:u}),u?s.closePath():s.lineTo(k.x,i)}s.lineTo(t.first().x,i),s.closePath(),s.clip()}function Cl(s,t){const{line:i,target:o,property:l,color:c,scale:u}=t,g=function Zl(s,t,i){const o=s.segments,l=s.points,c=t.points,u=[];for(const g of o){let{start:m,end:_}=g;_=dl(m,_,l);const M=cl(i,l[m],l[_],g.loop);if(!t.segments){u.push({source:g,target:M,start:l[m],end:l[_]});continue}const k=yn(t,M);for(const C of k){const A=cl(i,c[C.start],c[C.end],C.loop),L=Hi(g,l,A);for(const I of L)u.push({source:I,target:C,start:{[i]:kl(M,A,"start",Math.max)},end:{[i]:kl(M,A,"end",Math.min)}})}}return u}(i,o,l);for(const{source:m,target:_,start:M,end:k}of g){const{style:{backgroundColor:C=c}={}}=m,A=!0!==o;s.save(),s.fillStyle=C,ph(s,u,A&&cl(l,M,k)),s.beginPath();const L=!!i.pathSegment(s,m);let I;if(A){L?s.closePath():Ol(s,o,k,l);const F=!!o.pathSegment(s,_,{move:L,reverse:!0});I=L&&F,I||Ol(s,o,M,l)}s.closePath(),s.fill(I?"evenodd":"nonzero"),s.restore()}}function ph(s,t,i){const{top:o,bottom:l}=t.chart.chartArea,{property:c,start:u,end:g}=i||{};"x"===c&&(s.beginPath(),s.rect(u,o,g-u,l-o),s.clip())}function Ol(s,t,i,o){const l=t.interpolate(i,o);l&&s.lineTo(l.x,l.y)}var mh={id:"filler",afterDatasetsUpdate(s,t,i){const o=(s.data.datasets||[]).length,l=[];let c,u,g,m;for(u=0;u<o;++u)c=s.getDatasetMeta(u),g=c.dataset,m=null,g&&g.options&&g instanceof q&&(m={visible:s.isDatasetVisible(u),index:u,fill:th(g,u,o),chart:s,axis:c.controller.options.indexAxis,scale:c.vScale,line:g}),c.$filler=m,l.push(m);for(u=0;u<o;++u)m=l[u],m&&!1!==m.fill&&(m.fill=Jl(l,u,i.propagate))},beforeDraw(s,t,i){const o="beforeDraw"===i.drawTime,l=s.getSortedVisibleDatasetMetas(),c=s.chartArea;for(let u=l.length-1;u>=0;--u){const g=l[u].$filler;!g||(g.line.updateControlPoints(c,g.axis),o&&ul(s.ctx,g,c))}},beforeDatasetsDraw(s,t,i){if("beforeDatasetsDraw"!==i.drawTime)return;const o=s.getSortedVisibleDatasetMetas();for(let l=o.length-1;l>=0;--l){const c=o[l].$filler;c&&ul(s.ctx,c,s.chartArea)}},beforeDatasetDraw(s,t,i){const o=t.meta.$filler;!o||!1===o.fill||"beforeDatasetDraw"!==i.drawTime||ul(s.ctx,o,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Al=(s,t)=>{let{boxHeight:i=t,boxWidth:o=t}=s;return s.usePointStyle&&(i=Math.min(i,t),o=Math.min(o,t)),{boxWidth:o,boxHeight:i,itemHeight:Math.max(t,i)}};class Tl extends de{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i,o){this.maxWidth=t,this.maxHeight=i,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let i=Mt(t.generateLabels,[this.chart],this)||[];t.filter&&(i=i.filter(o=>t.filter(o,this.chart.data))),t.sort&&(i=i.sort((o,l)=>t.sort(o,l,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:t,ctx:i}=this;if(!t.display)return void(this.width=this.height=0);const o=t.labels,l=Et(o.font),c=l.size,u=this._computeTitleHeight(),{boxWidth:g,itemHeight:m}=Al(o,c);let _,M;i.font=l.string,this.isHorizontal()?(_=this.maxWidth,M=this._fitRows(u,c,g,m)+10):(M=this.maxHeight,_=this._fitCols(u,c,g,m)+10),this.width=Math.min(_,t.maxWidth||this.maxWidth),this.height=Math.min(M,t.maxHeight||this.maxHeight)}_fitRows(t,i,o,l){const{ctx:c,maxWidth:u,options:{labels:{padding:g}}}=this,m=this.legendHitBoxes=[],_=this.lineWidths=[0],M=l+g;let k=t;c.textAlign="left",c.textBaseline="middle";let C=-1,A=-M;return this.legendItems.forEach((L,I)=>{const F=o+i/2+c.measureText(L.text).width;(0===I||_[_.length-1]+F+2*g>u)&&(k+=M,_[_.length-(I>0?0:1)]=0,A+=M,C++),m[I]={left:0,top:A,row:C,width:F,height:l},_[_.length-1]+=F+g}),k}_fitCols(t,i,o,l){const{ctx:c,maxHeight:u,options:{labels:{padding:g}}}=this,m=this.legendHitBoxes=[],_=this.columnSizes=[],M=u-t;let k=g,C=0,A=0,L=0,I=0;return this.legendItems.forEach((F,B)=>{const W=o+i/2+c.measureText(F.text).width;B>0&&A+l+2*g>M&&(k+=C+g,_.push({width:C,height:A}),L+=C+g,I++,C=A=0),m[B]={left:L,top:A,col:I,width:W,height:l},C=Math.max(C,W),A+=l+g}),k+=C,_.push({width:C,height:A}),k}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:o,labels:{padding:l},rtl:c}}=this,u=ki(c,this.left,this.width);if(this.isHorizontal()){let g=0,m=qt(o,this.left+l,this.right-this.lineWidths[g]);for(const _ of i)g!==_.row&&(g=_.row,m=qt(o,this.left+l,this.right-this.lineWidths[g])),_.top+=this.top+t+l,_.left=u.leftForLtr(u.x(m),_.width),m+=_.width+l}else{let g=0,m=qt(o,this.top+t+l,this.bottom-this.columnSizes[g].height);for(const _ of i)_.col!==g&&(g=_.col,m=qt(o,this.top+t+l,this.bottom-this.columnSizes[g].height)),_.top=m,_.left+=this.left+l,_.left=u.leftForLtr(u.x(_.left),_.width),m+=_.height+l}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Os(t,this),this._draw(),Be(t)}}_draw(){const{options:t,columnSizes:i,lineWidths:o,ctx:l}=this,{align:c,labels:u}=t,g=ot.color,m=ki(t.rtl,this.left,this.width),_=Et(u.font),{color:M,padding:k}=u,C=_.size,A=C/2;let L;this.drawTitle(),l.textAlign=m.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=_.string;const{boxWidth:I,boxHeight:F,itemHeight:B}=Al(u,C),H=this.isHorizontal(),$=this._computeTitleHeight();L=H?{x:qt(c,this.left+k,this.right-o[0]),y:this.top+k+$,line:0}:{x:this.left+k,y:qt(c,this.top+$+k,this.bottom-i[0].height),line:0},_n(this.ctx,t.textDirection);const tt=B+k;this.legendItems.forEach((Z,st)=>{l.strokeStyle=Z.fontColor||M,l.fillStyle=Z.fontColor||M;const it=l.measureText(Z.text).width,Pt=m.textAlign(Z.textAlign||(Z.textAlign=u.textAlign)),vt=I+A+it;let xt=L.x,Qt=L.y;m.setWidth(this.width),H?st>0&&xt+vt+k>this.right&&(Qt=L.y+=tt,L.line++,xt=L.x=qt(c,this.left+k,this.right-o[L.line])):st>0&&Qt+tt>this.bottom&&(xt=L.x=xt+i[L.line].width+k,L.line++,Qt=L.y=qt(c,this.top+$+k,this.bottom-i[L.line].height)),function(Z,st,it){if(isNaN(I)||I<=0||isNaN(F)||F<0)return;l.save();const Pt=nt(it.lineWidth,1);if(l.fillStyle=nt(it.fillStyle,g),l.lineCap=nt(it.lineCap,"butt"),l.lineDashOffset=nt(it.lineDashOffset,0),l.lineJoin=nt(it.lineJoin,"miter"),l.lineWidth=Pt,l.strokeStyle=nt(it.strokeStyle,g),l.setLineDash(nt(it.lineDash,[])),u.usePointStyle){const vt={radius:I*Math.SQRT2/2,pointStyle:it.pointStyle,rotation:it.rotation,borderWidth:Pt},xt=m.xPlus(Z,I/2);os(l,vt,xt,st+A)}else{const vt=st+Math.max((C-F)/2,0),xt=m.leftForLtr(Z,I),Qt=wi(it.borderRadius);l.beginPath(),Object.values(Qt).some(xe=>0!==xe)?Qe(l,{x:xt,y:vt,w:I,h:F,radius:Qt}):l.rect(xt,vt,I,F),l.fill(),0!==Pt&&l.stroke()}l.restore()}(m.x(xt),Qt,Z),xt=ke(Pt,xt+I+A,H?xt+vt:this.right,t.rtl),function(Z,st,it){Ze(l,it.text,Z,st+B/2,_,{strikethrough:it.hidden,textAlign:m.textAlign(it.textAlign)})}(m.x(xt),Qt,Z),H?L.x+=vt+k:L.y+=tt}),go(this.ctx,t.textDirection)}drawTitle(){const t=this.options,i=t.title,o=Et(i.font),l=Nt(i.padding);if(!i.display)return;const c=ki(t.rtl,this.left,this.width),u=this.ctx,g=i.position,_=l.top+o.size/2;let M,k=this.left,C=this.width;if(this.isHorizontal())C=Math.max(...this.lineWidths),M=this.top+_,k=qt(t.align,k,this.right-C);else{const L=this.columnSizes.reduce((I,F)=>Math.max(I,F.height),0);M=_+qt(t.align,this.top,this.bottom-L-t.labels.padding-this._computeTitleHeight())}const A=qt(g,k,k+C);u.textAlign=c.textAlign($t(g)),u.textBaseline="middle",u.strokeStyle=i.color,u.fillStyle=i.color,u.font=o.string,Ze(u,i.text,A,M,o)}_computeTitleHeight(){const t=this.options.title,i=Et(t.font),o=Nt(t.padding);return t.display?i.lineHeight+o.height:0}_getLegendItemAt(t,i){let o,l,c;if(ye(t,this.left,this.right)&&ye(i,this.top,this.bottom))for(c=this.legendHitBoxes,o=0;o<c.length;++o)if(l=c[o],ye(t,l.left,l.left+l.width)&&ye(i,l.top,l.top+l.height))return this.legendItems[o];return null}handleEvent(t){const i=this.options;if(!function xh(s,t){return!(("mousemove"!==s&&"mouseout"!==s||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==s&&"mouseup"!==s))}(t.type,i))return;const o=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const l=this._hoveredItem,c=((s,t)=>null!==s&&null!==t&&s.datasetIndex===t.datasetIndex&&s.index===t.index)(l,o);l&&!c&&Mt(i.onLeave,[t,l,this],this),this._hoveredItem=o,o&&!c&&Mt(i.onHover,[t,o,this],this)}else o&&Mt(i.onClick,[t,o,this],this)}}var _h={id:"legend",_element:Tl,start(s,t,i){const o=s.legend=new Tl({ctx:s.ctx,options:i,chart:s});Zt.configure(s,o,i),Zt.addBox(s,o)},stop(s){Zt.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,t,i){const o=s.legend;Zt.configure(s,o,i),o.options=i},afterUpdate(s){const t=s.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(s,t){t.replay||s.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,t,i){const o=t.datasetIndex,l=i.chart;l.isDatasetVisible(o)?(l.hide(o),t.hidden=!0):(l.show(o),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const t=s.data.datasets,{labels:{usePointStyle:i,pointStyle:o,textAlign:l,color:c}}=s.legend.options;return s._getSortedDatasetMetas().map(u=>{const g=u.controller.getStyle(i?0:void 0),m=Nt(g.borderWidth);return{text:t[u.index].label,fillStyle:g.backgroundColor,fontColor:c,hidden:!u.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:g.borderColor,pointStyle:o||g.pointStyle,rotation:g.rotation,textAlign:l||g.textAlign,borderRadius:0,datasetIndex:u.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class fl extends de{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i){const o=this.options;if(this.left=0,this.top=0,!o.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=i;const l=bt(o.text)?o.text.length:1;this._padding=Nt(o.padding);const c=l*Et(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=c:this.width=c}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:i,left:o,bottom:l,right:c,options:u}=this,g=u.align;let _,M,k,m=0;return this.isHorizontal()?(M=qt(g,o,c),k=i+t,_=c-o):("left"===u.position?(M=o+t,k=qt(g,l,i),m=-.5*St):(M=c-t,k=qt(g,i,l),m=.5*St),_=l-i),{titleX:M,titleY:k,maxWidth:_,rotation:m}}draw(){const t=this.ctx,i=this.options;if(!i.display)return;const o=Et(i.font),c=o.lineHeight/2+this._padding.top,{titleX:u,titleY:g,maxWidth:m,rotation:_}=this._drawArgs(c);Ze(t,i.text,0,0,o,{color:i.color,maxWidth:m,rotation:_,textAlign:$t(i.align),textBaseline:"middle",translation:[u,g]})}}var vh={id:"title",_element:fl,start(s,t,i){!function yh(s,t){const i=new fl({ctx:s.ctx,options:t,chart:s});Zt.configure(s,i,t),Zt.addBox(s,i),s.titleBlock=i}(s,i)},stop(s){Zt.removeBox(s,s.titleBlock),delete s.titleBlock},beforeUpdate(s,t,i){const o=s.titleBlock;Zt.configure(s,o,i),o.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wr=new WeakMap;var Mh={id:"subtitle",start(s,t,i){const o=new fl({ctx:s.ctx,options:i,chart:s});Zt.configure(s,o,i),Zt.addBox(s,o),wr.set(s,o)},stop(s){Zt.removeBox(s,wr.get(s)),wr.delete(s)},beforeUpdate(s,t,i){const o=wr.get(s);Zt.configure(s,o,i),o.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xo={average(s){if(!s.length)return!1;let t,i,o=0,l=0,c=0;for(t=0,i=s.length;t<i;++t){const u=s[t].element;if(u&&u.hasValue()){const g=u.tooltipPosition();o+=g.x,l+=g.y,++c}}return{x:o/c,y:l/c}},nearest(s,t){if(!s.length)return!1;let c,u,g,i=t.x,o=t.y,l=Number.POSITIVE_INFINITY;for(c=0,u=s.length;c<u;++c){const m=s[c].element;if(m&&m.hasValue()){const M=Ss(t,m.getCenterPoint());M<l&&(l=M,g=m)}}if(g){const m=g.tooltipPosition();i=m.x,o=m.y}return{x:i,y:o}}};function Ti(s,t){return t&&(bt(t)?Array.prototype.push.apply(s,t):s.push(t)),s}function Ui(s){return("string"==typeof s||s instanceof String)&&s.indexOf("\n")>-1?s.split("\n"):s}function wh(s,t){const{element:i,datasetIndex:o,index:l}=t,c=s.getDatasetMeta(o).controller,{label:u,value:g}=c.getLabelAndValue(l);return{chart:s,label:u,parsed:c.getParsed(l),raw:s.data.datasets[o].data[l],formattedValue:g,dataset:c.getDataset(),dataIndex:l,datasetIndex:o,element:i}}function Ll(s,t){const i=s.chart.ctx,{body:o,footer:l,title:c}=s,{boxWidth:u,boxHeight:g}=t,m=Et(t.bodyFont),_=Et(t.titleFont),M=Et(t.footerFont),k=c.length,C=l.length,A=o.length,L=Nt(t.padding);let I=L.height,F=0,B=o.reduce((H,$)=>H+$.before.length+$.lines.length+$.after.length,0);B+=s.beforeBody.length+s.afterBody.length,k&&(I+=k*_.lineHeight+(k-1)*t.titleSpacing+t.titleMarginBottom),B&&(I+=A*(t.displayColors?Math.max(g,m.lineHeight):m.lineHeight)+(B-A)*m.lineHeight+(B-1)*t.bodySpacing),C&&(I+=t.footerMarginTop+C*M.lineHeight+(C-1)*t.footerSpacing);let W=0;const j=function(H){F=Math.max(F,i.measureText(H).width+W)};return i.save(),i.font=_.string,_t(s.title,j),i.font=m.string,_t(s.beforeBody.concat(s.afterBody),j),W=t.displayColors?u+2+t.boxPadding:0,_t(o,H=>{_t(H.before,j),_t(H.lines,j),_t(H.after,j)}),W=0,i.font=M.string,_t(s.footer,j),i.restore(),F+=L.width,{width:F,height:I}}function Ph(s,t,i,o){const{x:l,width:c}=i,{width:u,chartArea:{left:g,right:m}}=s;let _="center";return"center"===o?_=l<=(g+m)/2?"left":"right":l<=c/2?_="left":l>=u-c/2&&(_="right"),function Sh(s,t,i,o){const{x:l,width:c}=o,u=i.caretSize+i.caretPadding;if("left"===s&&l+c+u>t.width||"right"===s&&l-c-u<0)return!0}(_,s,t,i)&&(_="center"),_}function Rl(s,t,i){const o=i.yAlign||t.yAlign||function kh(s,t){const{y:i,height:o}=t;return i<o/2?"top":i>s.height-o/2?"bottom":"center"}(s,i);return{xAlign:i.xAlign||t.xAlign||Ph(s,t,i,o),yAlign:o}}function El(s,t,i,o){const{caretSize:l,caretPadding:c,cornerRadius:u}=s,{xAlign:g,yAlign:m}=i,_=l+c,{topLeft:M,topRight:k,bottomLeft:C,bottomRight:A}=wi(u);let L=function Dh(s,t){let{x:i,width:o}=s;return"right"===t?i-=o:"center"===t&&(i-=o/2),i}(t,g);const I=function Ch(s,t,i){let{y:o,height:l}=s;return"top"===t?o+=i:o-="bottom"===t?l+i:l/2,o}(t,m,_);return"center"===m?"left"===g?L+=_:"right"===g&&(L-=_):"left"===g?L-=Math.max(M,C)+l:"right"===g&&(L+=Math.max(k,A)+l),{x:Ut(L,0,o.width-t.width),y:Ut(I,0,o.height-t.height)}}function kr(s,t,i){const o=Nt(i.padding);return"center"===t?s.x+s.width/2:"right"===t?s.x+s.width-o.right:s.x+o.left}function Il(s){return Ti([],Ui(s))}function Fl(s,t){const i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?s.override(i):s}class gl extends de{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,o=this.options.setContext(this.getContext()),l=o.enabled&&i.options.animation&&o.animations,c=new ni(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(c)),c}getContext(){return this.$context||(this.$context=function Oh(s,t,i){return Le(s,{tooltip:t,tooltipItems:i,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:o}=i,l=o.beforeTitle.apply(this,[t]),c=o.title.apply(this,[t]),u=o.afterTitle.apply(this,[t]);let g=[];return g=Ti(g,Ui(l)),g=Ti(g,Ui(c)),g=Ti(g,Ui(u)),g}getBeforeBody(t,i){return Il(i.callbacks.beforeBody.apply(this,[t]))}getBody(t,i){const{callbacks:o}=i,l=[];return _t(t,c=>{const u={before:[],lines:[],after:[]},g=Fl(o,c);Ti(u.before,Ui(g.beforeLabel.call(this,c))),Ti(u.lines,g.label.call(this,c)),Ti(u.after,Ui(g.afterLabel.call(this,c))),l.push(u)}),l}getAfterBody(t,i){return Il(i.callbacks.afterBody.apply(this,[t]))}getFooter(t,i){const{callbacks:o}=i,l=o.beforeFooter.apply(this,[t]),c=o.footer.apply(this,[t]),u=o.afterFooter.apply(this,[t]);let g=[];return g=Ti(g,Ui(l)),g=Ti(g,Ui(c)),g=Ti(g,Ui(u)),g}_createItems(t){const i=this._active,o=this.chart.data,l=[],c=[],u=[];let m,_,g=[];for(m=0,_=i.length;m<_;++m)g.push(wh(this.chart,i[m]));return t.filter&&(g=g.filter((M,k,C)=>t.filter(M,k,C,o))),t.itemSort&&(g=g.sort((M,k)=>t.itemSort(M,k,o))),_t(g,M=>{const k=Fl(t.callbacks,M);l.push(k.labelColor.call(this,M)),c.push(k.labelPointStyle.call(this,M)),u.push(k.labelTextColor.call(this,M))}),this.labelColors=l,this.labelPointStyles=c,this.labelTextColors=u,this.dataPoints=g,g}update(t,i){const o=this.options.setContext(this.getContext()),l=this._active;let c,u=[];if(l.length){const g=Xo[o.position].call(this,l,this._eventPosition);u=this._createItems(o),this.title=this.getTitle(u,o),this.beforeBody=this.getBeforeBody(u,o),this.body=this.getBody(u,o),this.afterBody=this.getAfterBody(u,o),this.footer=this.getFooter(u,o);const m=this._size=Ll(this,o),_=Object.assign({},g,m),M=Rl(this.chart,o,_),k=El(o,_,M,this.chart);this.xAlign=M.xAlign,this.yAlign=M.yAlign,c={opacity:1,x:k.x,y:k.y,width:m.width,height:m.height,caretX:g.x,caretY:g.y}}else 0!==this.opacity&&(c={opacity:0});this._tooltipItems=u,this.$context=void 0,c&&this._resolveAnimations().update(this,c),t&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,o,l){const c=this.getCaretPosition(t,o,l);i.lineTo(c.x1,c.y1),i.lineTo(c.x2,c.y2),i.lineTo(c.x3,c.y3)}getCaretPosition(t,i,o){const{xAlign:l,yAlign:c}=this,{caretSize:u,cornerRadius:g}=o,{topLeft:m,topRight:_,bottomLeft:M,bottomRight:k}=wi(g),{x:C,y:A}=t,{width:L,height:I}=i;let F,B,W,j,H,$;return"center"===c?(H=A+I/2,"left"===l?(F=C,B=F-u,j=H+u,$=H-u):(F=C+L,B=F+u,j=H-u,$=H+u),W=F):(B="left"===l?C+Math.max(m,M)+u:"right"===l?C+L-Math.max(_,k)-u:this.caretX,"top"===c?(j=A,H=j-u,F=B-u,W=B+u):(j=A+I,H=j+u,F=B+u,W=B-u),$=j),{x1:F,x2:B,x3:W,y1:j,y2:H,y3:$}}drawTitle(t,i,o){const l=this.title,c=l.length;let u,g,m;if(c){const _=ki(o.rtl,this.x,this.width);for(t.x=kr(this,o.titleAlign,o),i.textAlign=_.textAlign(o.titleAlign),i.textBaseline="middle",u=Et(o.titleFont),g=o.titleSpacing,i.fillStyle=o.titleColor,i.font=u.string,m=0;m<c;++m)i.fillText(l[m],_.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+g,m+1===c&&(t.y+=o.titleMarginBottom-g)}}_drawColorBox(t,i,o,l,c){const u=this.labelColors[o],g=this.labelPointStyles[o],{boxHeight:m,boxWidth:_,boxPadding:M}=c,k=Et(c.bodyFont),C=kr(this,"left",c),A=l.x(C),I=i.y+(m<k.lineHeight?(k.lineHeight-m)/2:0);if(c.usePointStyle){const F={radius:Math.min(_,m)/2,pointStyle:g.pointStyle,rotation:g.rotation,borderWidth:1},B=l.leftForLtr(A,_)+_/2,W=I+m/2;t.strokeStyle=c.multiKeyBackground,t.fillStyle=c.multiKeyBackground,os(t,F,B,W),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,os(t,F,B,W)}else{t.lineWidth=u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const F=l.leftForLtr(A,_-M),B=l.leftForLtr(l.xPlus(A,1),_-M-2),W=wi(u.borderRadius);Object.values(W).some(j=>0!==j)?(t.beginPath(),t.fillStyle=c.multiKeyBackground,Qe(t,{x:F,y:I,w:_,h:m,radius:W}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),Qe(t,{x:B,y:I+1,w:_-2,h:m-2,radius:W}),t.fill()):(t.fillStyle=c.multiKeyBackground,t.fillRect(F,I,_,m),t.strokeRect(F,I,_,m),t.fillStyle=u.backgroundColor,t.fillRect(B,I+1,_-2,m-2))}t.fillStyle=this.labelTextColors[o]}drawBody(t,i,o){const{body:l}=this,{bodySpacing:c,bodyAlign:u,displayColors:g,boxHeight:m,boxWidth:_,boxPadding:M}=o,k=Et(o.bodyFont);let C=k.lineHeight,A=0;const L=ki(o.rtl,this.x,this.width),I=function(st){i.fillText(st,L.x(t.x+A),t.y+C/2),t.y+=C+c},F=L.textAlign(u);let B,W,j,H,$,tt,Z;for(i.textAlign=u,i.textBaseline="middle",i.font=k.string,t.x=kr(this,F,o),i.fillStyle=o.bodyColor,_t(this.beforeBody,I),A=g&&"right"!==F?"center"===u?_/2+M:_+2+M:0,H=0,tt=l.length;H<tt;++H){for(B=l[H],W=this.labelTextColors[H],i.fillStyle=W,_t(B.before,I),j=B.lines,g&&j.length&&(this._drawColorBox(i,t,H,L,o),C=Math.max(k.lineHeight,m)),$=0,Z=j.length;$<Z;++$)I(j[$]),C=k.lineHeight;_t(B.after,I)}A=0,C=k.lineHeight,_t(this.afterBody,I),t.y-=c}drawFooter(t,i,o){const l=this.footer,c=l.length;let u,g;if(c){const m=ki(o.rtl,this.x,this.width);for(t.x=kr(this,o.footerAlign,o),t.y+=o.footerMarginTop,i.textAlign=m.textAlign(o.footerAlign),i.textBaseline="middle",u=Et(o.footerFont),i.fillStyle=o.footerColor,i.font=u.string,g=0;g<c;++g)i.fillText(l[g],m.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+o.footerSpacing}}drawBackground(t,i,o,l){const{xAlign:c,yAlign:u}=this,{x:g,y:m}=t,{width:_,height:M}=o,{topLeft:k,topRight:C,bottomLeft:A,bottomRight:L}=wi(l.cornerRadius);i.fillStyle=l.backgroundColor,i.strokeStyle=l.borderColor,i.lineWidth=l.borderWidth,i.beginPath(),i.moveTo(g+k,m),"top"===u&&this.drawCaret(t,i,o,l),i.lineTo(g+_-C,m),i.quadraticCurveTo(g+_,m,g+_,m+C),"center"===u&&"right"===c&&this.drawCaret(t,i,o,l),i.lineTo(g+_,m+M-L),i.quadraticCurveTo(g+_,m+M,g+_-L,m+M),"bottom"===u&&this.drawCaret(t,i,o,l),i.lineTo(g+A,m+M),i.quadraticCurveTo(g,m+M,g,m+M-A),"center"===u&&"left"===c&&this.drawCaret(t,i,o,l),i.lineTo(g,m+k),i.quadraticCurveTo(g,m,g+k,m),i.closePath(),i.fill(),l.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,o=this.$animations,l=o&&o.x,c=o&&o.y;if(l||c){const u=Xo[t.position].call(this,this._active,this._eventPosition);if(!u)return;const g=this._size=Ll(this,t),m=Object.assign({},u,this._size),_=Rl(i,t,m),M=El(t,m,_,i);(l._to!==M.x||c._to!==M.y)&&(this.xAlign=_.xAlign,this.yAlign=_.yAlign,this.width=g.width,this.height=g.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,M))}}_willRender(){return!!this.opacity}draw(t){const i=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(i);const l={width:this.width,height:this.height},c={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const u=Nt(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=o,this.drawBackground(c,t,l,i),_n(t,i.textDirection),c.y+=u.top,this.drawTitle(c,t,i),this.drawBody(c,t,i),this.drawFooter(c,t,i),go(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const o=this._active,l=t.map(({datasetIndex:g,index:m})=>{const _=this.chart.getDatasetMeta(g);if(!_)throw new Error("Cannot find a dataset at index "+g);return{datasetIndex:g,element:_.data[m],index:m}}),c=!De(o,l),u=this._positionChanged(l,i);(c||u)&&(this._active=l,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,o=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,c=this._active||[],u=this._getActiveElements(t,c,i,o),g=this._positionChanged(u,t),m=i||!De(u,c)||g;return m&&(this._active=u,(l.enabled||l.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),m}_getActiveElements(t,i,o,l){const c=this.options;if("mouseout"===t.type)return[];if(!l)return i;const u=this.chart.getElementsAtEventForMode(t,c.mode,c,o);return c.reverse&&u.reverse(),u}_positionChanged(t,i){const{caretX:o,caretY:l,options:c}=this,u=Xo[c.position].call(this,t,i);return!1!==u&&(o!==u.x||l!==u.y)}}gl.positioners=Xo;var zl=Object.freeze({__proto__:null,Decimation:Gl,Filler:mh,Legend:_h,SubTitle:Mh,Title:vh,Tooltip:{id:"tooltip",_element:gl,positioners:Xo,afterInit(s,t,i){i&&(s.tooltip=new gl({chart:s,options:i}))},beforeUpdate(s,t,i){s.tooltip&&s.tooltip.initialize(i)},reset(s,t,i){s.tooltip&&s.tooltip.initialize(i)},afterDraw(s){const t=s.tooltip;if(t&&t._willRender()){const i={tooltip:t};if(!1===s.notifyPlugins("beforeTooltipDraw",i))return;t.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",i)}},afterEvent(s,t){s.tooltip&&s.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,t)=>t.bodyFont.size,boxWidth:(s,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Se,title(s){if(s.length>0){const t=s[0],i=t.chart.data.labels,o=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(o>0&&t.dataIndex<o)return i[t.dataIndex]}return""},afterTitle:Se,beforeBody:Se,beforeLabel:Se,label(s){if(this&&this.options&&"dataset"===this.options.mode)return s.label+": "+s.formattedValue||s.formattedValue;let t=s.dataset.label||"";t&&(t+=": ");const i=s.formattedValue;return lt(i)||(t+=i),t},labelColor(s){const i=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const i=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:Se,afterBody:Se,beforeFooter:Se,footer:Se,afterFooter:Se}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>"filter"!==s&&"itemSort"!==s&&"external"!==s,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});class Sr extends oi{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const i=this._addedLabels;if(i.length){const o=this.getLabels();for(const{index:l,label:c}of i)o[l]===c&&o.splice(l,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(lt(t))return null;const o=this.getLabels();return((s,t)=>null===s?null:Ut(Math.round(s),0,t))(i=isFinite(i)&&o[i]===t?i:function Lh(s,t,i,o){const l=s.indexOf(t);return-1===l?((s,t,i,o)=>("string"==typeof t?(i=s.push(t)-1,o.unshift({index:i,label:t})):isNaN(t)&&(i=null),i))(s,t,i,o):l!==s.lastIndexOf(t)?i:l}(o,t,nt(i,t),this._addedLabels),o.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:o,max:l}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(o=0),i||(l=this.getLabels().length-1)),this.min=o,this.max=l}buildTicks(){const t=this.min,i=this.max,o=this.options.offset,l=[];let c=this.getLabels();c=0===t&&i===c.length-1?c:c.slice(t,i+1),this._valueRange=Math.max(c.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let u=t;u<=i;u++)l.push({value:u});return l}getLabelForValue(t){const i=this.getLabels();return t>=0&&t<i.length?i[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Bl(s,t,{horizontal:i,minRotation:o}){const l=Kt(o),c=(i?Math.sin(l):Math.cos(l))||.001;return Math.min(t/c,.75*t*(""+s).length)}Sr.id="category",Sr.defaults={ticks:{callback:Sr.prototype.getLabelForValue}};class Pr extends oi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,i){return lt(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:i,maxDefined:o}=this.getUserBounds();let{min:l,max:c}=this;const u=m=>l=i?l:m,g=m=>c=o?c:m;if(t){const m=pe(l),_=pe(c);m<0&&_<0?g(0):m>0&&_>0&&u(0)}if(l===c){let m=1;(c>=Number.MAX_SAFE_INTEGER||l<=Number.MIN_SAFE_INTEGER)&&(m=Math.abs(.05*c)),g(c+m),t||u(l-m)}this.min=l,this.max=c}getTickLimit(){const t=this.options.ticks;let l,{maxTicksLimit:i,stepSize:o}=t;return o?(l=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),i=i||11),i&&(l=Math.min(i,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,i=t.ticks;let o=this.getTickLimit();o=Math.max(2,o);const u=function Eh(s,t){const i=[],{bounds:l,step:c,min:u,max:g,precision:m,count:_,maxTicks:M,maxDigits:k,includeBounds:C}=s,A=c||1,L=M-1,{min:I,max:F}=t,B=!lt(u),W=!lt(g),j=!lt(_),H=(F-I)/(k+1);let tt,Z,st,it,$=is((F-I)/L/A)*A;if($<1e-14&&!B&&!W)return[{value:I},{value:F}];it=Math.ceil(F/$)-Math.floor(I/$),it>L&&($=is(it*$/L/A)*A),lt(m)||(tt=Math.pow(10,m),$=Math.ceil($*tt)/tt),"ticks"===l?(Z=Math.floor(I/$)*$,st=Math.ceil(F/$)*$):(Z=I,st=F),B&&W&&c&&ua((g-u)/c,$/1e3)?(it=Math.round(Math.min((g-u)/$,M)),$=(g-u)/it,Z=u,st=g):j?(Z=B?u:Z,st=W?g:st,it=_-1,$=(st-Z)/it):(it=(st-Z)/$,it=zi(it,Math.round(it),$/1e3)?Math.round(it):Math.ceil(it));const Pt=Math.max(hn($),hn(Z));tt=Math.pow(10,lt(m)?Pt:m),Z=Math.round(Z*tt)/tt,st=Math.round(st*tt)/tt;let vt=0;for(B&&(C&&Z!==u?(i.push({value:u}),Z<u&&vt++,zi(Math.round((Z+vt*$)*tt)/tt,u,Bl(u,H,s))&&vt++):Z<u&&vt++);vt<it;++vt)i.push({value:Math.round((Z+vt*$)*tt)/tt});return W&&C&&st!==g?i.length&&zi(i[i.length-1].value,g,Bl(g,H,s))?i[i.length-1].value=g:i.push({value:g}):(!W||st===g)&&i.push({value:st}),i}({maxTicks:o,bounds:t.bounds,min:t.min,max:t.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:!1!==i.includeBounds},this._range||this);return"ticks"===t.bounds&&Xe(u,this,"value"),t.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const t=this.ticks;let i=this.min,o=this.max;if(super.configure(),this.options.offset&&t.length){const l=(o-i)/Math.max(t.length-1,1)/2;i-=l,o+=l}this._startValue=i,this._endValue=o,this._valueRange=o-i}getLabelForValue(t){return Ve(t,this.chart.options.locale,this.options.ticks.format)}}class pl extends Pr{determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=Rt(t)?t:0,this.max=Rt(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),i=t?this.width:this.height,o=Kt(this.options.ticks.minRotation),l=(t?Math.sin(o):Math.cos(o))||.001,c=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,c.lineHeight/l))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function Vl(s){return s/Math.pow(10,Math.floor(Ft(s)))==1}pl.id="linear",pl.defaults={ticks:{callback:ms.formatters.numeric}};class ml extends oi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,i){const o=Pr.prototype.parse.apply(this,[t,i]);if(0!==o)return Rt(o)&&o>0?o:null;this._zero=!0}determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=Rt(t)?Math.max(0,t):null,this.max=Rt(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let o=this.min,l=this.max;const c=m=>o=t?o:m,u=m=>l=i?l:m,g=(m,_)=>Math.pow(10,Math.floor(Ft(m))+_);o===l&&(o<=0?(c(1),u(10)):(c(g(o,-1)),u(g(l,1)))),o<=0&&c(g(l,-1)),l<=0&&u(g(o,1)),this._zero&&this.min!==this._suggestedMin&&o===g(this.min,0)&&c(g(o,-1)),this.min=o,this.max=l}buildTicks(){const t=this.options,o=function Ih(s,t){const i=Math.floor(Ft(t.max)),o=Math.ceil(t.max/Math.pow(10,i)),l=[];let c=Wt(s.min,Math.pow(10,Math.floor(Ft(t.min)))),u=Math.floor(Ft(c)),g=Math.floor(c/Math.pow(10,u)),m=u<0?Math.pow(10,Math.abs(u)):1;do{l.push({value:c,major:Vl(c)}),++g,10===g&&(g=1,++u,m=u>=0?1:m),c=Math.round(g*Math.pow(10,u)*m)/m}while(u<i||u===i&&g<o);const _=Wt(s.max,c);return l.push({value:_,major:Vl(c)}),l}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Xe(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(t){return void 0===t?"0":Ve(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ft(t),this._valueRange=Ft(this.max)-Ft(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ft(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const i=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+i*this._valueRange)}}function bl(s){const t=s.ticks;if(t.display&&s.display){const i=Nt(t.backdropPadding);return nt(t.font&&t.font.size,ot.font.size)+i.height}return 0}function Fh(s,t,i){return i=bt(i)?i:[i],{w:un(s,t.string,i),h:i.length*t.lineHeight}}function Wl(s,t,i,o,l){return s===o||s===l?{start:t-i/2,end:t+i/2}:s<o||s>l?{start:t-i,end:t}:{start:t,end:t+i}}function Bh(s,t,i,o,l){const c=Math.abs(Math.sin(i)),u=Math.abs(Math.cos(i));let g=0,m=0;o.start<t.l?(g=(t.l-o.start)/c,s.l=Math.min(s.l,t.l-g)):o.end>t.r&&(g=(o.end-t.r)/c,s.r=Math.max(s.r,t.r+g)),l.start<t.t?(m=(t.t-l.start)/u,s.t=Math.min(s.t,t.t-m)):l.end>t.b&&(m=(l.end-t.b)/u,s.b=Math.max(s.b,t.b+m))}function Wh(s){return 0===s||180===s?"center":s<180?"left":"right"}function Nh(s,t,i){return"right"===i?s-=t:"center"===i&&(s-=t/2),s}function Hh(s,t,i){return 90===i||270===i?s-=t/2:(i>270||i<90)&&(s-=t),s}function Nl(s,t,i,o){const{ctx:l}=s;if(i)l.arc(s.xCenter,s.yCenter,t,0,yt);else{let c=s.getPointPosition(0,t);l.moveTo(c.x,c.y);for(let u=1;u<o;u++)c=s.getPointPosition(u,t),l.lineTo(c.x,c.y)}}ml.id="logarithmic",ml.defaults={ticks:{callback:ms.formatters.logarithmic,major:{enabled:!0}}};class Ko extends Pr{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Nt(bl(this.options)/2),i=this.width=this.maxWidth-t.width,o=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+i/2+t.left),this.yCenter=Math.floor(this.top+o/2+t.top),this.drawingArea=Math.floor(Math.min(i,o)/2)}determineDataLimits(){const{min:t,max:i}=this.getMinMax(!1);this.min=Rt(t)&&!isNaN(t)?t:0,this.max=Rt(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/bl(this.options))}generateTickLabels(t){Pr.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((i,o)=>{const l=Mt(this.options.pointLabels.callback,[i,o],this);return l||0===l?l:""}).filter((i,o)=>this.chart.getDataVisibility(o))}fit(){const t=this.options;t.display&&t.pointLabels.display?function zh(s){const t={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},i=Object.assign({},t),o=[],l=[],c=s._pointLabels.length,u=s.options.pointLabels,g=u.centerPointLabels?St/c:0;for(let m=0;m<c;m++){const _=u.setContext(s.getPointLabelContext(m));l[m]=_.padding;const M=s.getPointPosition(m,s.drawingArea+l[m],g),k=Et(_.font),C=Fh(s.ctx,k,s._pointLabels[m]);o[m]=C;const A=oe(s.getIndexAngle(m)+g),L=Math.round(ss(A));Bh(i,t,A,Wl(L,M.x,C.w,0,180),Wl(L,M.y,C.h,90,270))}s.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),s._pointLabelItems=function Vh(s,t,i){const o=[],l=s._pointLabels.length,c=s.options,u=bl(c)/2,g=s.drawingArea,m=c.pointLabels.centerPointLabels?St/l:0;for(let _=0;_<l;_++){const M=s.getPointPosition(_,g+u+i[_],m),k=Math.round(ss(oe(M.angle+kt))),C=t[_],A=Hh(M.y,C.h,k),L=Wh(k),I=Nh(M.x,C.w,L);o.push({x:M.x,y:A,textAlign:L,left:I,top:A,right:I+C.w,bottom:A+C.h})}return o}(s,o,l)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,i,o,l){this.xCenter+=Math.floor((t-i)/2),this.yCenter+=Math.floor((o-l)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,i,o,l))}getIndexAngle(t){return oe(t*(yt/(this._pointLabels.length||1))+Kt(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(lt(t))return NaN;const i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*i:(t-this.min)*i}getValueForDistanceFromCenter(t){if(lt(t))return NaN;const i=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(t){const i=this._pointLabels||[];if(t>=0&&t<i.length){const o=i[t];return function Yh(s,t,i){return Le(s,{label:i,index:t,type:"pointLabel"})}(this.getContext(),t,o)}}getPointPosition(t,i,o=0){const l=this.getIndexAngle(t)-kt+o;return{x:Math.cos(l)*i+this.xCenter,y:Math.sin(l)*i+this.yCenter,angle:l}}getPointPositionForValue(t,i){return this.getPointPosition(t,this.getDistanceFromCenterForValue(i))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:i,top:o,right:l,bottom:c}=this._pointLabelItems[t];return{left:i,top:o,right:l,bottom:c}}drawBackground(){const{backgroundColor:t,grid:{circular:i}}=this.options;if(t){const o=this.ctx;o.save(),o.beginPath(),Nl(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),o.closePath(),o.fillStyle=t,o.fill(),o.restore()}}drawGrid(){const t=this.ctx,i=this.options,{angleLines:o,grid:l}=i,c=this._pointLabels.length;let u,g,m;if(i.pointLabels.display&&function jh(s,t){const{ctx:i,options:{pointLabels:o}}=s;for(let l=t-1;l>=0;l--){const c=o.setContext(s.getPointLabelContext(l)),u=Et(c.font),{x:g,y:m,textAlign:_,left:M,top:k,right:C,bottom:A}=s._pointLabelItems[l],{backdropColor:L}=c;if(!lt(L)){const I=wi(c.borderRadius),F=Nt(c.backdropPadding);i.fillStyle=L;const B=M-F.left,W=k-F.top,j=C-M+F.width,H=A-k+F.height;Object.values(I).some($=>0!==$)?(i.beginPath(),Qe(i,{x:B,y:W,w:j,h:H,radius:I}),i.fill()):i.fillRect(B,W,j,H)}Ze(i,s._pointLabels[l],g,m+u.lineHeight/2,u,{color:c.color,textAlign:_,textBaseline:"middle"})}}(this,c),l.display&&this.ticks.forEach((_,M)=>{0!==M&&(g=this.getDistanceFromCenterForValue(_.value),function $h(s,t,i,o){const l=s.ctx,c=t.circular,{color:u,lineWidth:g}=t;!c&&!o||!u||!g||i<0||(l.save(),l.strokeStyle=u,l.lineWidth=g,l.setLineDash(t.borderDash),l.lineDashOffset=t.borderDashOffset,l.beginPath(),Nl(s,i,c,o),l.closePath(),l.stroke(),l.restore())}(this,l.setContext(this.getContext(M-1)),g,c))}),o.display){for(t.save(),u=c-1;u>=0;u--){const _=o.setContext(this.getPointLabelContext(u)),{color:M,lineWidth:k}=_;!k||!M||(t.lineWidth=k,t.strokeStyle=M,t.setLineDash(_.borderDash),t.lineDashOffset=_.borderDashOffset,g=this.getDistanceFromCenterForValue(i.ticks.reverse?this.min:this.max),m=this.getPointPosition(u,g),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(m.x,m.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,i=this.options,o=i.ticks;if(!o.display)return;const l=this.getIndexAngle(0);let c,u;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(l),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((g,m)=>{if(0===m&&!i.reverse)return;const _=o.setContext(this.getContext(m)),M=Et(_.font);if(c=this.getDistanceFromCenterForValue(this.ticks[m].value),_.showLabelBackdrop){t.font=M.string,u=t.measureText(g.label).width,t.fillStyle=_.backdropColor;const k=Nt(_.backdropPadding);t.fillRect(-u/2-k.left,-c-M.size/2-k.top,u+k.width,M.size+k.height)}Ze(t,g.label,0,-c,M,{color:_.color})}),t.restore()}drawTitle(){}}Ko.id="radialLinear",Ko.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ms.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:s=>s,padding:5,centerPointLabels:!1}},Ko.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Ko.descriptors={angleLines:{_fallback:"grid"}};const Dr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},we=Object.keys(Dr);function Uh(s,t){return s-t}function Hl(s,t){if(lt(t))return null;const i=s._adapter,{parser:o,round:l,isoWeekday:c}=s._parseOpts;let u=t;return"function"==typeof o&&(u=o(u)),Rt(u)||(u="string"==typeof o?i.parse(u,o):i.parse(u)),null===u?null:(l&&(u="week"!==l||!Ue(c)&&!0!==c?i.startOf(u,l):i.startOf(u,"isoWeek",c)),+u)}function jl(s,t,i,o){const l=we.length;for(let c=we.indexOf(s);c<l-1;++c){const u=Dr[we[c]],g=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((i-t)/(g*u.size))<=o)return we[c]}return we[l-1]}function $l(s,t,i){if(i){if(i.length){const{lo:o,hi:l}=Ji(i,t);s[i[o]>=t?i[o]:i[l]]=!0}}else s[t]=!0}function Yl(s,t,i){const o=[],l={},c=t.length;let u,g;for(u=0;u<c;++u)g=t[u],l[g]=u,o.push({value:g,major:!1});return 0!==c&&i?function qh(s,t,i,o){const l=s._adapter,c=+l.startOf(t[0].value,o),u=t[t.length-1].value;let g,m;for(g=c;g<=u;g=+l.add(g,1,o))m=i[g],m>=0&&(t[m].major=!0);return t}(s,o,l,i):o}class qo extends oi{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i){const o=t.time||(t.time={}),l=this._adapter=new Ho._date(t.adapters.date);Ye(o.displayFormats,l.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return void 0===t?null:Hl(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,o=t.time.unit||"day";let{min:l,max:c,minDefined:u,maxDefined:g}=this.getUserBounds();function m(_){!u&&!isNaN(_.min)&&(l=Math.min(l,_.min)),!g&&!isNaN(_.max)&&(c=Math.max(c,_.max))}(!u||!g)&&(m(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&m(this.getMinMax(!1))),l=Rt(l)&&!isNaN(l)?l:+i.startOf(Date.now(),o),c=Rt(c)&&!isNaN(c)?c:+i.endOf(Date.now(),o)+1,this.min=Math.min(l,c-1),this.max=Math.max(l+1,c)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],o=t[t.length-1]),{min:i,max:o}}buildTicks(){const t=this.options,i=t.time,o=t.ticks,l="labels"===o.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const c=this.min,g=Fi(l,c,this.max);return this._unit=i.unit||(o.autoSkip?jl(i.minUnit,this.min,this.max,this._getLabelCapacity(c)):function Xh(s,t,i,o,l){for(let c=we.length-1;c>=we.indexOf(i);c--){const u=we[c];if(Dr[u].common&&s._adapter.diff(l,o,u)>=t-1)return u}return we[i?we.indexOf(i):0]}(this,g.length,i.minUnit,this.min,this.max)),this._majorUnit=o.major.enabled&&"year"!==this._unit?function Kh(s){for(let t=we.indexOf(s)+1,i=we.length;t<i;++t)if(Dr[we[t]].common)return we[t]}(this._unit):void 0,this.initOffsets(l),t.reverse&&g.reverse(),Yl(this,g,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let l,c,i=0,o=0;this.options.offset&&t.length&&(l=this.getDecimalForValue(t[0]),i=1===t.length?1-l:(this.getDecimalForValue(t[1])-l)/2,c=this.getDecimalForValue(t[t.length-1]),o=1===t.length?c:(c-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;i=Ut(i,0,u),o=Ut(o,0,u),this._offsets={start:i,end:o,factor:1/(i+1+o)}}_generate(){const t=this._adapter,i=this.min,o=this.max,l=this.options,c=l.time,u=c.unit||jl(c.minUnit,i,o,this._getLabelCapacity(i)),g=nt(c.stepSize,1),m="week"===u&&c.isoWeekday,_=Ue(m)||!0===m,M={};let C,A,k=i;if(_&&(k=+t.startOf(k,"isoWeek",m)),k=+t.startOf(k,_?"day":u),t.diff(o,i,u)>1e5*g)throw new Error(i+" and "+o+" are too far apart with stepSize of "+g+" "+u);const L="data"===l.ticks.source&&this.getDataTimestamps();for(C=k,A=0;C<o;C=+t.add(C,g,u),A++)$l(M,C,L);return(C===o||"ticks"===l.bounds||1===A)&&$l(M,C,L),Object.keys(M).sort((I,F)=>I-F).map(I=>+I)}getLabelForValue(t){const o=this.options.time;return this._adapter.format(t,o.tooltipFormat?o.tooltipFormat:o.displayFormats.datetime)}_tickFormatFunction(t,i,o,l){const c=this.options,u=c.time.displayFormats,g=this._unit,m=this._majorUnit,M=m&&u[m],k=o[i],A=this._adapter.format(t,l||(m&&M&&k&&k.major?M:g&&u[g])),L=c.ticks.callback;return L?Mt(L,[A,i,o],this):A}generateTickLabels(t){let i,o,l;for(i=0,o=t.length;i<o;++i)l=t[i],l.label=this._tickFormatFunction(l.value,i,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,o=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+o)*i.factor)}getValueForPixel(t){const i=this._offsets,o=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+o*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,o=this.ctx.measureText(t).width,l=Kt(this.isHorizontal()?i.maxRotation:i.minRotation),c=Math.cos(l),u=Math.sin(l),g=this._resolveTickFontOptions(0).size;return{w:o*c+g*u,h:o*u+g*c}}_getLabelCapacity(t){const i=this.options.time,o=i.displayFormats,l=o[i.unit]||o.millisecond,c=this._tickFormatFunction(t,0,Yl(this,[t],this._majorUnit),l),u=this._getLabelSize(c),g=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return g>0?g:1}getDataTimestamps(){let i,o,t=this._cache.data||[];if(t.length)return t;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(i=0,o=l.length;i<o;++i)t=t.concat(l[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,o;if(t.length)return t;const l=this.getLabels();for(i=0,o=l.length;i<o;++i)t.push(Hl(this,l[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ts(t.sort(Uh))}}function Cr(s,t,i){let c,u,g,m,o=0,l=s.length-1;i?(t>=s[o].pos&&t<=s[l].pos&&({lo:o,hi:l}=Ae(s,"pos",t)),({pos:c,time:g}=s[o]),({pos:u,time:m}=s[l])):(t>=s[o].time&&t<=s[l].time&&({lo:o,hi:l}=Ae(s,"time",t)),({time:c,pos:g}=s[o]),({time:u,pos:m}=s[l]));const _=u-c;return _?g+(m-g)*(t-c)/_:g}qo.id="time",qo.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class xl extends qo{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(t);this._minPos=Cr(i,this.min),this._tableRange=Cr(i,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:i,max:o}=this,l=[],c=[];let u,g,m,_,M;for(u=0,g=t.length;u<g;++u)_=t[u],_>=i&&_<=o&&l.push(_);if(l.length<2)return[{time:i,pos:0},{time:o,pos:1}];for(u=0,g=l.length;u<g;++u)M=l[u+1],m=l[u-1],_=l[u],Math.round((M+m)/2)!==_&&c.push({time:_,pos:u/(g-1)});return c}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const i=this.getDataTimestamps(),o=this.getLabelTimestamps();return t=i.length&&o.length?this.normalize(i.concat(o)):i.length?i:o,t=this._cache.all=t,t}getDecimalForValue(t){return(Cr(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const i=this._offsets,o=this.getDecimalForPixel(t)/i.factor-i.end;return Cr(this._table,o*this._tableRange+this._minPos,!0)}}xl.id="timeseries",xl.defaults=qo.defaults;var Ul=Object.freeze({__proto__:null,CategoryScale:Sr,LinearScale:pl,LogarithmicScale:ml,RadialLinearScale:Ko,TimeScale:qo,TimeSeriesScale:xl});return Bt.register(d,Ul,hi,zl),Bt.helpers=Gs({},Ra),Bt._adapters=Ho,Bt.Animation=qa,Bt.Animations=ni,Bt.animator=Jt,Bt.controllers=Ee.controllers.items,Bt.DatasetController=ee,Bt.Element=de,Bt.elements=hi,Bt.Interaction=Fa,Bt.layouts=Zt,Bt.platforms=ko,Bt.Scale=oi,Bt.Ticks=ms,Object.assign(Bt,d,Ul,hi,zl,ko),Bt.Chart=Bt,"undefined"!=typeof window&&(window.Chart=Bt),Bt}),function(jt,Dt){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Dt():"function"==typeof define&&define.amd?define(Dt):(jt="undefined"!=typeof globalThis?globalThis:jt||self).Chart=Dt()}(this,function(){"use strict";const jt="undefined"==typeof window?function(a){return a()}:window.requestAnimationFrame;function Dt(a,e,n){const r=n||(f=>Array.prototype.slice.call(f));let h=!1,d=[];return function(...f){d=r(f),h||(h=!0,jt.call(window,()=>{h=!1,a.apply(e,d)}))}}function ie(a,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(a,e,r)):a.apply(this,r),e}}const xs=a=>"start"===a?"left":"end"===a?"right":"center",$t=(a,e,n)=>"start"===a?e:"end"===a?n:(e+n)/2,qt=(a,e,n,r)=>a===(r?"left":"right")?n:"center"===a?(e+n)/2:e;var ke=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(a,e,n,r){const d=e.duration;e.listeners[r].forEach(f=>f({chart:a,initial:e.initial,numSteps:d,currentStep:Math.min(n-e.start,d)}))}_refresh(){this._request||(this._running=!0,this._request=jt.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(a=Date.now()){let e=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const h=n.items;let d,f=h.length-1,p=!1;for(;f>=0;--f)d=h[f],d._active?(d._total>n.duration&&(n.duration=d._total),d.tick(a),p=!0):(h[f]=h[h.length-1],h.pop());p&&(r.draw(),this._notify(r,n,a,"progress")),h.length||(n.running=!1,this._notify(r,n,a,"complete"),n.initial=!1),e+=h.length}),this._lastDate=a,0===e&&(this._running=!1)}_getAnims(a){const e=this._charts;let n=e.get(a);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(a,n)),n}listen(a,e,n){this._getAnims(a).listeners[e].push(n)}add(a,e){e&&e.length&&this._getAnims(a).items.push(...e)}has(a){return this._getAnims(a).items.length>0}start(a){const e=this._charts.get(a);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(a){if(!this._running)return!1;const e=this._charts.get(a);return!!(e&&e.running&&e.items.length)}stop(a){const e=this._charts.get(a);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(a,e,Date.now(),"complete")}remove(a){return this._charts.delete(a)}};function _s(a){return a+.5|0}const Jt=(a,e,n)=>Math.max(Math.min(a,n),e);function je(a){return Jt(_s(2.55*a),0,255)}function se(a){return Jt(_s(255*a),0,255)}function fe(a){return Jt(_s(a/2.55)/100,0,1)}function $e(a){return Jt(_s(100*a),0,100)}const Yt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Zs=[..."0123456789ABCDEF"],_e=a=>Zs[15&a],jn=a=>Zs[(240&a)>>4]+Zs[15&a],Qs=a=>(240&a)>>4==(15&a),Js=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ta(a,e,n){const r=e*Math.min(n,1-n),h=(d,f=(d+a/30)%12)=>n-r*Math.max(Math.min(f-3,9-f,1),-1);return[h(0),h(8),h(4)]}function Tr(a,e,n){const r=(h,d=(h+a/60)%6)=>n-n*e*Math.max(Math.min(d,4-d,1),0);return[r(5),r(3),r(1)]}function Lr(a,e,n){const r=ta(a,1,.5);let h;for(e+n>1&&(h=1/(e+n),e*=h,n*=h),h=0;h<3;h++)r[h]*=1-e-n,r[h]+=e;return r}function $n(a){const e=a.r/255,n=a.g/255,r=a.b/255,h=Math.max(e,n,r),d=Math.min(e,n,r),f=(h+d)/2;let p,b,x;return h!==d&&(x=h-d,b=f>.5?x/(2-h-d):x/(h+d),v=n,w=r,S=x,p=(y=e)===(P=h)?(v-w)/S+(v<w?6:0):v===P?(w-y)/S+2:(y-v)/S+4,p=60*p+.5),[0|p,b||0,f];var y,v,w,S,P}function Yn(a,e,n,r){return(Array.isArray(e)?a(e[0],e[1],e[2]):a(e,n,r)).map(se)}function tn(a,e,n){return Yn(ta,a,e,n)}function ea(a){return(a%360+360)%360}const ia={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},en={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Xi;const Er=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Xn=a=>a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055,Li=a=>a<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4);function sn(a,e,n){if(a){let r=$n(a);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=tn(r),a.r=r[0],a.g=r[1],a.b=r[2]}}function sa(a,e){return a&&Object.assign(e||{},a)}function na(a){var e={r:0,g:0,b:0,a:255};return Array.isArray(a)?a.length>=3&&(e={r:a[0],g:a[1],b:a[2],a:255},a.length>3&&(e.a=se(a[3]))):(e=sa(a,{r:0,g:0,b:0,a:1})).a=se(e.a),e}class ys{constructor(e){if(e instanceof ys)return e;const n=typeof e;let r;var h,d,f;"object"===n?r=na(e):"string"===n&&(f=(h=e).length,"#"===h[0]&&(4===f||5===f?d={r:255&17*Yt[h[1]],g:255&17*Yt[h[2]],b:255&17*Yt[h[3]],a:5===f?17*Yt[h[4]]:255}:7!==f&&9!==f||(d={r:Yt[h[1]]<<4|Yt[h[2]],g:Yt[h[3]]<<4|Yt[h[4]],b:Yt[h[5]]<<4|Yt[h[6]],a:9===f?Yt[h[7]]<<4|Yt[h[8]]:255})),r=d||function Un(a){Xi||(Xi=function(){const n={},r=Object.keys(en),h=Object.keys(ia);let d,f,p,b,x;for(d=0;d<r.length;d++){for(b=x=r[d],f=0;f<h.length;f++)p=h[f],x=x.replace(p,ia[p]);p=parseInt(en[b],16),n[x]=[p>>16&255,p>>8&255,255&p]}return n}(),Xi.transparent=[0,0,0,0]);const e=Xi[a.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(e)||function oa(a){return"r"===a.charAt(0)?function(e){const n=Er.exec(e);let r,h,d,f=255;if(n){if(n[7]!==r){const p=+n[7];f=n[8]?je(p):Jt(255*p,0,255)}return r=+n[1],h=+n[3],d=+n[5],r=255&(n[2]?je(r):Jt(r,0,255)),h=255&(n[4]?je(h):Jt(h,0,255)),d=255&(n[6]?je(d):Jt(d,0,255)),{r,g:h,b:d,a:f}}}(a):function Rr(a){const e=Js.exec(a);let n,r=255;if(!e)return;e[5]!==n&&(r=e[6]?je(+e[5]):se(+e[5]));const h=ea(+e[2]),d=+e[3]/100,f=+e[4]/100;return n="hwb"===e[1]?Yn(Lr,h,d,f):"hsv"===e[1]?Yn(Tr,h,d,f):tn(h,d,f),{r:n[0],g:n[1],b:n[2],a:r}}(a)}(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=sa(this._rgb);return e&&(e.a=fe(e.a)),e}set rgb(e){this._rgb=na(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${fe(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?function Ar(a){var n,e=Qs((n=a).r)&&Qs(n.g)&&Qs(n.b)&&Qs(n.a)?_e:jn;return a?"#"+e(a.r)+e(a.g)+e(a.b)+((n,r)=>n<255?r(n):"")(a.a,e):void 0}(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const n=$n(e),r=n[0],h=$e(n[1]),d=$e(n[2]);return e.a<255?`hsla(${r}, ${h}%, ${d}%, ${fe(e.a)})`:`hsl(${r}, ${h}%, ${d}%)`}(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,h=e.rgb;let d;const f=n===d?.5:n,p=2*f-1,b=r.a-h.a,x=((p*b==-1?p:(p+b)/(1+p*b))+1)/2;d=1-x,r.r=255&x*r.r+d*h.r+.5,r.g=255&x*r.g+d*h.g+.5,r.b=255&x*r.b+d*h.b+.5,r.a=f*r.a+(1-f)*h.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=function(r,h,d){const f=Li(fe(r.r)),p=Li(fe(r.g)),b=Li(fe(r.b));return{r:se(Xn(f+d*(Li(fe(h.r))-f))),g:se(Xn(p+d*(Li(fe(h.g))-p))),b:se(Xn(b+d*(Li(fe(h.b))-b))),a:r.a+d*(h.a-r.a)}}(this._rgb,e._rgb,n)),this}clone(){return new ys(this.rgb)}alpha(e){return this._rgb.a=se(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,n=_s(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=n,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return sn(this._rgb,2,e),this}darken(e){return sn(this._rgb,2,-e),this}saturate(e){return sn(this._rgb,1,e),this}desaturate(e){return sn(this._rgb,1,-e),this}rotate(e){return r=e,(h=$n(n=this._rgb))[0]=ea(h[0]+r),h=tn(h),n.r=h[0],n.g=h[1],n.b=h[2],this;var n,r,h}}function aa(a){return new ys(a)}function Ki(a){if(a&&"object"==typeof a){const e=a.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Kn(a){return Ki(a)?a:aa(a)}function nn(a){return Ki(a)?a:aa(a).saturate(.5).darken(.1).hexString()}function Ie(){}const ra=function(){let a=0;return function(){return a++}}();function ft(a){return null==a}function pt(a){if(Array.isArray&&Array.isArray(a))return!0;const e=Object.prototype.toString.call(a);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function dt(a){return null!==a&&"[object Object]"===Object.prototype.toString.call(a)}const Ot=a=>("number"==typeof a||a instanceof Number)&&isFinite(+a);function re(a,e){return Ot(a)?a:e}function at(a,e){return void 0===a?e:a}const la=(a,e)=>"string"==typeof a&&a.endsWith("%")?parseFloat(a)/100:a/e,qi=(a,e)=>"string"==typeof a&&a.endsWith("%")?parseFloat(a)/100*e:+a;function wt(a,e,n){if(a&&"function"==typeof a.call)return a.apply(n,e)}function mt(a,e,n,r){let h,d,f;if(pt(a))if(d=a.length,r)for(h=d-1;h>=0;h--)e.call(n,a[h],h);else for(h=0;h<d;h++)e.call(n,a[h],h);else if(dt(a))for(f=Object.keys(a),d=f.length,h=0;h<d;h++)e.call(n,a[f[h]],f[h])}function Ri(a,e){let n,r,h,d;if(!a||!e||a.length!==e.length)return!1;for(n=0,r=a.length;n<r;++n)if(h=a[n],d=e[n],h.datasetIndex!==d.datasetIndex||h.index!==d.index)return!1;return!0}function ui(a){if(pt(a))return a.map(ui);if(dt(a)){const e=Object.create(null),n=Object.keys(a),r=n.length;let h=0;for(;h<r;++h)e[n[h]]=ui(a[n[h]]);return e}return a}function Se(a){return-1===["__proto__","prototype","constructor"].indexOf(a)}function qn(a,e,n,r){if(!Se(a))return;const h=e[a],d=n[a];dt(h)&&dt(d)?lt(h,d,r):e[a]=ui(d)}function lt(a,e,n){const r=pt(e)?e:[e],h=r.length;if(!dt(a))return a;const d=(n=n||{}).merger||qn;for(let f=0;f<h;++f){if(!dt(e=r[f]))continue;const p=Object.keys(e);for(let b=0,x=p.length;b<x;++b)d(p[b],a,e,n)}return a}function bt(a,e){return lt(a,e,{merger:ht})}function ht(a,e,n){if(!Se(a))return;const r=e[a],h=n[a];dt(r)&&dt(h)?bt(r,h):Object.prototype.hasOwnProperty.call(e,a)||(e[a]=ui(h))}function Rt(a,e){const n=a.indexOf(".",e);return-1===n?a.length:n}function Wt(a,e){if(""===e)return a;let n=0,r=Rt(e,n);for(;a&&r>n;)a=a[e.slice(n,r)],n=r+1,r=Rt(e,n);return a}function nt(a){return a.charAt(0).toUpperCase()+a.slice(1)}const le=a=>void 0!==a,Pe=a=>"function"==typeof a,Mt=(a,e)=>{if(a.size!==e.size)return!1;for(const n of a)if(!e.has(n))return!1;return!0};function _t(a){return"mouseup"===a.type||"click"===a.type||"contextmenu"===a.type}const De=Object.create(null),Ei=Object.create(null);function Gi(a,e){if(!e)return a;const n=e.split(".");for(let r=0,h=n.length;r<h;++r){const d=n[r];a=a[d]||(a[d]=Object.create(null))}return a}function on(a,e,n){return"string"==typeof e?lt(Gi(a,e),n):lt(Gi(a,""),e)}var rt=new class{constructor(a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,n)=>nn(n.backgroundColor),this.hoverBorderColor=(e,n)=>nn(n.borderColor),this.hoverColor=(e,n)=>nn(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(a)}set(a,e){return on(this,a,e)}get(a){return Gi(this,a)}describe(a,e){return on(Ei,a,e)}override(a,e){return on(De,a,e)}route(a,e,n,r){const h=Gi(this,a),d=Gi(this,n),f="_"+e;Object.defineProperties(h,{[f]:{value:h[e],writable:!0},[e]:{enumerable:!0,get(){const p=this[f],b=d[r];return dt(p)?Object.assign({},b,p):at(p,b)},set(p){this[f]=p}}})}}({_scriptable:a=>!a.startsWith("on"),_indexable:a=>"events"!==a,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Ye(a,e,n){n=n||(f=>a[f]<e);let r,h=a.length-1,d=0;for(;h-d>1;)r=d+h>>1,n(r)?d=r:h=r;return{lo:d,hi:h}}const Ce=(a,e,n)=>Ye(a,n,r=>a[r][e]<n),ha=(a,e,n)=>Ye(a,n,r=>a[r][e]>=n);function ca(a,e,n){let r=0,h=a.length;for(;r<h&&a[r]<e;)r++;for(;h>r&&a[h-1]>n;)h--;return r>0||h<a.length?a.slice(r,h):a}const da=["push","pop","shift","splice","unshift"];function Gn(a,e){a._chartjs?a._chartjs.listeners.push(e):(Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),da.forEach(n=>{const r="_onData"+nt(n),h=a[n];Object.defineProperty(a,n,{configurable:!0,enumerable:!1,value(...d){const f=h.apply(this,d);return a._chartjs.listeners.forEach(p=>{"function"==typeof p[r]&&p[r](...d)}),f}})}))}function Oe(a,e){const n=a._chartjs;if(!n)return;const r=n.listeners,h=r.indexOf(e);-1!==h&&r.splice(h,1),r.length>0||(da.forEach(d=>{delete a[d]}),delete a._chartjs)}function Zi(a){const e=new Set;let n,r;for(n=0,r=a.length;n<r;++n)e.add(a[n]);return e.size===r?a:Array.from(e)}const ct=Math.PI,ut=2*ct,an=ut+ct,Qi=Number.POSITIVE_INFINITY,fi=ct/180,At=ct/2,Fe=ct/4,vs=2*ct/3,ge=Math.log10,ot=Math.sign;function Ji(a){const e=Math.round(a);a=Fi(a,e,a/1e3)?e:a;const n=Math.pow(10,Math.floor(ge(a))),r=a/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Ae(a){const e=[],n=Math.sqrt(a);let r;for(r=1;r<n;r++)a%r==0&&(e.push(r),e.push(a/r));return n===(0|n)&&e.push(n),e.sort((h,d)=>h-d).pop(),e}function Ii(a){return!isNaN(parseFloat(a))&&isFinite(a)}function Fi(a,e,n){return Math.abs(a-e)<n}function Zn(a,e){const n=Math.round(a);return n-e<=a&&n+e>=a}function rn(a,e,n){let r,h,d;for(r=0,h=a.length;r<h;r++)d=a[r][n],isNaN(d)||(e.min=Math.min(e.min,d),e.max=Math.max(e.max,d))}function he(a){return a*(ct/180)}function ts(a){return a*(180/ct)}function St(a){if(!Ot(a))return;let e=1,n=0;for(;Math.round(a*e)/e!==a;)e*=10,n++;return n}function yt(a,e){const n=e.x-a.x,r=e.y-a.y,h=Math.sqrt(n*n+r*r);let d=Math.atan2(r,n);return d<-.5*ct&&(d+=ut),{angle:d,distance:h}}function Ms(a,e){return Math.sqrt(Math.pow(e.x-a.x,2)+Math.pow(e.y-a.y,2))}function es(a,e){return(a-e+an)%ut-ct}function ne(a){return(a%ut+ut)%ut}function kt(a,e,n,r){const h=ne(a),d=ne(e),f=ne(n),p=ne(d-h),b=ne(f-h),x=ne(h-d),y=ne(h-f);return h===d||h===f||r&&d===f||p>b&&x<y}function Lt(a,e,n){return Math.max(e,Math.min(n,a))}function ln(a){return Lt(a,-32768,32767)}function Ft(a,e,n,r=1e-6){return a>=Math.min(e,n)-r&&a<=Math.max(e,n)+r}function pe(){return"undefined"!=typeof window&&"undefined"!=typeof document}function is(a){let e=a.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function ws(a,e,n){let r;return"string"==typeof a?(r=parseInt(a,10),-1!==a.indexOf("%")&&(r=r/100*e.parentNode[n])):r=a,r}const Ue=a=>window.getComputedStyle(a,null);function zi(a,e){return Ue(a).getPropertyValue(e)}const ua=["top","right","bottom","left"];function Xe(a,e,n){const r={};n=n?"-"+n:"";for(let h=0;h<4;h++){const d=ua[h];r[d]=parseFloat(a[e+"-"+d+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function Kt(a,e){if("native"in a)return a;const{canvas:n,currentDevicePixelRatio:r}=e,h=Ue(n),d="border-box"===h.boxSizing,f=Xe(h,"padding"),p=Xe(h,"border","width"),{x:b,y:x,box:y}=function(D,O){const T=D.touches,R=T&&T.length?T[0]:D,{offsetX:E,offsetY:z}=R;let V,N,Y=!1;if(U=D.target,!(E>0||z>0)||U&&U.shadowRoot){const Q=O.getBoundingClientRect();V=R.clientX-Q.left,N=R.clientY-Q.top,Y=!0}else V=E,N=z;var U;return{x:V,y:N,box:Y}}(a,n),v=f.left+(y&&p.left),w=f.top+(y&&p.top);let{width:S,height:P}=e;return d&&(S-=f.width+p.width,P-=f.height+p.height),{x:Math.round((b-v)/S*n.width/r),y:Math.round((x-w)/P*n.height/r)}}const ss=a=>Math.round(10*a)/10;function hn(a,e,n,r){const h=Ue(a),d=Xe(h,"margin"),f=ws(h.maxWidth,a,"clientWidth")||Qi,p=ws(h.maxHeight,a,"clientHeight")||Qi,b=function(v,w,S){let P,D;if(void 0===w||void 0===S){const O=is(v);if(O){const T=O.getBoundingClientRect(),R=Ue(O),E=Xe(R,"border","width"),z=Xe(R,"padding");w=T.width-z.width-E.width,S=T.height-z.height-E.height,P=ws(R.maxWidth,O,"clientWidth"),D=ws(R.maxHeight,O,"clientHeight")}else w=v.clientWidth,S=v.clientHeight}return{width:w,height:S,maxWidth:P||Qi,maxHeight:D||Qi}}(a,e,n);let{width:x,height:y}=b;if("content-box"===h.boxSizing){const v=Xe(h,"border","width"),w=Xe(h,"padding");x-=w.width+v.width,y-=w.height+v.height}return x=Math.max(0,x-d.width),y=Math.max(0,r?Math.floor(x/r):y-d.height),x=ss(Math.min(x,f,b.maxWidth)),y=ss(Math.min(y,p,b.maxHeight)),x&&!y&&(y=ss(x/2)),{width:x,height:y}}function ks(a,e,n){const r=e||1,h=Math.floor(a.height*r),d=Math.floor(a.width*r);a.height=h/r,a.width=d/r;const f=a.canvas;return f.style&&(n||!f.style.height&&!f.style.width)&&(f.style.height=`${a.height}px`,f.style.width=`${a.width}px`),(a.currentDevicePixelRatio!==r||f.height!==h||f.width!==d)&&(a.currentDevicePixelRatio=r,f.height=h,f.width=d,a.ctx.setTransform(r,0,0,r,0,0),!0)}const Ss=function(){let a=!1;try{const e={get passive(){return a=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return a}();function cn(a,e){const n=zi(a,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function oe(a){return!a||ft(a.size)||ft(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family}function ze(a,e,n,r,h){let d=e[h];return d||(d=e[h]=a.measureText(h).width,n.push(h)),d>r&&(r=d),r}function Ut(a,e,n,r){let h=(r=r||{}).data=r.data||{},d=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(h=r.data={},d=r.garbageCollect=[],r.font=e),a.save(),a.font=e;let f=0;const p=n.length;let b,x,y,v,w;for(b=0;b<p;b++)if(v=n[b],null!=v&&!0!==pt(v))f=ze(a,h,d,f,v);else if(pt(v))for(x=0,y=v.length;x<y;x++)w=v[x],null==w||pt(w)||(f=ze(a,h,d,f,w));a.restore();const S=d.length/2;if(S>n.length){for(b=0;b<S;b++)delete h[d[b]];d.splice(0,S)}return f}function Ke(a,e,n){const r=a.currentDevicePixelRatio,h=0!==n?Math.max(n/2,.5):0;return Math.round((e-h)*r)/r+h}function ye(a,e){(e=e||a.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,a.width,a.height),e.restore()}function Bi(a,e,n,r){let h,d,f,p,b;const x=e.pointStyle,y=e.rotation,v=e.radius;let w=(y||0)*fi;if(x&&"object"==typeof x&&(h=x.toString(),"[object HTMLImageElement]"===h||"[object HTMLCanvasElement]"===h))return a.save(),a.translate(n,r),a.rotate(w),a.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),void a.restore();if(!(isNaN(v)||v<=0)){switch(a.beginPath(),x){default:a.arc(n,r,v,0,ut),a.closePath();break;case"triangle":a.moveTo(n+Math.sin(w)*v,r-Math.cos(w)*v),w+=vs,a.lineTo(n+Math.sin(w)*v,r-Math.cos(w)*v),w+=vs,a.lineTo(n+Math.sin(w)*v,r-Math.cos(w)*v),a.closePath();break;case"rectRounded":b=.516*v,p=v-b,d=Math.cos(w+Fe)*p,f=Math.sin(w+Fe)*p,a.arc(n-d,r-f,b,w-ct,w-At),a.arc(n+f,r-d,b,w-At,w),a.arc(n+d,r+f,b,w,w+At),a.arc(n-f,r+d,b,w+At,w+ct),a.closePath();break;case"rect":if(!y){p=Math.SQRT1_2*v,a.rect(n-p,r-p,2*p,2*p);break}w+=Fe;case"rectRot":d=Math.cos(w)*v,f=Math.sin(w)*v,a.moveTo(n-d,r-f),a.lineTo(n+f,r-d),a.lineTo(n+d,r+f),a.lineTo(n-f,r+d),a.closePath();break;case"crossRot":w+=Fe;case"cross":d=Math.cos(w)*v,f=Math.sin(w)*v,a.moveTo(n-d,r-f),a.lineTo(n+d,r+f),a.moveTo(n+f,r-d),a.lineTo(n-f,r+d);break;case"star":d=Math.cos(w)*v,f=Math.sin(w)*v,a.moveTo(n-d,r-f),a.lineTo(n+d,r+f),a.moveTo(n+f,r-d),a.lineTo(n-f,r+d),w+=Fe,d=Math.cos(w)*v,f=Math.sin(w)*v,a.moveTo(n-d,r-f),a.lineTo(n+d,r+f),a.moveTo(n+f,r-d),a.lineTo(n-f,r+d);break;case"line":d=Math.cos(w)*v,f=Math.sin(w)*v,a.moveTo(n-d,r-f),a.lineTo(n+d,r+f);break;case"dash":a.moveTo(n,r),a.lineTo(n+Math.cos(w)*v,r+Math.sin(w)*v)}a.fill(),e.borderWidth>0&&a.stroke()}}function qe(a,e,n){return n=n||.5,!e||a&&a.x>e.left-n&&a.x<e.right+n&&a.y>e.top-n&&a.y<e.bottom+n}function gi(a,e){a.save(),a.beginPath(),a.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),a.clip()}function pi(a){a.restore()}function Qn(a,e,n,r,h){if(!e)return a.lineTo(n.x,n.y);if("middle"===h){const d=(e.x+n.x)/2;a.lineTo(d,e.y),a.lineTo(d,n.y)}else"after"===h!=!!r?a.lineTo(e.x,n.y):a.lineTo(n.x,e.y);a.lineTo(n.x,n.y)}function fa(a,e,n,r){if(!e)return a.lineTo(n.x,n.y);a.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function ce(a,e,n,r,h,d={}){const f=pt(e)?e:[e],p=d.strokeWidth>0&&""!==d.strokeColor;let b,x;for(a.save(),a.font=h.string,y=a,(v=d).translation&&y.translate(v.translation[0],v.translation[1]),ft(v.rotation)||y.rotate(v.rotation),v.color&&(y.fillStyle=v.color),v.textAlign&&(y.textAlign=v.textAlign),v.textBaseline&&(y.textBaseline=v.textBaseline),b=0;b<f.length;++b)x=f[b],p&&(d.strokeColor&&(a.strokeStyle=d.strokeColor),ft(d.strokeWidth)||(a.lineWidth=d.strokeWidth),a.strokeText(x,n,r,d.maxWidth)),a.fillText(x,n,r,d.maxWidth),Ir(a,n,r,x,d),r+=h.lineHeight;var y,v;a.restore()}function Ir(a,e,n,r,h){if(h.strikethrough||h.underline){const d=a.measureText(r),f=e-d.actualBoundingBoxLeft,p=e+d.actualBoundingBoxRight,b=n-d.actualBoundingBoxAscent,x=n+d.actualBoundingBoxDescent,y=h.strikethrough?(b+x)/2:x;a.strokeStyle=a.fillStyle,a.beginPath(),a.lineWidth=h.decorationWidth||2,a.moveTo(f,y),a.lineTo(p,y),a.stroke()}}function ns(a,e){const{x:n,y:r,w:h,h:d,radius:f}=e;a.arc(n+f.topLeft,r+f.topLeft,f.topLeft,-At,ct,!0),a.lineTo(n,r+d-f.bottomLeft),a.arc(n+f.bottomLeft,r+d-f.bottomLeft,f.bottomLeft,ct,At,!0),a.lineTo(n+h-f.bottomRight,r+d),a.arc(n+h-f.bottomRight,r+d-f.bottomRight,f.bottomRight,At,0,!0),a.lineTo(n+h,r+f.topRight),a.arc(n+h-f.topRight,r+f.topRight,f.topRight,0,-At,!0),a.lineTo(n+f.topLeft,r)}function Te(a,e=[""],n=a,r,h=(()=>a[0])){le(r)||(r=fn("_fallback",a));const d={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:a,_rootScopes:n,_fallback:r,_getTarget:h,override:f=>Te([f,...a],e,n,r)};return new Proxy(d,{deleteProperty:(f,p)=>(delete f[p],delete f._keys,delete a[0][p],!0),get:(f,p)=>Jn(f,p,()=>function(b,x,y,v){let w;for(const S of x)if(w=fn(ga(S,b),y),le(w))return Ds(b,w)?un(y,v,b,w):w}(p,e,a,f)),getOwnPropertyDescriptor:(f,p)=>Reflect.getOwnPropertyDescriptor(f._scopes[0],p),getPrototypeOf:()=>Reflect.getPrototypeOf(a[0]),has:(f,p)=>os(f).includes(p),ownKeys:f=>os(f),set(f,p,b){const x=f._storage||(f._storage=h());return f[p]=x[p]=b,delete f._keys,!0}})}function Vi(a,e,n,r){const h={_cacheable:!1,_proxy:a,_context:e,_subProxy:n,_stack:new Set,_descriptors:Ps(a,r),setContext:d=>Vi(a,d,n,r),override:d=>Vi(a.override(d),e,n,r)};return new Proxy(h,{deleteProperty:(d,f)=>(delete d[f],delete a[f],!0),get:(d,f,p)=>Jn(d,f,()=>function(b,x,y){const{_proxy:v,_context:w,_subProxy:S,_descriptors:P}=b;let D=v[x];return Pe(D)&&P.isScriptable(x)&&(D=function(O,T,R,E){const{_proxy:z,_context:V,_subProxy:N,_stack:Y}=R;if(Y.has(O))throw new Error("Recursion detected: "+Array.from(Y).join("->")+"->"+O);return Y.add(O),T=T(V,N||E),Y.delete(O),Ds(O,T)&&(T=un(z._scopes,z,O,T)),T}(x,D,b,y)),pt(D)&&D.length&&(D=function(O,T,R,E){const{_proxy:z,_context:V,_subProxy:N,_descriptors:Y}=R;if(le(V.index)&&E(O))T=T[V.index%T.length];else if(dt(T[0])){const Q=T,G=z._scopes.filter(U=>U!==Q);T=[];for(const U of Q){const q=un(G,z,O,U);T.push(Vi(q,V,N&&N[O],Y))}}return T}(x,D,b,P.isIndexable)),Ds(x,D)&&(D=Vi(D,w,S&&S[x],P)),D}(d,f,p)),getOwnPropertyDescriptor:(d,f)=>d._descriptors.allKeys?Reflect.has(a,f)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(a,f),getPrototypeOf:()=>Reflect.getPrototypeOf(a),has:(d,f)=>Reflect.has(a,f),ownKeys:()=>Reflect.ownKeys(a),set:(d,f,p)=>(a[f]=p,delete d[f],!0)})}function Ps(a,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:h=e.allKeys}=a;return{allKeys:h,scriptable:n,indexable:r,isScriptable:Pe(n)?n:()=>n,isIndexable:Pe(r)?r:()=>r}}const ga=(a,e)=>a?a+nt(e):e,Ds=(a,e)=>dt(e)&&"adapters"!==a&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Jn(a,e,n){if(Object.prototype.hasOwnProperty.call(a,e))return a[e];const r=n();return a[e]=r,r}function dn(a,e,n){return Pe(a)?a(e,n):a}const pa=(a,e)=>!0===a?e:"string"==typeof a?Wt(e,a):void 0;function Cs(a,e,n,r,h){for(const d of e){const f=pa(n,d);if(f){a.add(f);const p=dn(f._fallback,n,h);if(le(p)&&p!==n&&p!==r)return p}else if(!1===f&&le(r)&&n!==r)return null}return!1}function un(a,e,n,r){const h=e._rootScopes,d=dn(e._fallback,n,r),f=[...a,...h],p=new Set;p.add(r);let b=Ge(p,f,n,d||n,r);return null!==b&&(!le(d)||d===n||(b=Ge(p,f,d,b,r),null!==b))&&Te(Array.from(p),[""],h,d,()=>function(x,y,v){const w=x._getTarget();y in w||(w[y]={});const S=w[y];return pt(S)&&dt(v)?v:S}(e,n,r))}function Ge(a,e,n,r,h){for(;n;)n=Cs(a,e,n,r,h);return n}function fn(a,e){for(const n of e){if(!n)continue;const r=n[a];if(le(r))return r}}function os(a){let e=a._keys;return e||(e=a._keys=function(n){const r=new Set;for(const h of n)for(const d of Object.keys(h).filter(f=>!f.startsWith("_")))r.add(d);return Array.from(r)}(a._scopes)),e}function mi(a,e,n,r){const{iScale:h}=a,{key:d="r"}=this._parsing,f=new Array(r);let p,b,x,y;for(p=0,b=r;p<b;++p)x=p+n,y=e[x],f[p]={r:h.parse(Wt(y,d),x)};return f}const Os=Number.EPSILON||1e-14,Be=(a,e)=>e<a.length&&!a[e].skip&&a[e],to=a=>"x"===a?"y":"x";function eo(a,e,n,r){const h=a.skip?e:a,d=e,f=n.skip?e:n,p=Ms(d,h),b=Ms(f,d);let x=p/(p+b),y=b/(p+b);x=isNaN(x)?0:x,y=isNaN(y)?0:y;const v=r*x,w=r*y;return{previous:{x:d.x-v*(f.x-h.x),y:d.y-v*(f.y-h.y)},next:{x:d.x+w*(f.x-h.x),y:d.y+w*(f.y-h.y)}}}function Ze(a,e="x"){const n=to(e),r=a.length,h=Array(r).fill(0),d=Array(r);let f,p,b,x=Be(a,0);for(f=0;f<r;++f)if(p=b,b=x,x=Be(a,f+1),b){if(x){const y=x[e]-b[e];h[f]=0!==y?(x[n]-b[n])/y:0}d[f]=p?x?ot(h[f-1])!==ot(h[f])?0:(h[f-1]+h[f])/2:h[f-1]:h[f]}(function(y,v,w){const S=y.length;let P,D,O,T,R,E=Be(y,0);for(let z=0;z<S-1;++z)R=E,E=Be(y,z+1),R&&E&&(Fi(v[z],0,Os)?w[z]=w[z+1]=0:(P=w[z]/v[z],D=w[z+1]/v[z],T=Math.pow(P,2)+Math.pow(D,2),T<=9||(O=3/Math.sqrt(T),w[z]=P*O*v[z],w[z+1]=D*O*v[z])))})(a,h,d),function(y,v,w="x"){const S=to(w),P=y.length;let D,O,T,R=Be(y,0);for(let E=0;E<P;++E){if(O=T,T=R,R=Be(y,E+1),!T)continue;const z=T[w],V=T[S];O&&(D=(z-O[w])/3,T[`cp1${w}`]=z-D,T[`cp1${S}`]=V-D*v[E]),R&&(D=(R[w]-z)/3,T[`cp2${w}`]=z+D,T[`cp2${S}`]=V+D*v[E])}}(a,d,e)}function gn(a,e,n){return Math.max(Math.min(a,n),e)}function ma(a,e,n,r,h){let d,f,p,b;if(e.spanGaps&&(a=a.filter(x=>!x.skip)),"monotone"===e.cubicInterpolationMode)Ze(a,h);else{let x=r?a[a.length-1]:a[0];for(d=0,f=a.length;d<f;++d)p=a[d],b=eo(x,p,a[Math.min(d+1,f-(r?0:1))%f],e.tension),p.cp1x=b.previous.x,p.cp1y=b.previous.y,p.cp2x=b.next.x,p.cp2y=b.next.y,x=p}e.capBezierPoints&&function(x,y){let v,w,S,P,D,O=qe(x[0],y);for(v=0,w=x.length;v<w;++v)D=P,P=O,O=v<w-1&&qe(x[v+1],y),P&&(S=x[v],D&&(S.cp1x=gn(S.cp1x,y.left,y.right),S.cp1y=gn(S.cp1y,y.top,y.bottom)),O&&(S.cp2x=gn(S.cp2x,y.left,y.right),S.cp2y=gn(S.cp2y,y.top,y.bottom)))}(a,n)}const Qe=a=>0===a||1===a,As=(a,e,n)=>-Math.pow(2,10*(a-=1))*Math.sin((a-e)*ut/n),bi=(a,e,n)=>Math.pow(2,-10*a)*Math.sin((a-e)*ut/n)+1,xi={linear:a=>a,easeInQuad:a=>a*a,easeOutQuad:a=>-a*(a-2),easeInOutQuad:a=>(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1),easeInCubic:a=>a*a*a,easeOutCubic:a=>(a-=1)*a*a+1,easeInOutCubic:a=>(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2),easeInQuart:a=>a*a*a*a,easeOutQuart:a=>-((a-=1)*a*a*a-1),easeInOutQuart:a=>(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2),easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>(a-=1)*a*a*a*a+1,easeInOutQuint:a=>(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2),easeInSine:a=>1-Math.cos(a*At),easeOutSine:a=>Math.sin(a*At),easeInOutSine:a=>-.5*(Math.cos(ct*a)-1),easeInExpo:a=>0===a?0:Math.pow(2,10*(a-1)),easeOutExpo:a=>1===a?1:1-Math.pow(2,-10*a),easeInOutExpo:a=>Qe(a)?a:a<.5?.5*Math.pow(2,10*(2*a-1)):.5*(2-Math.pow(2,-10*(2*a-1))),easeInCirc:a=>a>=1?a:-(Math.sqrt(1-a*a)-1),easeOutCirc:a=>Math.sqrt(1-(a-=1)*a),easeInOutCirc:a=>(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1),easeInElastic:a=>Qe(a)?a:As(a,.075,.3),easeOutElastic:a=>Qe(a)?a:bi(a,.075,.3),easeInOutElastic:a=>Qe(a)?a:a<.5?.5*As(2*a,.1125,.45):.5+.5*bi(2*a-1,.1125,.45),easeInBack:a=>a*a*(2.70158*a-1.70158),easeOutBack:a=>(a-=1)*a*(2.70158*a+1.70158)+1,easeInOutBack(a){let e=1.70158;return(a/=.5)<1?a*a*((1+(e*=1.525))*a-e)*.5:.5*((a-=2)*a*((1+(e*=1.525))*a+e)+2)},easeInBounce:a=>1-xi.easeOutBounce(1-a),easeOutBounce:a=>a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,easeInOutBounce:a=>a<.5?.5*xi.easeInBounce(2*a):.5*xi.easeOutBounce(2*a-1)+.5};function _i(a,e,n,r){return{x:a.x+n*(e.x-a.x),y:a.y+n*(e.y-a.y)}}function pn(a,e,n,r){return{x:a.x+n*(e.x-a.x),y:"middle"===r?n<.5?a.y:e.y:"after"===r?n<1?a.y:e.y:n>0?e.y:a.y}}function io(a,e,n,r){const h={x:a.cp2x,y:a.cp2y},d={x:e.cp1x,y:e.cp1y},f=_i(a,h,n),p=_i(h,d,n),b=_i(d,e,n),x=_i(f,p,n),y=_i(p,b,n);return _i(x,y,n)}const ba=new Map;function as(a,e,n){return function(r,h){h=h||{};const d=r+JSON.stringify(h);let f=ba.get(d);return f||(f=new Intl.NumberFormat(r,h),ba.set(d,f)),f}(e,n).format(a)}const Fr=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),xa=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function _a(a,e){const n=(""+a).match(Fr);if(!n||"normal"===n[1])return 1.2*e;switch(a=+n[2],n[3]){case"px":return a;case"%":a/=100}return e*a}function mn(a,e){const n={},r=dt(e),h=r?Object.keys(e):e,d=dt(a)?r?f=>at(a[f],a[e[f]]):f=>a[f]:()=>a;for(const f of h)n[f]=+d(f)||0;return n}function Ts(a){return mn(a,{top:"y",right:"x",bottom:"y",left:"x"})}function Je(a){return mn(a,["topLeft","topRight","bottomLeft","bottomRight"])}function te(a){const e=Ts(a);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Xt(a,e){let n=at((a=a||{}).size,(e=e||rt.font).size);"string"==typeof n&&(n=parseInt(n,10));let r=at(a.style,e.style);r&&!(""+r).match(xa)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");const h={family:at(a.family,e.family),lineHeight:_a(at(a.lineHeight,e.lineHeight),n),size:n,style:r,weight:at(a.weight,e.weight),string:""};return h.string=oe(h),h}function Wi(a,e,n,r){let h,d,f,p=!0;for(h=0,d=a.length;h<d;++h)if(f=a[h],void 0!==f&&(void 0!==e&&"function"==typeof f&&(f=f(e),p=!1),void 0!==n&&pt(f)&&(f=f[n%f.length],p=!1),void 0!==f))return r&&!p&&(r.cacheable=!1),f}function so(a,e,n){const{min:r,max:h}=a,d=qi(e,(h-r)/2),f=(p,b)=>n&&0===p?0:p+b;return{min:f(r,-Math.abs(d)),max:f(h,d)}}function ti(a,e){return Object.assign(Object.create(a),e)}function ei(a,e,n){return a?(r=e,h=n,{x:d=>r+r+h-d,setWidth(d){h=d},textAlign:d=>"center"===d?d:"right"===d?"left":"right",xPlus:(d,f)=>d-f,leftForLtr:(d,f)=>d-f}):{x:r=>r,setWidth(r){},textAlign:r=>r,xPlus:(r,h)=>r+h,leftForLtr:(r,h)=>r};var r,h}function no(a,e){let n,r;"ltr"!==e&&"rtl"!==e||(n=a.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),a.prevTextDirection=r)}function yi(a,e){void 0!==e&&(delete a.prevTextDirection,a.canvas.style.setProperty("direction",e[0],e[1]))}function oo(a){return"angle"===a?{between:kt,compare:es,normalize:ne}:{between:Ft,compare:(e,n)=>e-n,normalize:e=>e}}function ao({start:a,end:e,count:n,loop:r,style:h}){return{start:a%n,end:e%n,loop:r&&(e-a+1)%n==0,style:h}}function ro(a,e,n){if(!n)return[a];const{property:r,start:h,end:d}=n,f=e.length,{compare:p,between:b,normalize:x}=oo(r),{start:y,end:v,loop:w,style:S}=function(N,Y,Q){const{property:G,start:U,end:q}=Q,{between:J,normalize:et}=oo(G),X=Y.length;let K,Ct,{start:It,end:Vt,loop:Ht}=N;if(Ht){for(It+=X,Vt+=X,K=0,Ct=X;K<Ct&&J(et(Y[It%X][G]),U,q);++K)It--,Vt--;It%=X,Vt%=X}return Vt<It&&(Vt+=X),{start:It,end:Vt,loop:Ht,style:N.style}}(a,e,n),P=[];let D,O,T,R=!1,E=null;for(let N=y,Y=y;N<=v;++N)O=e[N%f],O.skip||(D=x(O[r]),D!==T&&(R=b(D,h,d),null===E&&(R||b(h,T,D)&&0!==p(h,T))&&(E=0===p(D,h)?N:Y),null!==E&&(!R||0===p(d,D)||b(d,T,D))&&(P.push(ao({start:E,end:N,loop:w,count:f,style:S})),E=null),Y=N,T=D));return null!==E&&P.push(ao({start:E,end:v,loop:w,count:f,style:S})),P}function lo(a,e){const n=[],r=a.segments;for(let h=0;h<r.length;h++){const d=ro(r[h],a.points,e);d.length&&n.push(...d)}return n}function ho(a,e){const n=a.points,r=a.options.spanGaps,h=n.length;if(!h)return[];const d=!!a._loop,{start:f,end:p}=function(b,x,y,v){let w=0,S=x-1;if(y&&!v)for(;w<x&&!b[w].skip;)w++;for(;w<x&&b[w].skip;)w++;for(w%=x,y&&(S+=w);S>w&&b[S%x].skip;)S--;return S%=x,{start:w,end:S}}(n,h,d,r);return function Ls(a,e,n,r){return r&&r.setContext&&n?function(h,d,f,p){const b=h._chart.getContext(),x=ya(h.options),{_datasetIndex:y,options:{spanGaps:v}}=h,w=f.length,S=[];let P=x,D=d[0].start,O=D;function T(R,E,z,V){const N=v?-1:1;if(R!==E){for(R+=w;f[R%w].skip;)R-=N;for(;f[E%w].skip;)E+=N;R%w!=E%w&&(S.push({start:R%w,end:E%w,loop:z,style:V}),P=V,D=E%w)}}for(const R of d){D=v?D:R.start;let E,z=f[D%w];for(O=D+1;O<=R.end;O++){const V=f[O%w];E=ya(p.setContext(ti(b,{type:"segment",p0:z,p1:V,p0DataIndex:(O-1)%w,p1DataIndex:O%w,datasetIndex:y}))),va(E,P)&&T(D,O-1,R.loop,P),z=V,P=E}D<O-1&&T(D,O-1,R.loop,P)}return S}(a,e,n,r):e}(a,!0===r?[{start:f,end:p,loop:d}]:function(b,x,y,v){const w=b.length,S=[];let P,D=x,O=b[x];for(P=x+1;P<=y;++P){const T=b[P%w];T.skip||T.stop?O.skip||(S.push({start:x%w,end:(P-1)%w,loop:v=!1}),x=D=T.stop?P:null):(D=P,O.skip&&(x=P)),O=T}return null!==D&&S.push({start:x%w,end:D%w,loop:v}),S}(n,f,p<f?p+h:p,!!a._fullLoop&&0===f&&p===h-1),n,e)}function ya(a){return{backgroundColor:a.backgroundColor,borderCapStyle:a.borderCapStyle,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderJoinStyle:a.borderJoinStyle,borderWidth:a.borderWidth,borderColor:a.borderColor}}function va(a,e){return e&&JSON.stringify(a)!==JSON.stringify(e)}var bn=Object.freeze({__proto__:null,easingEffects:xi,isPatternOrGradient:Ki,color:Kn,getHoverColor:nn,noop:Ie,uid:ra,isNullOrUndef:ft,isArray:pt,isObject:dt,isFinite:Ot,finiteOrDefault:re,valueOrDefault:at,toPercentage:la,toDimension:qi,callback:wt,each:mt,_elementsEqual:Ri,clone:ui,_merger:qn,merge:lt,mergeIf:bt,_mergerIf:ht,_deprecated:function(a,e,n,r){void 0!==e&&console.warn(a+': "'+n+'" is deprecated. Please use "'+r+'" instead')},resolveObjectKey:Wt,_capitalize:nt,defined:le,isFunction:Pe,setsEqual:Mt,_isClickEvent:_t,toFontString:oe,_measureText:ze,_longestText:Ut,_alignPixel:Ke,clearCanvas:ye,drawPoint:Bi,_isPointInArea:qe,clipArea:gi,unclipArea:pi,_steppedLineTo:Qn,_bezierCurveTo:fa,renderText:ce,addRoundedRectPath:ns,_lookup:Ye,_lookupByKey:Ce,_rlookupByKey:ha,_filterBetween:ca,listenArrayEvents:Gn,unlistenArrayEvents:Oe,_arrayUnique:Zi,_createResolver:Te,_attachContext:Vi,_descriptors:Ps,_parseObjectDataRadialScale:mi,splineCurve:eo,splineCurveMonotone:Ze,_updateBezierControlPoints:ma,_isDomSupported:pe,_getParentNode:is,getStyle:zi,getRelativePosition:Kt,getMaximumSize:hn,retinaScale:ks,supportsEventListenerOptions:Ss,readUsedSize:cn,fontString:function(a,e,n){return e+" "+a+"px "+n},requestAnimFrame:jt,throttled:Dt,debounce:ie,_toLeftRightCenter:xs,_alignStartEnd:$t,_textX:qt,_pointInLine:_i,_steppedInterpolation:pn,_bezierInterpolation:io,formatNumber:as,toLineHeight:_a,_readValueToProps:mn,toTRBL:Ts,toTRBLCorners:Je,toPadding:te,toFont:Xt,resolve:Wi,_addGrace:so,createContext:ti,PI:ct,TAU:ut,PITAU:an,INFINITY:Qi,RAD_PER_DEG:fi,HALF_PI:At,QUARTER_PI:Fe,TWO_THIRDS_PI:vs,log10:ge,sign:ot,niceNum:Ji,_factorize:Ae,isNumber:Ii,almostEquals:Fi,almostWhole:Zn,_setMinAndMaxByKey:rn,toRadians:he,toDegrees:ts,_decimalPlaces:St,getAngleFromPoint:yt,distanceBetweenPoints:Ms,_angleDiff:es,_normalizeAngle:ne,_angleBetween:kt,_limitValue:Lt,_int16Range:ln,_isBetween:Ft,getRtlAdapter:ei,overrideTextDirection:no,restoreTextDirection:yi,_boundSegment:ro,_boundSegments:lo,_computeSegments:ho});function Ma(a,e,n,r){const{controller:h,data:d,_sorted:f}=a,p=h._cachedMeta.iScale;if(p&&e===p.axis&&"r"!==e&&f&&d.length){const b=p._reversePixels?ha:Ce;if(!r)return b(d,e,n);if(h._sharedOptions){const x=d[0],y="function"==typeof x.getRange&&x.getRange(e);if(y){const v=b(d,e,n-y),w=b(d,e,n+y);return{lo:v.lo,hi:w.hi}}}}return{lo:0,hi:d.length-1}}function rs(a,e,n,r,h){const d=a.getSortedVisibleDatasetMetas(),f=n[e];for(let p=0,b=d.length;p<b;++p){const{index:x,data:y}=d[p],{lo:v,hi:w}=Ma(d[p],e,f,h);for(let S=v;S<=w;++S){const P=y[S];P.skip||r(P,x,S)}}}function vi(a,e,n,r,h){const d=[];return!h&&!a.isPointInArea(e)||rs(a,n,e,function(f,p,b){(h||qe(f,a.chartArea,0))&&f.inRange(e.x,e.y,r)&&d.push({element:f,datasetIndex:p,index:b})},!0),d}function xn(a,e,n,r,h,d){return d||a.isPointInArea(e)?"r"!==n||r?function Mi(a,e,n,r,h,d){let f=[];const p=function(x){const y=-1!==x.indexOf("x"),v=-1!==x.indexOf("y");return function(w,S){const P=y?Math.abs(w.x-S.x):0,D=v?Math.abs(w.y-S.y):0;return Math.sqrt(Math.pow(P,2)+Math.pow(D,2))}}(n);let b=Number.POSITIVE_INFINITY;return rs(a,n,e,function(x,y,v){const w=x.inRange(e.x,e.y,h);if(r&&!w)return;const S=x.getCenterPoint(h);if(!d&&!a.isPointInArea(S)&&!w)return;const P=p(e,S);P<b?(f=[{element:x,datasetIndex:y,index:v}],b=P):P===b&&f.push({element:x,datasetIndex:y,index:v})}),f}(a,e,n,r,h,d):function(f,p,b,x){let y=[];return rs(f,b,p,function(v,w,S){const{startAngle:P,endAngle:D}=v.getProps(["startAngle","endAngle"],x),{angle:O}=yt(v,{x:p.x,y:p.y});kt(O,P,D)&&y.push({element:v,datasetIndex:w,index:S})}),y}(a,e,n,h):[]}function co(a,e,n,r,h){const d=[],f="x"===n?"inXRange":"inYRange";let p=!1;return rs(a,n,e,(b,x,y)=>{b[f](e[n],h)&&(d.push({element:b,datasetIndex:x,index:y}),p=p||b.inRange(e.x,e.y,h))}),r&&!p?[]:d}var uo={evaluateInteractionItems:rs,modes:{index(a,e,n,r){const h=Kt(e,a),d=n.axis||"x",f=n.includeInvisible||!1,p=n.intersect?vi(a,h,d,r,f):xn(a,h,d,!1,r,f),b=[];return p.length?(a.getSortedVisibleDatasetMetas().forEach(x=>{const y=p[0].index,v=x.data[y];v&&!v.skip&&b.push({element:v,datasetIndex:x.index,index:y})}),b):[]},dataset(a,e,n,r){const h=Kt(e,a),d=n.axis||"xy",f=n.includeInvisible||!1;let p=n.intersect?vi(a,h,d,r,f):xn(a,h,d,!1,r,f);if(p.length>0){const b=p[0].datasetIndex,x=a.getDatasetMeta(b).data;p=[];for(let y=0;y<x.length;++y)p.push({element:x[y],datasetIndex:b,index:y})}return p},point:(a,e,n,r)=>vi(a,Kt(e,a),n.axis||"xy",r,n.includeInvisible||!1),nearest:(a,e,n,r)=>xn(a,Kt(e,a),n.axis||"xy",n.intersect,r,n.includeInvisible||!1),x:(a,e,n,r)=>co(a,Kt(e,a),"x",n.intersect,r),y:(a,e,n,r)=>co(a,Kt(e,a),"y",n.intersect,r)}};const wa=["left","top","right","bottom"];function Ve(a,e){return a.filter(n=>n.pos===e)}function ka(a,e){return a.filter(n=>-1===wa.indexOf(n.pos)&&n.box.axis===e)}function Rs(a,e){return a.sort((n,r)=>{const h=e?r:n,d=e?n:r;return h.weight===d.weight?h.index-d.index:h.weight-d.weight})}function Pa(a,e,n,r){return Math.max(a[n],e[n])+Math.max(a[r],e[r])}function Es(a,e){a.top=Math.max(a.top,e.top),a.left=Math.max(a.left,e.left),a.bottom=Math.max(a.bottom,e.bottom),a.right=Math.max(a.right,e.right)}function fo(a,e,n,r){const{pos:h,box:d}=n,f=a.maxPadding;if(!dt(h)){n.size&&(a[h]-=n.size);const v=r[n.stack]||{size:0,count:1};v.size=Math.max(v.size,n.horizontal?d.height:d.width),n.size=v.size/v.count,a[h]+=n.size}d.getPadding&&Es(f,d.getPadding());const p=Math.max(0,e.outerWidth-Pa(f,a,"left","right")),b=Math.max(0,e.outerHeight-Pa(f,a,"top","bottom")),x=p!==a.w,y=b!==a.h;return a.w=p,a.h=b,n.horizontal?{same:x,other:y}:{same:y,other:x}}function wi(a,e){const n=e.maxPadding;return function r(h){const d={left:0,top:0,right:0,bottom:0};return h.forEach(f=>{d[f]=Math.max(e[f],n[f])}),d}(a?["left","right"]:["top","bottom"])}function Nt(a,e,n,r){const h=[];let d,f,p,b,x,y;for(d=0,f=a.length,x=0;d<f;++d){p=a[d],b=p.box,b.update(p.width||e.w,p.height||e.h,wi(p.horizontal,e));const{same:v,other:w}=fo(e,n,p,r);x|=v&&h.length,y=y||w,b.fullSize||h.push(p)}return x&&Nt(h,e,n,r)||y}function Et(a,e,n,r,h){a.top=n,a.left=e,a.right=e+r,a.bottom=n+h,a.width=r,a.height=h}function Ni(a,e,n,r){const h=n.padding;let{x:d,y:f}=e;for(const p of a){const b=p.box,x=r[p.stack]||{count:1,placed:0,weight:1},y=p.stackWeight/x.weight||1;if(p.horizontal){const v=e.w*y,w=x.size||b.height;le(x.start)&&(f=x.start),b.fullSize?Et(b,h.left,f,n.outerWidth-h.right-h.left,w):Et(b,e.left+x.placed,f,v,w),x.start=f,x.placed+=v,f=b.bottom}else{const v=e.h*y,w=x.size||b.width;le(x.start)&&(d=x.start),b.fullSize?Et(b,d,h.top,w,n.outerHeight-h.bottom-h.top):Et(b,d,e.top+x.placed,w,v),x.start=d,x.placed+=v,d=b.right}}e.x=d,e.y=f}rt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Gt={addBox(a,e){a.boxes||(a.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},a.boxes.push(e)},removeBox(a,e){const n=a.boxes?a.boxes.indexOf(e):-1;-1!==n&&a.boxes.splice(n,1)},configure(a,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(a,e,n,r){if(!a)return;const h=te(a.options.layout.padding),d=Math.max(e-h.width,0),f=Math.max(n-h.height,0),p=function(D){const O=function(Q){const G=[];let U,q,J,et,X,K;for(U=0,q=(Q||[]).length;U<q;++U)J=Q[U],({position:et,options:{stack:X,stackWeight:K=1}}=J),G.push({index:U,box:J,pos:et,horizontal:J.isHorizontal(),weight:J.weight,stack:X&&et+X,stackWeight:K});return G}(D),T=Rs(O.filter(Q=>Q.box.fullSize),!0),R=Rs(Ve(O,"left"),!0),E=Rs(Ve(O,"right")),z=Rs(Ve(O,"top"),!0),V=Rs(Ve(O,"bottom")),N=ka(O,"x"),Y=ka(O,"y");return{fullSize:T,leftAndTop:R.concat(z),rightAndBottom:E.concat(Y).concat(V).concat(N),chartArea:Ve(O,"chartArea"),vertical:R.concat(E).concat(Y),horizontal:z.concat(V).concat(N)}}(a.boxes),b=p.vertical,x=p.horizontal;mt(a.boxes,D=>{"function"==typeof D.beforeLayout&&D.beforeLayout()});const y=b.reduce((D,O)=>O.box.options&&!1===O.box.options.display?D:D+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:n,padding:h,availableWidth:d,availableHeight:f,vBoxMaxWidth:d/2/y,hBoxMaxHeight:f/2}),w=Object.assign({},h);Es(w,te(r));const S=Object.assign({maxPadding:w,w:d,h:f,x:h.left,y:h.top},h),P=function Sa(a,e){const n=function(b){const x={};for(const y of b){const{stack:v,pos:w,stackWeight:S}=y;if(!v||!wa.includes(w))continue;const P=x[v]||(x[v]={count:0,placed:0,weight:0,size:0});P.count++,P.weight+=S}return x}(a),{vBoxMaxWidth:r,hBoxMaxHeight:h}=e;let d,f,p;for(d=0,f=a.length;d<f;++d){p=a[d];const{fullSize:b}=p.box,x=n[p.stack],y=x&&p.stackWeight/x.weight;p.horizontal?(p.width=y?y*r:b&&e.availableWidth,p.height=h):(p.width=r,p.height=y?y*h:b&&e.availableHeight)}return n}(b.concat(x),v);Nt(p.fullSize,S,v,P),Nt(b,S,v,P),Nt(x,S,v,P)&&Nt(b,S,v,P),function(D){const O=D.maxPadding;function T(R){const E=Math.max(O[R]-D[R],0);return D[R]+=E,E}D.y+=T("top"),D.x+=T("left"),T("right"),T("bottom")}(S),Ni(p.leftAndTop,S,v,P),S.x+=S.w,S.y+=S.h,Ni(p.rightAndBottom,S,v,P),a.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},mt(p.chartArea,D=>{const O=D.box;Object.assign(O,a.chartArea),O.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class Le{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,h){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,h?Math.floor(n/h):r)}}isAttached(e){return!0}updateConfig(e){}}class Da extends Le{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const zr={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ki=a=>null===a||""===a,_n=!!Ss&&{passive:!0};function go(a,e,n){a.canvas.removeEventListener(e,n,_n)}function Is(a,e){for(const n of a)if(n===e||n.contains(e))return!0}function Ca(a,e,n){const r=a.canvas,h=new MutationObserver(d=>{let f=!1;for(const p of d)f=f||Is(p.addedNodes,r),f=f&&!Is(p.removedNodes,r);f&&n()});return h.observe(document,{childList:!0,subtree:!0}),h}function Br(a,e,n){const r=a.canvas,h=new MutationObserver(d=>{let f=!1;for(const p of d)f=f||Is(p.removedNodes,r),f=f&&!Is(p.addedNodes,r);f&&n()});return h.observe(document,{childList:!0,subtree:!0}),h}const Hi=new Map;let yn=0;function Oa(){const a=window.devicePixelRatio;a!==yn&&(yn=a,Hi.forEach((e,n)=>{n.currentDevicePixelRatio!==a&&e()}))}function Vr(a,e,n){const r=a.canvas,h=r&&is(r);if(!h)return;const d=Dt((p,b)=>{const x=h.clientWidth;n(p,b),x<h.clientWidth&&n()},window),f=new ResizeObserver(p=>{const b=p[0],x=b.contentRect.width,y=b.contentRect.height;0===x&&0===y||d(x,y)});return f.observe(h),p=a,b=d,Hi.size||window.addEventListener("resize",Oa),Hi.set(p,b),f;var p,b}function vn(a,e,n){n&&n.disconnect(),"resize"===e&&(Hi.delete(a),Hi.size||window.removeEventListener("resize",Oa))}function Aa(a,e,n){const r=a.canvas,h=Dt(d=>{null!==a.ctx&&n(function(f,p){const b=zr[f.type]||f.type,{x,y}=Kt(f,p);return{type:b,chart:p,native:f,x:void 0!==x?x:null,y:void 0!==y?y:null}}(d,a))},a,d=>{const f=d[0];return[f,f.offsetX,f.offsetY]});return r.addEventListener(e,h,_n),h}class Ta extends Le{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(function(h,d){const f=h.style,p=h.getAttribute("height"),b=h.getAttribute("width");if(h.$chartjs={initial:{height:p,width:b,style:{display:f.display,height:f.height,width:f.width}}},f.display=f.display||"block",f.boxSizing=f.boxSizing||"border-box",ki(b)){const x=cn(h,"width");void 0!==x&&(h.width=x)}if(ki(p))if(""===h.style.height)h.height=h.width/(d||2);else{const x=cn(h,"height");void 0!==x&&(h.height=x)}}(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n.$chartjs)return!1;const r=n.$chartjs.initial;["height","width"].forEach(d=>{const f=r[d];ft(f)?n.removeAttribute(d):n.setAttribute(d,f)});const h=r.style||{};return Object.keys(h).forEach(d=>{n.style[d]=h[d]}),n.width=n.width,delete n.$chartjs,!0}addEventListener(e,n,r){this.removeEventListener(e,n),(e.$proxies||(e.$proxies={}))[n]=({attach:Ca,detach:Br,resize:Vr}[n]||Aa)(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),h=r[n];!h||(({attach:vn,detach:vn,resize:vn}[n]||go)(e,n,h),r[n]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,h){return hn(e,n,r,h)}isAttached(e){const n=is(e);return!(!n||!n.isConnected)}}function po(a){return!pe()||"undefined"!=typeof OffscreenCanvas&&a instanceof OffscreenCanvas?Da:Ta}var La=Object.freeze({__proto__:null,_detectPlatform:po,BasePlatform:Le,BasicPlatform:Da,DomPlatform:Ta});const Ra="transparent",Wr={boolean:(a,e,n)=>n>.5?e:a,color(a,e,n){const r=Kn(a||Ra),h=r.valid&&Kn(e||Ra);return h&&h.valid?h.mix(r,n).hexString():e},number:(a,e,n)=>a+(e-a)*n};class ls{constructor(e,n,r,h){const d=n[r];h=Wi([e.to,h,d,e.from]);const f=Wi([e.from,d,h]);this._active=!0,this._fn=e.fn||Wr[e.type||typeof f],this._easing=xi[e.easing]||xi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=f,this._to=h,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const h=this._target[this._prop],d=r-this._start,f=this._duration-d;this._start=r,this._duration=Math.floor(Math.max(f,e.duration)),this._total+=d,this._loop=!!e.loop,this._to=Wi([e.to,n,h,e.from]),this._from=Wi([e.from,h,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,h=this._prop,d=this._from,f=this._loop,p=this._to;let b;if(this._active=d!==p&&(f||n<r),!this._active)return this._target[h]=p,void this._notify(!0);n<0?this._target[h]=d:(b=n/r%2,b=f&&b>1?2-b:b,b=this._easing(Math.min(1,Math.max(0,b))),this._target[h]=this._fn(d,p,b))}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let h=0;h<r.length;h++)r[h][n]()}}rt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Nr=Object.keys(rt.animation);rt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:a=>"onProgress"!==a&&"onComplete"!==a&&"fn"!==a}),rt.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),rt.describe("animations",{_fallback:"animation"}),rt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:a=>0|a}}}});class Fs{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!dt(e))return;const n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const h=e[r];if(!dt(h))return;const d={};for(const f of Nr)d[f]=h[f];(pt(h.properties)&&h.properties||[r]).forEach(f=>{f!==r&&n.has(f)||n.set(f,d)})})}_animateOptions(e,n){const r=n.options,h=function(f,p){if(!p)return;let b=f.options;return b?(b.$shared&&(f.options=b=Object.assign({},b,{$shared:!1,$animations:{}})),b):void(f.options=p)}(e,r);if(!h)return[];const d=this._createAnimations(h,r);return r.$shared&&function(f,p){const b=[],x=Object.keys(p);for(let y=0;y<x.length;y++){const v=f[x[y]];v&&v.active()&&b.push(v.wait())}return Promise.all(b)}(e.options.$animations,r).then(()=>{e.options=r},()=>{}),d}_createAnimations(e,n){const r=this._properties,h=[],d=e.$animations||(e.$animations={}),f=Object.keys(n),p=Date.now();let b;for(b=f.length-1;b>=0;--b){const x=f[b];if("$"===x.charAt(0))continue;if("options"===x){h.push(...this._animateOptions(e,n));continue}const y=n[x];let v=d[x];const w=r.get(x);if(v){if(w&&v.active()){v.update(w,y,p);continue}v.cancel()}w&&w.duration?(d[x]=v=new ls(w,e,x,y),h.push(v)):e[x]=y}return h}update(e,n){if(0===this._properties.size)return void Object.assign(e,n);const r=this._createAnimations(e,n);return r.length?(ke.add(this._chart,r),!0):void 0}}function Ea(a,e){const n=a&&a.options||{},r=n.reverse,h=void 0===n.min?e:0,d=void 0===n.max?e:0;return{start:r?d:h,end:r?h:d}}function Ia(a,e){const n=[],r=a._getSortedDatasetMetas(e);let h,d;for(h=0,d=r.length;h<d;++h)n.push(r[h].index);return n}function Mn(a,e,n,r={}){const h=a.keys,d="single"===r.mode;let f,p,b,x;if(null!==e){for(f=0,p=h.length;f<p;++f){if(b=+h[f],b===n){if(r.all)continue;break}x=a.values[b],Ot(x)&&(d||0===e||ot(e)===ot(x))&&(e+=x)}return e}}function mo(a,e){const n=a&&a.options.stacked;return n||void 0===n&&void 0!==e.stack}function Fa(a,e,n){const r=a[e]||(a[e]={});return r[n]||(r[n]={})}function bo(a,e,n,r){for(const h of e.getMatchingVisibleMetas(r).reverse()){const d=a[h.index];if(n&&d>0||!n&&d<0)return h.index}return null}function hs(a,e){const{chart:n,_cachedMeta:r}=a,h=n._stacks||(n._stacks={}),{iScale:d,vScale:f,index:p}=r,b=d.axis,x=f.axis,y=`${d.id}.${f.id}.${(D=r).stack||D.type}`,v=e.length;var D;let w;for(let S=0;S<v;++S){const P=e[S],{[b]:D,[x]:O}=P;w=(P._stacks||(P._stacks={}))[x]=Fa(h,y,D),w[p]=O,w._top=bo(w,f,!0,r.type),w._bottom=bo(w,f,!1,r.type)}}function wn(a,e){const n=a.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function ii(a,e){const n=a.controller.index,r=a.vScale&&a.vScale.axis;if(r){e=e||a._parsed;for(const h of e){const d=h._stacks;if(!d||void 0===d[r]||void 0===d[r][n])return;delete d[r][n]}}}const xo=a=>"reset"===a||"none"===a,za=(a,e)=>e?a:Object.assign({},a);class Re{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=mo(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&ii(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),h=(v,w,S,P)=>"x"===v?w:"r"===v?P:S,d=n.xAxisID=at(r.xAxisID,wn(e,"x")),f=n.yAxisID=at(r.yAxisID,wn(e,"y")),p=n.rAxisID=at(r.rAxisID,wn(e,"r")),b=n.indexAxis,x=n.iAxisID=h(b,d,f,p),y=n.vAxisID=h(b,f,d,p);n.xScale=this.getScaleForId(d),n.yScale=this.getScaleForId(f),n.rScale=this.getScaleForId(p),n.iScale=this.getScaleForId(x),n.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Oe(this._data,this),e._stacked&&ii(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(dt(n))this._data=function(h){const d=Object.keys(h),f=new Array(d.length);let p,b,x;for(p=0,b=d.length;p<b;++p)x=d[p],f[p]={x,y:h[x]};return f}(n);else if(r!==n){if(r){Oe(r,this);const h=this._cachedMeta;ii(h),h._parsed=[]}n&&Object.isExtensible(n)&&Gn(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let h=!1;this._dataCheck();const d=n._stacked;n._stacked=mo(n.vScale,n),n.stack!==r.stack&&(h=!0,ii(n),n.stack=r.stack),this._resyncElements(e),(h||d!==n._stacked)&&hs(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:h}=this,{iScale:d,_stacked:f}=r,p=d.axis;let b,x,y,v=0===e&&n===h.length||r._sorted,w=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=h,r._sorted=!0,y=h;else{y=pt(h[e])?this.parseArrayData(r,h,e,n):dt(h[e])?this.parseObjectData(r,h,e,n):this.parsePrimitiveData(r,h,e,n);const S=()=>null===x[p]||w&&x[p]<w[p];for(b=0;b<n;++b)r._parsed[b+e]=x=y[b],v&&(S()&&(v=!1),w=x);r._sorted=v}f&&hs(this,y)}parsePrimitiveData(e,n,r,h){const{iScale:d,vScale:f}=e,p=d.axis,b=f.axis,x=d.getLabels(),y=d===f,v=new Array(h);let w,S,P;for(w=0,S=h;w<S;++w)P=w+r,v[w]={[p]:y||d.parse(x[P],P),[b]:f.parse(n[P],P)};return v}parseArrayData(e,n,r,h){const{xScale:d,yScale:f}=e,p=new Array(h);let b,x,y,v;for(b=0,x=h;b<x;++b)y=b+r,v=n[y],p[b]={x:d.parse(v[0],y),y:f.parse(v[1],y)};return p}parseObjectData(e,n,r,h){const{xScale:d,yScale:f}=e,{xAxisKey:p="x",yAxisKey:b="y"}=this._parsing,x=new Array(h);let y,v,w,S;for(y=0,v=h;y<v;++y)w=y+r,S=n[w],x[y]={x:d.parse(Wt(S,p),w),y:f.parse(Wt(S,b),w)};return x}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const d=this._cachedMeta,f=n[e.axis];return Mn({keys:Ia(this.chart,!0),values:n._stacks[e.axis]},f,d.index,{mode:r})}updateRangeFromParsed(e,n,r,h){const d=r[n.axis];let f=null===d?NaN:d;const p=h&&r._stacks[n.axis];h&&p&&(h.values=p,f=Mn(h,d,this._cachedMeta.index)),e.min=Math.min(e.min,f),e.max=Math.max(e.max,f)}getMinMax(e,n){const r=this._cachedMeta,h=r._parsed,d=r._sorted&&e===r.iScale,f=h.length,p=this._getOtherScale(e),b=((D,O,T)=>D&&!O.hidden&&O._stacked&&{keys:Ia(this.chart,!0),values:null})(n,r),x={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:v}=function(D){const{min:O,max:T,minDefined:R,maxDefined:E}=D.getUserBounds();return{min:R?O:Number.NEGATIVE_INFINITY,max:E?T:Number.POSITIVE_INFINITY}}(p);let w,S;function P(){S=h[w];const D=S[p.axis];return!Ot(S[e.axis])||y>D||v<D}for(w=0;w<f&&(P()||(this.updateRangeFromParsed(x,e,S,b),!d));++w);if(d)for(w=f-1;w>=0;--w)if(!P()){this.updateRangeFromParsed(x,e,S,b);break}return x}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let h,d,f;for(h=0,d=n.length;h<d;++h)f=n[h][e.axis],Ot(f)&&r.push(f);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,h=n.vScale,d=this.getParsed(e);return{label:r?""+r.getLabelForValue(d[r.axis]):"",value:h?""+h.getLabelForValue(d[h.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=function(r){let h,d,f,p;return dt(r)?(h=r.top,d=r.right,f=r.bottom,p=r.left):h=d=f=p=r,{top:h,right:d,bottom:f,left:p,disabled:!1===r}}(at(this.options.clip,function(r,h,d){if(!1===d)return!1;const f=Ea(r,d),p=Ea(h,d);return{top:p.end,right:f.end,bottom:p.start,left:f.start}}(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,h=r.data||[],d=this.chart.chartArea,f=[],p=this._drawStart||0,b=this._drawCount||h.length-p,x=this.options.drawActiveElementsOnTop;let y;for(r.dataset&&r.dataset.draw(e,d,p,b),y=p;y<p+b;++y){const v=h[y];v.hidden||(v.active&&x?f.push(v):v.draw(e,d))}for(y=0;y<f.length;++y)f[y].draw(e,d)}getStyle(e,n){const r=n?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const h=this.getDataset();let d;if(e>=0&&e<this._cachedMeta.data.length){const f=this._cachedMeta.data[e];d=f.$context||(f.$context=ti(this.getContext(),{active:!1,dataIndex:b=e,parsed:void 0,raw:void 0,element:f,index:b,mode:"default",type:"data"})),d.parsed=this.getParsed(e),d.raw=h.data[e],d.index=d.dataIndex=e}else d=this.$context||(this.$context=ti(this.chart.getContext(),{active:!1,dataset:void 0,datasetIndex:p=this.index,index:p,mode:"default",type:"dataset"})),d.dataset=h,d.index=d.datasetIndex=this.index;var p,b;return d.active=!!n,d.mode=r,d}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const h="active"===n,d=this._cachedDataOpts,f=e+"-"+n,p=d[f],b=this.enableOptionSharing&&le(r);if(p)return za(p,b);const x=this.chart.config,y=x.datasetElementScopeKeys(this._type,e),v=h?[`${e}Hover`,"hover",e,""]:[e,""],w=x.getOptionScopes(this.getDataset(),y),S=Object.keys(rt.elements[e]),P=x.resolveNamedOptions(w,S,()=>this.getContext(r,h),v);return P.$shared&&(P.$shared=b,d[f]=Object.freeze(za(P,b))),P}_resolveAnimations(e,n,r){const h=this.chart,d=this._cachedDataOpts,f=`animation-${n}`,p=d[f];if(p)return p;let b;if(!1!==h.options.animation){const y=this.chart.config,v=y.datasetAnimationScopeKeys(this._type,n),w=y.getOptionScopes(this.getDataset(),v);b=y.createResolver(w,this.getContext(e,r,n))}const x=new Fs(h,b&&b.animations);return b&&b._cacheable&&(d[f]=Object.freeze(x)),x}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||xo(e)||this.chart._animationsDisabled}updateElement(e,n,r,h){xo(h)?Object.assign(e,r):this._resolveAnimations(n,h).update(e,r)}updateSharedOptions(e,n,r){e&&!xo(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,h){e.active=h;const d=this.getStyle(n,h);this._resolveAnimations(n,r,h).update(e,{options:!h&&this.getSharedOptions(d)||d})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[p,b,x]of this._syncList)this[p](b,x);this._syncList=[];const h=r.length,d=n.length,f=Math.min(d,h);f&&this.parse(0,f),d>h?this._insertElements(h,d-h,e):d<h&&this._removeElements(d,h-d)}_insertElements(e,n,r=!0){const h=this._cachedMeta,d=h.data,f=e+n;let p;const b=x=>{for(x.length+=n,p=x.length-1;p>=f;p--)x[p]=x[p-n]};for(b(d),p=e;p<f;++p)d[p]=new this.dataElementType;this._parsing&&b(h._parsed),this.parse(e,n),r&&this.updateElements(d,e,n,"reset")}updateElements(e,n,r,h){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const h=r._parsed.splice(e,n);r._stacked&&ii(r,h)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,h]=e;this[n](r,h)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Re.defaults={},Re.prototype.datasetElementType=null,Re.prototype.dataElementType=null;class ve{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Ii(this.x)&&Ii(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const h={};return e.forEach(d=>{h[d]=r[d]&&r[d].active()?r[d]._to:this[d]}),h}}ve.defaults={},ve.defaultRoutes=void 0;const _o={values:a=>pt(a)?a:""+a,numeric(a,e,n){if(0===a)return"0";const r=this.chart.options.locale;let h,d=a;if(n.length>1){const x=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(x<1e-4||x>1e15)&&(h="scientific"),d=function(y,v){let w=v.length>3?v[2].value-v[1].value:v[1].value-v[0].value;return Math.abs(w)>=1&&y!==Math.floor(y)&&(w=y-Math.floor(y)),w}(a,n)}const f=ge(Math.abs(d)),p=Math.max(Math.min(-1*Math.floor(f),20),0),b={notation:h,minimumFractionDigits:p,maximumFractionDigits:p};return Object.assign(b,this.options.ticks.format),as(a,r,b)},logarithmic(a,e,n){if(0===a)return"0";const r=a/Math.pow(10,Math.floor(ge(a)));return 1===r||2===r||5===r?_o.numeric.call(this,a,e,n):""}};var cs={formatters:_o};function kn(a,e,n,r,h){const d=at(r,0),f=Math.min(at(h,a.length),a.length);let p,b,x,y=0;for(n=Math.ceil(n),h&&(p=h-r,n=p/Math.floor(p/n)),x=d;x<0;)y++,x=Math.round(d+y*n);for(b=Math.max(d,0);b<f;b++)b===x&&(e.push(a[b]),y++,x=Math.round(d+y*n))}rt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(a,e)=>e.lineWidth,tickColor:(a,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:cs.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),rt.route("scale.ticks","color","","color"),rt.route("scale.grid","color","","borderColor"),rt.route("scale.grid","borderColor","","borderColor"),rt.route("scale.title","color","","color"),rt.describe("scale",{_fallback:!1,_scriptable:a=>!a.startsWith("before")&&!a.startsWith("after")&&"callback"!==a&&"parser"!==a,_indexable:a=>"borderDash"!==a&&"tickBorderDash"!==a}),rt.describe("scales",{_fallback:"scale"}),rt.describe("scale.ticks",{_scriptable:a=>"backdropPadding"!==a&&"callback"!==a,_indexable:a=>"backdropPadding"!==a});const Ba=(a,e,n)=>"top"===e||"left"===e?a[e]+n:a[e]-n;function ds(a,e){const n=[],r=a.length/e,h=a.length;let d=0;for(;d<h;d+=r)n.push(a[Math.floor(d)]);return n}function Sn(a,e,n){const r=a.ticks.length,h=Math.min(e,r-1),d=a._startPixel,f=a._endPixel,p=1e-6;let b,x=a.getPixelForTick(h);if(!(n&&(b=1===r?Math.max(x-d,f-x):0===e?(a.getPixelForTick(1)-x)/2:(x-a.getPixelForTick(h-1))/2,x+=h<e?b:-b,x<d-p||x>f+p)))return x}function us(a){return a.drawTicks?a.tickLength:0}function Zt(a,e){if(!a.display)return 0;const n=Xt(a.font,e),r=te(a.padding);return(pt(a.text)?a.text.length:1)*n.lineHeight+r.height}function yo(a,e,n){let r=xs(a);return(n&&"right"!==e||!n&&"right"===e)&&(r="left"===(h=r)?"right":"right"===h?"left":h),r;var h}class si extends ve{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:h}=this;return e=re(e,Number.POSITIVE_INFINITY),n=re(n,Number.NEGATIVE_INFINITY),r=re(r,Number.POSITIVE_INFINITY),h=re(h,Number.NEGATIVE_INFINITY),{min:re(e,r),max:re(n,h),minDefined:Ot(e),maxDefined:Ot(n)}}getMinMax(e){let n,{min:r,max:h,minDefined:d,maxDefined:f}=this.getUserBounds();if(d&&f)return{min:r,max:h};const p=this.getMatchingVisibleMetas();for(let b=0,x=p.length;b<x;++b)n=p[b].controller.getMinMax(this,e),d||(r=Math.min(r,n.min)),f||(h=Math.max(h,n.max));return r=f&&r>h?h:r,h=d&&r>h?r:h,{min:re(r,re(h,r)),max:re(h,re(r,h))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){wt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:h,grace:d,ticks:f}=this.options,p=f.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=so(this,d,h),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const b=p<this.ticks.length;this._convertTicksToLabels(b?ds(this.ticks,p):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),f.display&&(f.autoSkip||"auto"===f.source)&&(this.ticks=function Hr(a,e){const n=a.options.ticks,r=n.maxTicksLimit||function(y){const v=y.options.offset,w=y._tickSize();return Math.floor(Math.min(y._length/w+(v?0:1),y._maxLength/w))}(a),h=n.major.enabled?function(y){const v=[];let w,S;for(w=0,S=y.length;w<S;w++)y[w].major&&v.push(w);return v}(e):[],d=h.length,f=h[0],p=h[d-1],b=[];if(d>r)return function(y,v,w,S){let P,D=0,O=w[0];for(S=Math.ceil(S),P=0;P<y.length;P++)P===O&&(v.push(y[P]),D++,O=w[D*S])}(e,b,h,d/r),b;const x=function(y,v,w){const S=function(O){const T=O.length;let R,E;if(T<2)return!1;for(E=O[0],R=1;R<T;++R)if(O[R]-O[R-1]!==E)return!1;return E}(y),P=v.length/w;if(!S)return Math.max(P,1);const D=Ae(S);for(let O=0,T=D.length-1;O<T;O++){const R=D[O];if(R>P)return R}return Math.max(P,1)}(h,e,r);if(d>0){let y,v;const w=d>1?Math.round((p-f)/(d-1)):null;for(kn(e,b,x,ft(w)?0:f-w,f),y=0,v=d-1;y<v;y++)kn(e,b,x,h[y],h[y+1]);return kn(e,b,x,p,ft(w)?e.length:p+w),b}return kn(e,b,x),b}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),b&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,n,r=this.options.reverse;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,r=!r),this._startPixel=e,this._endPixel=n,this._reversePixels=r,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){wt(this.options.afterUpdate,[this])}beforeSetDimensions(){wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){wt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),wt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,h,d;for(r=0,h=e.length;r<h;r++)d=e[r],d.label=wt(n.callback,[d.value,r,e],this)}afterTickToLabelConversion(){wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=this.ticks.length,h=n.minRotation||0,d=n.maxRotation;let f,p,b,x=h;if(!this._isVisible()||!n.display||h>=d||r<=1||!this.isHorizontal())return void(this.labelRotation=h);const y=this._getLabelSizes(),v=y.widest.width,w=y.highest.height,S=Lt(this.chart.width-v,0,this.maxWidth);f=e.offset?this.maxWidth/r:S/(r-1),v+6>f&&(f=S/(r-(e.offset?.5:1)),p=this.maxHeight-us(e.grid)-n.padding-Zt(e.title,this.chart.options.font),b=Math.sqrt(v*v+w*w),x=ts(Math.min(Math.asin(Lt((y.highest.height+6)/f,-1,1)),Math.asin(Lt(p/b,-1,1))-Math.asin(Lt(w/b,-1,1)))),x=Math.max(h,Math.min(d,x))),this.labelRotation=x}afterCalculateLabelRotation(){wt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){wt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:h,grid:d}}=this,f=this._isVisible(),p=this.isHorizontal();if(f){const b=Zt(h,n.options.font);if(p?(e.width=this.maxWidth,e.height=us(d)+b):(e.height=this.maxHeight,e.width=us(d)+b),r.display&&this.ticks.length){const{first:x,last:y,widest:v,highest:w}=this._getLabelSizes(),S=2*r.padding,P=he(this.labelRotation),D=Math.cos(P),O=Math.sin(P);p?e.height=Math.min(this.maxHeight,e.height+(r.mirror?0:O*v.width+D*w.height)+S):e.width=Math.min(this.maxWidth,e.width+(r.mirror?0:D*v.width+O*w.height)+S),this._calculatePadding(x,y,O,D)}}this._handleMargins(),p?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,h){const{ticks:{align:d,padding:f},position:p}=this.options,b=0!==this.labelRotation,x="top"!==p&&"x"===this.axis;if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,S=0;b?x?(w=h*e.width,S=r*n.height):(w=r*e.height,S=h*n.width):"start"===d?S=n.width:"end"===d?w=e.width:"inner"!==d&&(w=e.width/2,S=n.width/2),this.paddingLeft=Math.max((w-y+f)*this.width/(this.width-y),0),this.paddingRight=Math.max((S-v+f)*this.width/(this.width-v),0)}else{let y=n.height/2,v=e.height/2;"start"===d?(y=0,v=e.height):"end"===d&&(y=n.height,v=0),this.paddingTop=y+f,this.paddingBottom=v+f}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){wt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return"top"===n||"bottom"===n||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let n,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),n=0,r=e.length;n<r;n++)ft(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=ds(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length)}return e}_computeLabelSizes(e,n){const{ctx:r,_longestTextCache:h}=this,d=[],f=[];let p,b,x,y,v,w,S,P,D,O,T,R=0,E=0;for(p=0;p<n;++p){if(y=e[p].label,v=this._resolveTickFontOptions(p),r.font=w=v.string,S=h[w]=h[w]||{data:{},gc:[]},P=v.lineHeight,D=O=0,ft(y)||pt(y)){if(pt(y))for(b=0,x=y.length;b<x;++b)T=y[b],ft(T)||pt(T)||(D=ze(r,S.data,S.gc,D,T),O+=P)}else D=ze(r,S.data,S.gc,D,y),O=P;d.push(D),f.push(O),R=Math.max(D,R),E=Math.max(O,E)}var Q;Q=n,mt(h,G=>{const U=G.gc,q=U.length/2;let J;if(q>Q){for(J=0;J<q;++J)delete G.data[U[J]];U.splice(0,q)}});const z=d.indexOf(R),V=f.indexOf(E),N=Y=>({width:d[Y]||0,height:f[Y]||0});return{first:N(0),last:N(n-1),widest:N(z),highest:N(V),widths:d,heights:f}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return ln(this._alignToPixels?Ke(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=ti(this.getContext(),{tick:r,index:e,type:"tick"}))}return this.$context||(this.$context=ti(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,n=he(this.labelRotation),r=Math.abs(Math.cos(n)),h=Math.abs(Math.sin(n)),d=this._getLabelSizes(),f=e.autoSkipPadding||0,p=d?d.widest.width+f:0,b=d?d.highest.height+f:0;return this.isHorizontal()?b*r>p*h?p/r:b/h:b*h<p*r?b/r:p/h}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,h=this.options,{grid:d,position:f}=h,p=d.offset,b=this.isHorizontal(),x=this.ticks.length+(p?1:0),y=us(d),v=[],w=d.setContext(this.getContext()),S=w.drawBorder?w.borderWidth:0,P=S/2,D=function(X){return Ke(r,X,S)};let O,T,R,E,z,V,N,Y,Q,G,U,q;if("top"===f)O=D(this.bottom),V=this.bottom-y,Y=O-P,G=D(e.top)+P,q=e.bottom;else if("bottom"===f)O=D(this.top),G=e.top,q=D(e.bottom)-P,V=O+P,Y=this.top+y;else if("left"===f)O=D(this.right),z=this.right-y,N=O-P,Q=D(e.left)+P,U=e.right;else if("right"===f)O=D(this.left),Q=e.left,U=D(e.right)-P,z=O+P,N=this.left+y;else if("x"===n){if("center"===f)O=D((e.top+e.bottom)/2+.5);else if(dt(f)){const X=Object.keys(f)[0];O=D(this.chart.scales[X].getPixelForValue(f[X]))}G=e.top,q=e.bottom,V=O+P,Y=V+y}else if("y"===n){if("center"===f)O=D((e.left+e.right)/2);else if(dt(f)){const X=Object.keys(f)[0];O=D(this.chart.scales[X].getPixelForValue(f[X]))}z=O-P,N=z-y,Q=e.left,U=e.right}const J=at(h.ticks.maxTicksLimit,x),et=Math.max(1,Math.ceil(x/J));for(T=0;T<x;T+=et){const X=d.setContext(this.getContext(T)),K=X.lineWidth,Ct=X.color,It=d.borderDash||[],Vt=X.borderDashOffset,Ht=X.tickWidth,me=X.tickColor,be=X.tickBorderDash||[],ue=X.tickBorderDashOffset;R=Sn(this,T,p),void 0!==R&&(E=Ke(r,R,K),b?z=N=Q=U=E:V=Y=G=q=E,v.push({tx1:z,ty1:V,tx2:N,ty2:Y,x1:Q,y1:G,x2:U,y2:q,width:K,color:Ct,borderDash:It,borderDashOffset:Vt,tickWidth:Ht,tickColor:me,tickBorderDash:be,tickBorderDashOffset:ue}))}return this._ticksLength=x,this._borderValue=O,v}_computeLabelItems(e){const n=this.axis,r=this.options,{position:h,ticks:d}=r,f=this.isHorizontal(),p=this.ticks,{align:b,crossAlign:x,padding:y,mirror:v}=d,w=us(r.grid),S=w+y,P=v?-y:S,D=-he(this.labelRotation),O=[];let T,R,E,z,V,N,Y,Q,G,U,q,J,et="middle";if("top"===h)N=this.bottom-P,Y=this._getXAxisLabelAlignment();else if("bottom"===h)N=this.top+P,Y=this._getXAxisLabelAlignment();else if("left"===h){const K=this._getYAxisLabelAlignment(w);Y=K.textAlign,V=K.x}else if("right"===h){const K=this._getYAxisLabelAlignment(w);Y=K.textAlign,V=K.x}else if("x"===n){if("center"===h)N=(e.top+e.bottom)/2+S;else if(dt(h)){const K=Object.keys(h)[0];N=this.chart.scales[K].getPixelForValue(h[K])+S}Y=this._getXAxisLabelAlignment()}else if("y"===n){if("center"===h)V=(e.left+e.right)/2-S;else if(dt(h)){const K=Object.keys(h)[0];V=this.chart.scales[K].getPixelForValue(h[K])}Y=this._getYAxisLabelAlignment(w).textAlign}"y"===n&&("start"===b?et="top":"end"===b&&(et="bottom"));const X=this._getLabelSizes();for(T=0,R=p.length;T<R;++T){E=p[T],z=E.label;const K=d.setContext(this.getContext(T));Q=this.getPixelForTick(T)+d.labelOffset,G=this._resolveTickFontOptions(T),U=G.lineHeight,q=pt(z)?z.length:1;const Ct=q/2,It=K.color,Vt=K.textStrokeColor,Ht=K.textStrokeWidth;let me,be=Y;if(f?(V=Q,"inner"===Y&&(be=T===R-1?this.options.reverse?"left":"right":0===T?this.options.reverse?"right":"left":"center"),J="top"===h?"near"===x||0!==D?-q*U+U/2:"center"===x?-X.highest.height/2-Ct*U+U:U/2-X.highest.height:"near"===x||0!==D?U/2:"center"===x?X.highest.height/2-Ct*U:X.highest.height-q*U,v&&(J*=-1)):(N=Q,J=(1-q)*U/2),K.showLabelBackdrop){const ue=te(K.backdropPadding),Me=X.heights[T],hi=X.widths[T];let ci=N+J-ue.top,di=V-ue.left;switch(et){case"middle":ci-=Me/2;break;case"bottom":ci-=Me}switch(Y){case"center":di-=hi/2;break;case"right":di-=hi}me={left:di,top:ci,width:hi+ue.width,height:Me+ue.height,color:K.backdropColor}}O.push({rotation:D,label:z,font:G,color:It,strokeColor:Vt,strokeWidth:Ht,textOffset:J,textAlign:be,textBaseline:et,translation:[V,N],backdrop:me})}return O}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-he(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===n.align?r="left":"end"===n.align?r="right":"inner"===n.align&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:h,padding:d}}=this.options,f=e+d,p=this._getLabelSizes().widest.width;let b,x;return"left"===n?h?(x=this.right+d,"near"===r?b="left":"center"===r?(b="center",x+=p/2):(b="right",x+=p)):(x=this.right-f,"near"===r?b="right":"center"===r?(b="center",x-=p/2):(b="left",x=this.left)):"right"===n?h?(x=this.left+d,"near"===r?b="right":"center"===r?(b="center",x-=p/2):(b="left",x-=p)):(x=this.left+f,"near"===r?b="left":"center"===r?(b="center",x+=p/2):(b="right",x=this.right)):b="right",{textAlign:b,x}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;return"left"===n||"right"===n?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===n||"bottom"===n?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:h,width:d,height:f}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,h,d,f),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(h=>h.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,h=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let d,f;const p=(b,x,y)=>{y.width&&y.color&&(r.save(),r.lineWidth=y.width,r.strokeStyle=y.color,r.setLineDash(y.borderDash||[]),r.lineDashOffset=y.borderDashOffset,r.beginPath(),r.moveTo(b.x,b.y),r.lineTo(x.x,x.y),r.stroke(),r.restore())};if(n.display)for(d=0,f=h.length;d<f;++d){const b=h[d];n.drawOnChartArea&&p({x:b.x1,y:b.y1},{x:b.x2,y:b.y2},b),n.drawTicks&&p({x:b.tx1,y:b.ty1},{x:b.tx2,y:b.ty2},{color:b.tickColor,width:b.tickWidth,borderDash:b.tickBorderDash,borderDashOffset:b.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{grid:r}}=this,h=r.setContext(this.getContext()),d=r.drawBorder?h.borderWidth:0;if(!d)return;const f=r.setContext(this.getContext(0)).lineWidth,p=this._borderValue;let b,x,y,v;this.isHorizontal()?(b=Ke(e,this.left,d)-d/2,x=Ke(e,this.right,f)+f/2,y=v=p):(y=Ke(e,this.top,d)-d/2,v=Ke(e,this.bottom,f)+f/2,b=x=p),n.save(),n.lineWidth=h.borderWidth,n.strokeStyle=h.borderColor,n.beginPath(),n.moveTo(b,y),n.lineTo(x,v),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&gi(n,r);const h=this._labelItems||(this._labelItems=this._computeLabelItems(e));let d,f;for(d=0,f=h.length;d<f;++d){const p=h[d],b=p.font,x=p.label;p.backdrop&&(n.fillStyle=p.backdrop.color,n.fillRect(p.backdrop.left,p.backdrop.top,p.backdrop.width,p.backdrop.height)),ce(n,x,0,p.textOffset,b,p)}r&&pi(n)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:h}}=this;if(!r.display)return;const d=Xt(r.font),f=te(r.padding),p=r.align;let b=d.lineHeight/2;"bottom"===n||"center"===n||dt(n)?(b+=f.bottom,pt(r.text)&&(b+=d.lineHeight*(r.text.length-1))):b+=f.top;const{titleX:x,titleY:y,maxWidth:v,rotation:w}=function(S,P,D,O){const{top:T,left:R,bottom:E,right:z,chart:V}=S,{chartArea:N,scales:Y}=V;let Q,G,U,q=0;const J=E-T,et=z-R;if(S.isHorizontal()){if(G=$t(O,R,z),dt(D)){const X=Object.keys(D)[0];U=Y[X].getPixelForValue(D[X])+J-P}else U="center"===D?(N.bottom+N.top)/2+J-P:Ba(S,D,P);Q=z-R}else{if(dt(D)){const X=Object.keys(D)[0];G=Y[X].getPixelForValue(D[X])-et+P}else G="center"===D?(N.left+N.right)/2-et+P:Ba(S,D,P);U=$t(O,E,T),q="left"===D?-At:At}return{titleX:G,titleY:U,maxWidth:Q,rotation:q}}(this,b,n,p);ce(e,r.text,0,0,d,{color:r.color,maxWidth:v,rotation:w,textAlign:yo(p,n,h),textBaseline:"middle",translation:[x,y]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=at(e.grid&&e.grid.z,-1);return this._isVisible()&&this.draw===si.prototype.draw?[{z:r,draw:h=>{this.drawBackground(),this.drawGrid(h),this.drawTitle()}},{z:r+1,draw:()=>{this.drawBorder()}},{z:n,draw:h=>{this.drawLabels(h)}}]:[{z:n,draw:h=>{this.draw(h)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",h=[];let d,f;for(d=0,f=n.length;d<f;++d){const p=n[d];p[r]!==this.id||e&&p.type!==e||h.push(p)}return h}_resolveTickFontOptions(e){return Xt(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ji{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;var p;"id"in(p=n)&&"defaults"in p&&(r=this.register(n));const h=this.items,d=e.id,f=this.scope+"."+d;if(!d)throw new Error("class does not have id: "+e);return d in h||(h[d]=e,function(p,b,x){const y=lt(Object.create(null),[x?rt.get(x):{},rt.get(b),p.defaults]);var v,w;rt.set(b,y),p.defaultRoutes&&(v=b,w=p.defaultRoutes,Object.keys(w).forEach(S=>{const P=S.split("."),D=P.pop(),O=[v].concat(P).join("."),T=w[S].split("."),R=T.pop(),E=T.join(".");rt.route(O,D,E,R)})),p.descriptors&&rt.describe(b,p.descriptors)}(e,f,r),this.override&&rt.override(e.id,e.overrides)),f}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,h=this.scope;r in n&&delete n[r],h&&r in rt[h]&&(delete rt[h][r],this.override&&delete De[r])}}var We=new class{constructor(){this.controllers=new ji(Re,"datasets",!0),this.elements=new ji(ve,"elements"),this.plugins=new ji(Object,"plugins"),this.scales=new ji(si,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...a){this._each("register",a)}remove(...a){this._each("unregister",a)}addControllers(...a){this._each("register",a,this.controllers)}addElements(...a){this._each("register",a,this.elements)}addPlugins(...a){this._each("register",a,this.plugins)}addScales(...a){this._each("register",a,this.scales)}getController(a){return this._get(a,this.controllers,"controller")}getElement(a){return this._get(a,this.elements,"element")}getPlugin(a){return this._get(a,this.plugins,"plugin")}getScale(a){return this._get(a,this.scales,"scale")}removeControllers(...a){this._each("unregister",a,this.controllers)}removeElements(...a){this._each("unregister",a,this.elements)}removePlugins(...a){this._each("unregister",a,this.plugins)}removeScales(...a){this._each("unregister",a,this.scales)}_each(a,e,n){[...e].forEach(r=>{const h=n||this._getRegistryForType(r);n||h.isForType(r)||h===this.plugins&&r.id?this._exec(a,h,r):mt(r,d=>{const f=n||this._getRegistryForType(d);this._exec(a,f,d)})})}_exec(a,e,n){const r=nt(a);wt(n["before"+r],[],n),e[a](n),wt(n["after"+r],[],n)}_getRegistryForType(a){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(a))return n}return this.plugins}_get(a,e,n){const r=e.get(a);if(void 0===r)throw new Error('"'+a+'" is not a registered '+n+".");return r}};class Va{constructor(){this._init=[]}notify(e,n,r,h){"beforeInit"===n&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const d=h?this._descriptors(e).filter(h):this._descriptors(e),f=this._notify(d,e,n,r);return"afterDestroy"===n&&(this._notify(d,e,"stop"),this._notify(this._init,e,"uninstall")),f}_notify(e,n,r,h){h=h||{};for(const d of e){const f=d.plugin;if(!1===wt(f[r],[n,h,d.options],f)&&h.cancelable)return!1}return!0}invalidate(){ft(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,h=at(r.options&&r.options.plugins,{}),d=function(f){const p=[],b=Object.keys(We.plugins.items);for(let y=0;y<b.length;y++)p.push(We.getPlugin(b[y]));const x=f.plugins||[];for(let y=0;y<x.length;y++){const v=x[y];-1===p.indexOf(v)&&p.push(v)}return p}(r);return!1!==h||n?function(f,p,b,x){const y=[],v=f.getContext();for(let w=0;w<p.length;w++){const S=p[w],P=jr(b[S.id],x);null!==P&&y.push({plugin:S,options:Wa(f.config,S,P,v)})}return y}(e,d,h,n):[]}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,h=(d,f)=>d.filter(p=>!f.some(b=>p.plugin.id===b.plugin.id));this._notify(h(n,r),e,"stop"),this._notify(h(r,n),e,"start")}}function jr(a,e){return e||!1!==a?!0===a?{}:a:null}function Wa(a,e,n,r){const h=a.pluginScopeKeys(e),d=a.getOptionScopes(n,h);return a.createResolver(d,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function vo(a,e){return((e.datasets||{})[a]||{}).indexAxis||e.indexAxis||(rt.datasets[a]||{}).indexAxis||"x"}function Mo(a,e){return"x"===a||"y"===a?a:e.axis||("top"===(n=e.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||a.charAt(0).toLowerCase();var n}function Na(a){const e=a.options||(a.options={});e.plugins=at(e.plugins,{}),e.scales=function(n,r){const h=De[n.type]||{scales:{}},d=r.scales||{},f=vo(n.type,r),p=Object.create(null),b=Object.create(null);return Object.keys(d).forEach(x=>{const y=d[x];if(!dt(y))return console.error(`Invalid scale configuration for scale: ${x}`);if(y._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${x}`);const v=Mo(x,y),w=v===f?"_index_":"_value_",S=h.scales||{};p[v]=p[v]||x,b[x]=bt(Object.create(null),[{axis:v},y,S[v],S[w]])}),n.data.datasets.forEach(x=>{const y=x.type||n.type,v=x.indexAxis||vo(y,r),w=(De[y]||{}).scales||{};Object.keys(w).forEach(S=>{const P=function(O,T){let R=O;return"_index_"===O?R=T:"_value_"===O&&(R="x"===T?"y":"x"),R}(S,v),D=x[P+"AxisID"]||p[P]||P;b[D]=b[D]||Object.create(null),bt(b[D],[{axis:P},d[D],w[S]])})}),Object.keys(b).forEach(x=>{const y=b[x];bt(y,[rt.scales[y.type],rt.scale])}),b}(a,e)}function zs(a){return(a=a||{}).datasets=a.datasets||[],a.labels=a.labels||[],a}const Ha=new Map,ja=new Set;function Si(a,e){let n=Ha.get(a);return n||(n=e(),Ha.set(a,n),ja.add(n)),n}const fs=(a,e,n)=>{const r=Wt(e,n);void 0!==r&&a.add(r)};class $a{constructor(e){var n;this._config=((n=(n=e)||{}).data=zs(n.data),Na(n),n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=zs(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Na(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Si(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Si(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Si(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id;return Si(`${this.type}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let h=r.get(e);return h&&!n||(h=new Map,r.set(e,h)),h}getOptionScopes(e,n,r){const{options:h,type:d}=this,f=this._cachedScopes(e,r),p=f.get(n);if(p)return p;const b=new Set;n.forEach(y=>{e&&(b.add(e),y.forEach(v=>fs(b,e,v))),y.forEach(v=>fs(b,h,v)),y.forEach(v=>fs(b,De[d]||{},v)),y.forEach(v=>fs(b,rt,v)),y.forEach(v=>fs(b,Ei,v))});const x=Array.from(b);return 0===x.length&&x.push(Object.create(null)),ja.has(n)&&f.set(n,x),x}chartOptionScopes(){const{options:e,type:n}=this;return[e,De[n]||{},rt.datasets[n]||{},{type:n},rt,Ei]}resolveNamedOptions(e,n,r,h=[""]){const d={$shared:!0},{resolver:f,subPrefixes:p}=Ya(this._resolverCache,e,h);let b=f;(function(x,y){const{isScriptable:v,isIndexable:w}=Ps(x);for(const S of y){const P=v(S),D=w(S),O=(D||P)&&x[S];if(P&&(Pe(O)||$r(O))||D&&pt(O))return!0}return!1})(f,n)&&(d.$shared=!1,b=Vi(f,r=Pe(r)?r():r,this.createResolver(e,r,p)));for(const x of n)d[x]=b[x];return d}createResolver(e,n,r=[""],h){const{resolver:d}=Ya(this._resolverCache,e,r);return dt(n)?Vi(d,n,void 0,h):d}}function Ya(a,e,n){let r=a.get(e);r||(r=new Map,a.set(e,r));const h=n.join();let d=r.get(h);return d||(d={resolver:Te(e,n),subPrefixes:n.filter(f=>!f.toLowerCase().includes("hover"))},r.set(h,d)),d}const $r=a=>dt(a)&&Object.getOwnPropertyNames(a).reduce((e,n)=>e||Pe(a[n]),!1),Yr=["top","bottom","left","right","chartArea"];function Pn(a,e){return"top"===a||"bottom"===a||-1===Yr.indexOf(a)&&"x"===e}function Ua(a,e){return function(n,r){return n[a]===r[a]?n[e]-r[e]:n[a]-r[a]}}function wo(a){const e=a.chart,n=e.options.animation;e.notifyPlugins("afterRender"),wt(n&&n.onComplete,[a],e)}function Xa(a){const e=a.chart,n=e.options.animation;wt(n&&n.onProgress,[a],e)}function ko(a){return pe()&&"string"==typeof a?a=document.getElementById(a):a&&a.length&&(a=a[0]),a&&a.canvas&&(a=a.canvas),a}const Bs={},Ka=a=>{const e=ko(a);return Object.values(Bs).filter(n=>n.canvas===e).pop()};function qa(a,e,n){const r=Object.keys(a);for(const h of r){const d=+h;if(d>=e){const f=a[h];delete a[h],(n>0||d>e)&&(a[d+n]=f)}}}class zt{constructor(e,n){const r=this.config=new $a(n),h=ko(e),d=Ka(h);if(d)throw new Error("Canvas is already in use. Chart with ID '"+d.id+"' must be destroyed before the canvas can be reused.");const f=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||po(h)),this.platform.updateConfig(r);const p=this.platform.acquireContext(h,f.aspectRatio),b=p&&p.canvas,x=b&&b.height,y=b&&b.width;this.id=ra(),this.ctx=p,this.canvas=b,this.width=y,this.height=x,this._options=f,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Va,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ie(v=>this.update(v),f.resizeDelay||0),this._dataChanges=[],Bs[this.id]=this,p&&b?(ke.listen(this,"complete",wo),ke.listen(this,"progress",Xa),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:h,_aspectRatio:d}=this;return ft(e)?n&&d?d:h?r/h:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ks(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ye(this.canvas,this.ctx),this}stop(){return ke.stop(this),this}resize(e,n){ke.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,f=this.platform.getMaximumSize(this.canvas,e,n,r.maintainAspectRatio&&this.aspectRatio),p=r.devicePixelRatio||this.platform.getDevicePixelRatio(),b=this.width?"resize":"attach";this.width=f.width,this.height=f.height,this._aspectRatio=this.aspectRatio,ks(this,p,!0)&&(this.notifyPlugins("resize",{size:f}),wt(r.onResize,[this,f],this),this.attached&&this._doResize(b)&&this.render())}ensureScalesHaveIDs(){mt(this.options.scales||{},(e,n)=>{e.id=n})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,h=Object.keys(r).reduce((f,p)=>(f[p]=!1,f),{});let d=[];n&&(d=d.concat(Object.keys(n).map(f=>{const p=n[f],b=Mo(f,p),x="r"===b,y="x"===b;return{options:p,dposition:x?"chartArea":y?"bottom":"left",dtype:x?"radialLinear":y?"category":"linear"}}))),mt(d,f=>{const p=f.options,b=p.id,x=Mo(b,p),y=at(p.type,f.dtype);void 0!==p.position&&Pn(p.position,x)===Pn(f.dposition)||(p.position=f.dposition),h[b]=!0;let v=null;b in r&&r[b].type===y?v=r[b]:(v=new(We.getScale(y))({id:b,type:y,ctx:this.ctx,chart:this}),r[v.id]=v),v.init(p,e)}),mt(h,(f,p)=>{f||delete r[p]}),mt(r,f=>{Gt.configure(this,f,f.options),Gt.addBox(this,f)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((h,d)=>h.index-d.index),r>n){for(let h=n;h<r;++h)this._destroyDatasetMeta(h);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Ua("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,h)=>{0===n.filter(d=>d===r._dataset).length&&this._destroyDatasetMeta(h)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,h;for(this._removeUnreferencedMetasets(),r=0,h=n.length;r<h;r++){const d=n[r];let f=this.getDatasetMeta(r);const p=d.type||this.config.type;if(f.type&&f.type!==p&&(this._destroyDatasetMeta(r),f=this.getDatasetMeta(r)),f.type=p,f.indexAxis=d.indexAxis||vo(p,this.options),f.order=d.order||0,f.index=r,f.label=""+d.label,f.visible=this.isDatasetVisible(r),f.controller)f.controller.updateIndex(r),f.controller.linkScales();else{const b=We.getController(p),{datasetElementType:x,dataElementType:y}=rt.datasets[p];Object.assign(b.prototype,{dataElementType:We.getElement(y),datasetElementType:x&&We.getElement(x)}),f.controller=new b(this,r),e.push(f.controller)}}return this._updateMetasets(),e}_resetElements(){mt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),h=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const d=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let f=0;for(let x=0,y=this.data.datasets.length;x<y;x++){const{controller:v}=this.getDatasetMeta(x),w=!h&&-1===d.indexOf(v);v.buildOrUpdateElements(w),f=Math.max(+v.getMaxOverflow(),f)}f=this._minPadding=r.layout.autoPadding?f:0,this._updateLayout(f),h||mt(d,x=>{x.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ua("z","_idx"));const{_active:p,_lastEvent:b}=this;b?this._eventHandler(b,!0):p.length&&this._updateHoverStyles(p,p,!0),this.render()}_updateScales(){mt(this.scales,e=>{Gt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);Mt(n,r)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:h,count:d}of n)qa(e,h,"_removeElements"===r?-d:d)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=d=>new Set(e.filter(f=>f[0]===d).map((f,p)=>p+","+f.splice(1).join(","))),h=r(0);for(let d=1;d<n;d++)if(!Mt(h,r(d)))return;return Array.from(h).map(d=>d.split(",")).map(d=>({method:d[1],start:+d[2],count:+d[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Gt.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],mt(this.boxes,h=>{r&&"chartArea"===h.position||(h.configure&&h.configure(),this._layers.push(...h._layers()))},this),this._layers.forEach((h,d)=>{h._idx=d}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Pe(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),h={meta:r,index:e,mode:n,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",h)&&(r.controller._update(n),h.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",h))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ke.has(this)?this.attached&&!ke.running(this)&&ke.start(this):(this.draw(),wo({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:h}=this._resizeBeforeDraw;this._resize(r,h),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let h,d;for(h=0,d=n.length;h<d;++h){const f=n[h];e&&!f.visible||r.push(f)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,h=!r.disabled,d=this.chartArea,f={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",f)&&(h&&gi(n,{left:!1===r.left?0:d.left-r.left,right:!1===r.right?this.width:d.right+r.right,top:!1===r.top?0:d.top-r.top,bottom:!1===r.bottom?this.height:d.bottom+r.bottom}),e.controller.draw(),h&&pi(n),f.cancelable=!1,this.notifyPlugins("afterDatasetDraw",f))}isPointInArea(e){return qe(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,h){const d=uo.modes[n];return"function"==typeof d?d(this,e,r,h):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let h=r.filter(d=>d&&d._dataset===n).pop();return h||(h={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(h)),h}getContext(){return this.$context||(this.$context=ti(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!n.hidden}setDatasetVisibility(e,n){this.getDatasetMeta(e).hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const h=r?"show":"hide",d=this.getDatasetMeta(e),f=d.controller._resolveAnimations(void 0,h);le(n)?(d.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),f.update(d,{visible:r}),this.update(p=>p.datasetIndex===e?h:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ke.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ye(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Bs[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(d,f)=>{n.addEventListener(this,d,f),e[d]=f},h=(d,f,p)=>{d.offsetX=f,d.offsetY=p,this._eventHandler(d)};mt(this.options.events,d=>r(d,h))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(b,x)=>{n.addEventListener(this,b,x),e[b]=x},h=(b,x)=>{e[b]&&(n.removeEventListener(this,b,x),delete e[b])},d=(b,x)=>{this.canvas&&this.resize(b,x)};let f;const p=()=>{h("attach",p),this.attached=!0,this.resize(),r("resize",d),r("detach",f)};f=()=>{this.attached=!1,h("resize",d),this._stop(),this._resize(0,0),r("attach",p)},n.isAttached(this.canvas)?p():f()}unbindEvents(){mt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},mt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const h=r?"set":"remove";let d,f,p,b;for("dataset"===n&&(d=this.getDatasetMeta(e[0].datasetIndex),d.controller["_"+h+"DatasetHoverStyle"]()),p=0,b=e.length;p<b;++p){f=e[p];const x=f&&this.getDatasetMeta(f.datasetIndex).controller;x&&x[h+"HoverStyle"](f.element,f.datasetIndex,f.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:h,index:d})=>{const f=this.getDatasetMeta(h);if(!f)throw new Error("No dataset found at index "+h);return{datasetIndex:h,element:f.data[d],index:d}});!Ri(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}_updateHoverStyles(e,n,r){const h=this.options.hover,d=(b,x)=>b.filter(y=>!x.some(v=>y.datasetIndex===v.datasetIndex&&y.index===v.index)),f=d(n,e),p=r?e:d(e,n);f.length&&this.updateHoverStyle(f,h.mode,!1),p.length&&h.mode&&this.updateHoverStyle(p,h.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},h=f=>(f.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,h))return;const d=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,h),(d||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:h=[],options:d}=this,p=this._getActiveElements(e,h,r,n),b=_t(e),x=(v=e,r&&"mouseout"!==v.type?b?this._lastEvent:v:null);var v;r&&(this._lastEvent=null,wt(d.onHover,[e,p,this],this),b&&wt(d.onClick,[e,p,this],this));const y=!Ri(p,h);return(y||n)&&(this._active=p,this._updateHoverStyles(p,h,n)),this._lastEvent=x,y}_getActiveElements(e,n,r,h){if("mouseout"===e.type)return[];if(!r)return n;const d=this.options.hover;return this.getElementsAtEventForMode(e,d.mode,d,h)}}const Ga=()=>mt(zt.instances,a=>a._plugins.invalidate()),Pi=!0;function ni(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}Object.defineProperties(zt,{defaults:{enumerable:Pi,value:rt},instances:{enumerable:Pi,value:Bs},overrides:{enumerable:Pi,value:De},registry:{enumerable:Pi,value:We},version:{enumerable:Pi,value:"3.8.0"},getChart:{enumerable:Pi,value:Ka},register:{enumerable:Pi,value:(...a)=>{We.add(...a),Ga()}},unregister:{enumerable:Pi,value:(...a)=>{We.remove(...a),Ga()}}});class So{constructor(e){this.options=e||{}}formats(){return ni()}parse(e,n){return ni()}format(e,n){return ni()}add(e,n,r){return ni()}diff(e,n,r){return ni()}startOf(e,n,r){return ni()}endOf(e,n){return ni()}}So.override=function(a){Object.assign(So.prototype,a)};var Za={_date:So};function Qa(a){const e=a.iScale,n=function(x,y){if(!x._cache.$bar){const v=x.getMatchingVisibleMetas(y);let w=[];for(let S=0,P=v.length;S<P;S++)w=w.concat(v[S].controller.getAllParsedValues(x));x._cache.$bar=Zi(w.sort((S,P)=>S-P))}return x._cache.$bar}(e,a.type);let r,h,d,f,p=e._length;const b=()=>{32767!==d&&-32768!==d&&(le(f)&&(p=Math.min(p,Math.abs(d-f)||p)),f=d)};for(r=0,h=n.length;r<h;++r)d=e.getPixelForValue(n[r]),b();for(f=void 0,r=0,h=e.ticks.length;r<h;++r)d=e.getPixelForTick(r),b();return p}function Ja(a,e,n,r){return pt(a)?function(h,d,f,p){const b=f.parse(h[0],p),x=f.parse(h[1],p),y=Math.min(b,x),v=Math.max(b,x);let w=y,S=v;Math.abs(y)>Math.abs(v)&&(w=v,S=y),d[f.axis]=S,d._custom={barStart:w,barEnd:S,start:b,end:x,min:y,max:v}}(a,e,n,r):e[n.axis]=n.parse(a,r),e}function tr(a,e,n,r){const h=a.iScale,d=a.vScale,f=h.getLabels(),p=h===d,b=[];let x,y,v,w;for(x=n,y=n+r;x<y;++x)w=e[x],v={},v[h.axis]=p||h.parse(f[x],x),b.push(Ja(w,v,d,x));return b}function Dn(a){return a&&void 0!==a.barStart&&void 0!==a.barEnd}function er(a,e,n,r){let h=e.borderSkipped;const d={};if(!h)return void(a.borderSkipped=d);const{start:f,end:p,reverse:b,top:x,bottom:y}=function(v){let w,S,P,D,O;return v.horizontal?(w=v.base>v.x,S="left",P="right"):(w=v.base<v.y,S="bottom",P="top"),w?(D="end",O="start"):(D="start",O="end"),{start:S,end:P,reverse:w,top:D,bottom:O}}(a);"middle"===h&&n&&(a.enableBorderRadius=!0,(n._top||0)===r?h=x:(n._bottom||0)===r?h=y:(d[ir(y,f,p,b)]=!0,h=x)),d[ir(h,f,p,b)]=!0,a.borderSkipped=d}function ir(a,e,n,r){var h,d,f;return r?(f=n,a=Po(a=(h=a)===(d=e)?f:h===f?d:h,n,e)):a=Po(a,e,n),a}function Po(a,e,n){return"start"===a?e:"end"===a?n:a}function Ur(a,{inflateAmount:e},n){a.inflateAmount="auto"===e?1===n?.33:0:e}class Cn extends Re{parsePrimitiveData(e,n,r,h){return tr(e,n,r,h)}parseArrayData(e,n,r,h){return tr(e,n,r,h)}parseObjectData(e,n,r,h){const{iScale:d,vScale:f}=e,{xAxisKey:p="x",yAxisKey:b="y"}=this._parsing,x="x"===d.axis?p:b,y="x"===f.axis?p:b,v=[];let w,S,P,D;for(w=r,S=r+h;w<S;++w)D=n[w],P={},P[d.axis]=d.parse(Wt(D,x),w),v.push(Ja(Wt(D,y),P,f,w));return v}updateRangeFromParsed(e,n,r,h){super.updateRangeFromParsed(e,n,r,h);const d=r._custom;d&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,d.min),e.max=Math.max(e.max,d.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:h}=n,d=this.getParsed(e),f=d._custom,p=Dn(f)?"["+f.start+", "+f.end+"]":""+h.getLabelForValue(d[h.axis]);return{label:""+r.getLabelForValue(d[r.axis]),value:p}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,h){const d="reset"===h,{index:f,_cachedMeta:{vScale:p}}=this,b=p.getBasePixel(),x=p.isHorizontal(),y=this._getRuler(),v=this.resolveDataElementOptions(n,h),w=this.getSharedOptions(v),S=this.includeOptions(h,w);this.updateSharedOptions(w,h,v);for(let P=n;P<n+r;P++){const D=this.getParsed(P),O=d||ft(D[p.axis])?{base:b,head:b}:this._calculateBarValuePixels(P),T=this._calculateBarIndexPixels(P,y),R=(D._stacks||{})[p.axis],E={horizontal:x,base:O.base,enableBorderRadius:!R||Dn(D._custom)||f===R._top||f===R._bottom,x:x?O.head:T.center,y:x?T.center:O.head,height:x?T.size:Math.abs(O.size),width:x?Math.abs(O.size):T.size};S&&(E.options=w||this.resolveDataElementOptions(P,e[P].active?"active":h));const z=E.options||e[P].options;er(E,z,R,f),Ur(E,z,y.ratio),this.updateElement(e[P],P,E,h)}}_getStacks(e,n){const r=this._cachedMeta.iScale,h=r.getMatchingVisibleMetas(this._type),d=r.options.stacked,f=h.length,p=[];let b,x;for(b=0;b<f;++b)if(x=h[b],x.controller.options.grouped){if(void 0!==n){const y=x.controller.getParsed(n)[x.controller._cachedMeta.vScale.axis];if(ft(y)||isNaN(y))continue}if((!1===d||-1===p.indexOf(x.stack)||void 0===d&&void 0===x.stack)&&p.push(x.stack),x.index===e)break}return p.length||p.push(void 0),p}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const h=this._getStacks(e,r),d=void 0!==n?h.indexOf(n):-1;return-1===d?h.length-1:d}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,h=[];let d,f;for(d=0,f=n.data.length;d<f;++d)h.push(r.getPixelForValue(this.getParsed(d)[r.axis],d));const p=e.barThickness;return{min:p||Qa(n),pixels:h,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:p?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r},options:{base:h,minBarLength:d}}=this,f=h||0,p=this.getParsed(e),b=p._custom,x=Dn(b);let y,v,w=p[n.axis],S=0,P=r?this.applyStack(n,p,r):w;P!==w&&(S=P-w,P=w),x&&(w=b.barStart,P=b.barEnd-b.barStart,0!==w&&ot(w)!==ot(b.barEnd)&&(S=0),S+=w);const D=ft(h)||x?S:h;let O=n.getPixelForValue(D);if(y=this.chart.getDataVisibility(e)?n.getPixelForValue(S+P):O,v=y-O,Math.abs(v)<d){N=n,Y=f,v=(0!==(V=v)?ot(V):(N.isHorizontal()?1:-1)*(N.min>=Y?1:-1))*d,w===f&&(O-=v/2);const T=n.getPixelForDecimal(0),R=n.getPixelForDecimal(1),E=Math.min(T,R),z=Math.max(T,R);O=Math.max(Math.min(O,z),E),y=O+v}var V,N,Y;if(O===n.getPixelForValue(f)){const T=ot(v)*n.getLineWidthForValue(f)/2;O+=T,v-=T}return{size:v,base:O,head:y,center:y+v/2}}_calculateBarIndexPixels(e,n){const r=n.scale,h=this.options,d=h.skipNull,f=at(h.maxBarThickness,1/0);let p,b;if(n.grouped){const x=d?this._getStackCount(e):n.stackCount,y="flex"===h.barThickness?function(w,S,P,D){const O=S.pixels,T=O[w];let R=w>0?O[w-1]:null,E=w<O.length-1?O[w+1]:null;const z=P.categoryPercentage;null===R&&(R=T-(null===E?S.end-S.start:E-T)),null===E&&(E=T+T-R);const V=T-(T-Math.min(R,E))/2*z;return{chunk:Math.abs(E-R)/2*z/D,ratio:P.barPercentage,start:V}}(e,n,h,x):function(w,S,P,D){const O=P.barThickness;let T,R;return ft(O)?(T=S.min*P.categoryPercentage,R=P.barPercentage):(T=O*D,R=1),{chunk:T/D,ratio:R,start:S.pixels[w]-T/2}}(e,n,h,x),v=this._getStackIndex(this.index,this._cachedMeta.stack,d?e:void 0);p=y.start+y.chunk*v+y.chunk/2,b=Math.min(f,y.chunk*y.ratio)}else p=r.getPixelForValue(this.getParsed(e)[r.axis],e),b=Math.min(f,n.min*n.ratio);return{base:p-b/2,head:p+b/2,center:p,size:b}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,h=r.length;let d=0;for(;d<h;++d)null!==this.getParsed(d)[n.axis]&&r[d].draw(this._ctx)}}Cn.id="bar",Cn.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Cn.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class On extends Re{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,h){const d=super.parsePrimitiveData(e,n,r,h);for(let f=0;f<d.length;f++)d[f]._custom=this.resolveDataElementOptions(f+r).radius;return d}parseArrayData(e,n,r,h){const d=super.parseArrayData(e,n,r,h);for(let f=0;f<d.length;f++)d[f]._custom=at(n[r+f][2],this.resolveDataElementOptions(f+r).radius);return d}parseObjectData(e,n,r,h){const d=super.parseObjectData(e,n,r,h);for(let f=0;f<d.length;f++){const p=n[r+f];d[f]._custom=at(p&&p.r&&+p.r,this.resolveDataElementOptions(f+r).radius)}return d}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,{xScale:r,yScale:h}=n,d=this.getParsed(e),f=r.getLabelForValue(d.x),p=h.getLabelForValue(d.y),b=d._custom;return{label:n.label,value:"("+f+", "+p+(b?", "+b:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,h){const d="reset"===h,{iScale:f,vScale:p}=this._cachedMeta,b=this.resolveDataElementOptions(n,h),x=this.getSharedOptions(b),y=this.includeOptions(h,x),v=f.axis,w=p.axis;for(let S=n;S<n+r;S++){const P=e[S],D=!d&&this.getParsed(S),O={},T=O[v]=d?f.getPixelForDecimal(.5):f.getPixelForValue(D[v]),R=O[w]=d?p.getBasePixel():p.getPixelForValue(D[w]);O.skip=isNaN(T)||isNaN(R),y&&(O.options=this.resolveDataElementOptions(S,P.active?"active":h),d&&(O.options.radius=0)),this.updateElement(P,S,O,h)}this.updateSharedOptions(x,h,b)}resolveDataElementOptions(e,n){const r=this.getParsed(e);let h=super.resolveDataElementOptions(e,n);h.$shared&&(h=Object.assign({},h,{$shared:!1}));const d=h.radius;return"active"!==n&&(h.radius=0),h.radius+=at(r&&r._custom,d),h}}On.id="bubble",On.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},On.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class $i extends Re{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,h=this._cachedMeta;if(!1===this._parsing)h._parsed=r;else{let d,f,p=b=>+r[b];if(dt(r[e])){const{key:b="value"}=this._parsing;p=x=>+Wt(r[x],b)}for(d=e,f=e+n;d<f;++d)h._parsed[d]=p(d)}}_getRotation(){return he(this.options.rotation-90)}_getCircumference(){return he(this.options.circumference)}_getRotationExtents(){let e=ut,n=-ut;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const h=this.chart.getDatasetMeta(r).controller,d=h._getRotation(),f=h._getCircumference();e=Math.min(e,d),n=Math.max(n,d+f)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,h=this._cachedMeta,d=h.data,f=this.getMaxBorderWidth()+this.getMaxOffset(d)+this.options.spacing,p=Math.max((Math.min(r.width,r.height)-f)/2,0),b=Math.min(la(this.options.cutout,p),1),x=this._getRingWeight(this.index),{circumference:y,rotation:v}=this._getRotationExtents(),{ratioX:w,ratioY:S,offsetX:P,offsetY:D}=function(V,N,Y){let Q=1,G=1,U=0,q=0;if(N<ut){const J=V,et=J+N,X=Math.cos(J),K=Math.sin(J),Ct=Math.cos(et),It=Math.sin(et),Vt=(hi,ci,di)=>kt(hi,J,et,!0)?1:Math.max(ci,ci*Y,di,di*Y),Ht=(hi,ci,di)=>kt(hi,J,et,!0)?-1:Math.min(ci,ci*Y,di,di*Y),me=Vt(0,X,Ct),be=Vt(At,K,It),ue=Ht(ct,X,Ct),Me=Ht(ct+At,K,It);Q=(me-ue)/2,G=(be-Me)/2,U=-(me+ue)/2,q=-(be+Me)/2}return{ratioX:Q,ratioY:G,offsetX:U,offsetY:q}}(v,y,b),R=Math.max(Math.min((r.width-f)/w,(r.height-f)/S)/2,0),E=qi(this.options.radius,R),z=(E-Math.max(E*b,0))/this._getVisibleDatasetWeightTotal();this.offsetX=P*E,this.offsetY=D*E,h.total=this.calculateTotal(),this.outerRadius=E-z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-z*x,0),this.updateElements(d,0,d.length,e)}_circumference(e,n){const r=this.options,h=this._cachedMeta,d=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===h._parsed[e]||h.data[e].hidden?0:this.calculateCircumference(h._parsed[e]*d/ut)}updateElements(e,n,r,h){const d="reset"===h,f=this.chart,p=f.chartArea,x=(p.left+p.right)/2,y=(p.top+p.bottom)/2,v=d&&f.options.animation.animateScale,w=v?0:this.innerRadius,S=v?0:this.outerRadius,P=this.resolveDataElementOptions(n,h),D=this.getSharedOptions(P),O=this.includeOptions(h,D);let T,R=this._getRotation();for(T=0;T<n;++T)R+=this._circumference(T,d);for(T=n;T<n+r;++T){const E=this._circumference(T,d),z=e[T],V={x:x+this.offsetX,y:y+this.offsetY,startAngle:R,endAngle:R+E,circumference:E,outerRadius:S,innerRadius:w};O&&(V.options=D||this.resolveDataElementOptions(T,z.active?"active":h)),R+=E,this.updateElement(z,T,V,h)}this.updateSharedOptions(D,h,P)}calculateTotal(){const e=this._cachedMeta,n=e.data;let r,h=0;for(r=0;r<n.length;r++){const d=e._parsed[r];null===d||isNaN(d)||!this.chart.getDataVisibility(r)||n[r].hidden||(h+=Math.abs(d))}return h}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ut*(Math.abs(e)/n):0}getLabelAndValue(e){const r=this.chart,h=r.data.labels||[],d=as(this._cachedMeta._parsed[e],r.options.locale);return{label:h[e]||"",value:d}}getMaxBorderWidth(e){let n=0;const r=this.chart;let h,d,f,p,b;if(!e)for(h=0,d=r.data.datasets.length;h<d;++h)if(r.isDatasetVisible(h)){f=r.getDatasetMeta(h),e=f.data,p=f.controller;break}if(!e)return 0;for(h=0,d=e.length;h<d;++h)b=p.resolveDataElementOptions(h),"inner"!==b.borderAlign&&(n=Math.max(n,b.borderWidth||0,b.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,h=e.length;r<h;++r){const d=this.resolveDataElementOptions(r);n=Math.max(n,d.offset||0,d.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(at(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}$i.id="doughnut",$i.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},$i.descriptors={_scriptable:a=>"spacing"!==a,_indexable:a=>"spacing"!==a},$i.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){const e=a.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=a.legend.options;return e.labels.map((r,h)=>{const d=a.getDatasetMeta(0).controller.getStyle(h);return{text:r,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:n,hidden:!a.getDataVisibility(h),index:h}})}return[]}},onClick(a,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label(a){let e=a.label;const n=": "+a.formattedValue;return pt(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class gs extends Re{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:h=[],_dataset:d}=n,f=this.chart._animationsDisabled;let{start:p,count:b}=function(y,v,w){const S=v.length;let P=0,D=S;if(y._sorted){const{iScale:O,_parsed:T}=y,R=O.axis,{min:E,max:z,minDefined:V,maxDefined:N}=O.getUserBounds();V&&(P=Lt(Math.min(Ce(T,O.axis,E).lo,w?S:Ce(v,R,O.getPixelForValue(E)).lo),0,S-1)),D=N?Lt(Math.max(Ce(T,O.axis,z).hi+1,w?0:Ce(v,R,O.getPixelForValue(z)).hi+1),P,S)-P:S-P}return{start:P,count:D}}(n,h,f);this._drawStart=p,this._drawCount=b,function(y){const{xScale:v,yScale:w,_scaleRanges:S}=y,P={xmin:v.min,xmax:v.max,ymin:w.min,ymax:w.max};if(!S)return y._scaleRanges=P,!0;const D=S.xmin!==v.min||S.xmax!==v.max||S.ymin!==w.min||S.ymax!==w.max;return Object.assign(S,P),D}(n)&&(p=0,b=h.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!d._decimated,r.points=h;const x=this.resolveDatasetElementOptions(e);this.options.showLine||(x.borderWidth=0),x.segment=this.options.segment,this.updateElement(r,void 0,{animated:!f,options:x},e),this.updateElements(h,p,b,e)}updateElements(e,n,r,h){const d="reset"===h,{iScale:f,vScale:p,_stacked:b,_dataset:x}=this._cachedMeta,y=this.resolveDataElementOptions(n,h),v=this.getSharedOptions(y),w=this.includeOptions(h,v),S=f.axis,P=p.axis,{spanGaps:D,segment:O}=this.options,T=Ii(D)?D:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||d||"none"===h;let E=n>0&&this.getParsed(n-1);for(let z=n;z<n+r;++z){const V=e[z],N=this.getParsed(z),Y=R?V:{},Q=ft(N[P]),G=Y[S]=f.getPixelForValue(N[S],z),U=Y[P]=d||Q?p.getBasePixel():p.getPixelForValue(b?this.applyStack(p,N,b):N[P],z);Y.skip=isNaN(G)||isNaN(U)||Q,Y.stop=z>0&&Math.abs(N[S]-E[S])>T,O&&(Y.parsed=N,Y.raw=x.data[z]),w&&(Y.options=v||this.resolveDataElementOptions(z,V.active?"active":h)),R||this.updateElement(V,z,Y,h),E=N}this.updateSharedOptions(v,h,y)}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,h=e.data||[];if(!h.length)return r;const d=h[0].size(this.resolveDataElementOptions(0)),f=h[h.length-1].size(this.resolveDataElementOptions(h.length-1));return Math.max(r,d,f)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}gs.id="line",gs.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},gs.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class ps extends Re{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,h=r.data.labels||[],d=as(this._cachedMeta._parsed[e].r,r.options.locale);return{label:h[e]||"",value:d}}parseObjectData(e,n,r,h){return mi.bind(this)(e,n,r,h)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,h)=>{const d=this.getParsed(h).r;!isNaN(d)&&this.chart.getDataVisibility(h)&&(d<n.min&&(n.min=d),d>n.max&&(n.max=d))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,h=Math.min(n.right-n.left,n.bottom-n.top),d=Math.max(h/2,0),f=(d-Math.max(r.cutoutPercentage?d/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=d-f*this.index,this.innerRadius=this.outerRadius-f}updateElements(e,n,r,h){const d="reset"===h,f=this.chart,p=f.options.animation,b=this._cachedMeta.rScale,x=b.xCenter,y=b.yCenter,v=b.getIndexAngle(0)-.5*ct;let w,S=v;const P=360/this.countVisibleElements();for(w=0;w<n;++w)S+=this._computeAngle(w,h,P);for(w=n;w<n+r;w++){const D=e[w];let O=S,T=S+this._computeAngle(w,h,P),R=f.getDataVisibility(w)?b.getDistanceFromCenterForValue(this.getParsed(w).r):0;S=T,d&&(p.animateScale&&(R=0),p.animateRotate&&(O=T=v));const E={x,y,innerRadius:0,outerRadius:R,startAngle:O,endAngle:T,options:this.resolveDataElementOptions(w,D.active?"active":h)};this.updateElement(D,w,E,h)}}countVisibleElements(){let n=0;return this._cachedMeta.data.forEach((r,h)=>{!isNaN(this.getParsed(h).r)&&this.chart.getDataVisibility(h)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?he(this.resolveDataElementOptions(e,n).angle||r):0}}ps.id="polarArea",ps.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},ps.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){const e=a.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=a.legend.options;return e.labels.map((r,h)=>{const d=a.getDatasetMeta(0).controller.getStyle(h);return{text:r,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:n,hidden:!a.getDataVisibility(h),index:h}})}return[]}},onClick(a,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label:a=>a.chart.data.labels[a.dataIndex]+": "+a.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class Do extends $i{}Do.id="pie",Do.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class An extends Re{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,h){return mi.bind(this)(e,n,r,h)}update(e){const n=this._cachedMeta,r=n.dataset,h=n.data||[],d=n.iScale.getLabels();if(r.points=h,"resize"!==e){const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:d.length===h.length,options:f},e)}this.updateElements(h,0,h.length,e)}updateElements(e,n,r,h){const d=this._cachedMeta.rScale,f="reset"===h;for(let p=n;p<n+r;p++){const b=e[p],x=this.resolveDataElementOptions(p,b.active?"active":h),y=d.getPointPositionForValue(p,this.getParsed(p).r),v=f?d.xCenter:y.x,w=f?d.yCenter:y.y,S={x:v,y:w,angle:y.angle,skip:isNaN(v)||isNaN(w),options:x};this.updateElement(b,p,S,h)}}}An.id="radar",An.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},An.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Di extends gs{}Di.id="scatter",Di.defaults={showLine:!1,fill:!1},Di.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:a=>"("+a.label+", "+a.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var Tn=Object.freeze({__proto__:null,BarController:Cn,BubbleController:On,DoughnutController:$i,LineController:gs,PolarAreaController:ps,PieController:Do,RadarController:An,ScatterController:Di});function Co(a,e,n){const{startAngle:r,pixelMargin:h,x:d,y:f,outerRadius:p,innerRadius:b}=e;let x=h/p;a.beginPath(),a.arc(d,f,p,r-x,n+x),b>h?(x=h/b,a.arc(d,f,b,n+x,r-x,!0)):a.arc(d,f,h,n+At,r-At),a.closePath(),a.clip()}function ee(a,e,n,r){return{x:n+a*Math.cos(e),y:r+a*Math.sin(e)}}function de(a,e,n,r,h){const{x:d,y:f,startAngle:p,pixelMargin:b,innerRadius:x}=e,y=Math.max(e.outerRadius+r+n-b,0),v=x>0?x+r+n+b:0;let w=0;const S=h-p;if(r){const K=((x>0?x-r:0)+(y>0?y-r:0))/2;w=(S-(0!==K?S*K/(K+r):S))/2}const P=(S-Math.max(.001,S*y-n/ct)/y)/2,D=p+P+w,O=h-P-w,{outerStart:T,outerEnd:R,innerStart:E,innerEnd:z}=function Xr(a,e,n,r){const h=mn(a.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),d=(n-e)/2,f=Math.min(d,r*e/2),p=b=>{const x=(n-Math.min(d,b))*r/2;return Lt(b,0,Math.min(d,x))};return{outerStart:p(h.outerStart),outerEnd:p(h.outerEnd),innerStart:Lt(h.innerStart,0,f),innerEnd:Lt(h.innerEnd,0,f)}}(e,v,y,O-D),V=y-T,N=y-R,Y=D+T/V,Q=O-R/N,G=v+E,U=v+z,q=D+E/G,J=O-z/U;if(a.beginPath(),a.arc(d,f,y,Y,Q),R>0){const K=ee(N,Q,d,f);a.arc(K.x,K.y,R,Q,O+At)}const et=ee(U,O,d,f);if(a.lineTo(et.x,et.y),z>0){const K=ee(U,J,d,f);a.arc(K.x,K.y,z,O+At,J+Math.PI)}if(a.arc(d,f,v,O-z/v,D+E/v,!0),E>0){const K=ee(G,q,d,f);a.arc(K.x,K.y,E,q+Math.PI,D-At)}const X=ee(V,D,d,f);if(a.lineTo(X.x,X.y),T>0){const K=ee(V,Y,d,f);a.arc(K.x,K.y,T,D-At,Y)}a.closePath()}class Ln extends ve{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const h=this.getProps(["x","y"],r),{angle:d,distance:f}=yt(h,{x:e,y:n}),{startAngle:p,endAngle:b,innerRadius:x,outerRadius:y,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),w=this.options.spacing/2,S=at(v,b-p)>=ut||kt(d,p,b),P=Ft(f,x+w,y+w);return S&&P}getCenterPoint(e){const{x:n,y:r,startAngle:h,endAngle:d,innerRadius:f,outerRadius:p}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:b,spacing:x}=this.options,y=(h+d)/2,v=(f+p+x+b)/2;return{x:n+Math.cos(y)*v,y:r+Math.sin(y)*v}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,h=(n.offset||0)/2,d=(n.spacing||0)/2;if(this.pixelMargin="inner"===n.borderAlign?.33:0,this.fullCircles=r>ut?Math.floor(r/ut):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();let f=0;if(h){f=h/2;const b=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(b)*f,Math.sin(b)*f),this.circumference>=ct&&(f=h)}e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,function sr(a,e,n,r,h){const{options:d}=e,{borderWidth:f,borderJoinStyle:p}=d,b="inner"===d.borderAlign;f&&(b?(a.lineWidth=2*f,a.lineJoin=p||"round"):(a.lineWidth=f,a.lineJoin=p||"bevel"),e.fullCircles&&function(x,y,v){const{x:w,y:S,startAngle:P,pixelMargin:D,fullCircles:O}=y,T=Math.max(y.outerRadius-D,0),R=y.innerRadius+D;let E;for(v&&Co(x,y,P+ut),x.beginPath(),x.arc(w,S,R,P+ut,P,!0),E=0;E<O;++E)x.stroke();for(x.beginPath(),x.arc(w,S,T,P,P+ut),E=0;E<O;++E)x.stroke()}(a,e,b),b&&Co(a,e,h),de(a,e,n,r,h),a.stroke())}(e,this,f,d,function(b,x,y,v){const{fullCircles:w,startAngle:S,circumference:P}=x;let D=x.endAngle;if(w){de(b,x,y,v,S+ut);for(let O=0;O<w;++O)b.fill();isNaN(P)||(D=S+P%ut,P%ut==0&&(D+=ut))}return de(b,x,y,v,D),b.fill(),D}(e,this,f,d)),e.restore()}}function ms(a,e,n=e){a.lineCap=at(n.borderCapStyle,e.borderCapStyle),a.setLineDash(at(n.borderDash,e.borderDash)),a.lineDashOffset=at(n.borderDashOffset,e.borderDashOffset),a.lineJoin=at(n.borderJoinStyle,e.borderJoinStyle),a.lineWidth=at(n.borderWidth,e.borderWidth),a.strokeStyle=at(n.borderColor,e.borderColor)}function Kr(a,e,n){a.lineTo(n.x,n.y)}function nr(a,e,n={}){const r=a.length,{start:h=0,end:d=r-1}=n,{start:f,end:p}=e,b=Math.max(h,f),x=Math.min(d,p);return{count:r,start:b,loop:e.loop,ilen:x<b&&!(h<f&&d<f||h>p&&d>p)?r+x-b:x-b}}function qr(a,e,n,r){const{points:h,options:d}=e,{count:f,start:p,loop:b,ilen:x}=nr(h,n,r),y=(O=d).stepped?Qn:O.tension||"monotone"===O.cubicInterpolationMode?fa:Kr;var O;let v,w,S,{move:P=!0,reverse:D}=r||{};for(v=0;v<=x;++v)w=h[(p+(D?x-v:v))%f],w.skip||(P?(a.moveTo(w.x,w.y),P=!1):y(a,S,w,D,d.stepped),S=w);return b&&(w=h[(p+(D?x:0))%f],y(a,S,w,D,d.stepped)),!!b}function Gr(a,e,n,r){const h=e.points,{count:d,start:f,ilen:p}=nr(h,n,r),{move:b=!0,reverse:x}=r||{};let y,v,w,S,P,D,O=0,T=0;const R=z=>(f+(x?p-z:z))%d,E=()=>{S!==P&&(a.lineTo(O,P),a.lineTo(O,S),a.lineTo(O,D))};for(b&&(v=h[R(0)],a.moveTo(v.x,v.y)),y=0;y<=p;++y){if(v=h[R(y)],v.skip)continue;const z=v.x,V=v.y,N=0|z;N===w?(V<S?S=V:V>P&&(P=V),O=(T*O+z)/++T):(E(),a.lineTo(z,V),w=N,T=0,S=P=V),D=V}E()}function Oo(a){const e=a.options;return a._decimated||a._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||e.borderDash&&e.borderDash.length?qr:Gr}Ln.id="arc",Ln.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},Ln.defaultRoutes={backgroundColor:"backgroundColor"};const Rn="function"==typeof Path2D;class Ci extends ve{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(ma(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,n),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ho(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,n){const r=this.options,h=e[n],d=this.points,f=lo(this,{property:n,start:h,end:h});if(!f.length)return;const p=[],b=(v=r).stepped?pn:v.tension||"monotone"===v.cubicInterpolationMode?io:_i;var v;let x,y;for(x=0,y=f.length;x<y;++x){const{start:v,end:w}=f[x],S=d[v],P=d[w];if(S===P){p.push(S);continue}const D=b(S,P,Math.abs((h-S[n])/(P[n]-S[n])),r.stepped);D[n]=e[n],p.push(D)}return 1===p.length?p[0]:p}pathSegment(e,n,r){return Oo(this)(e,this,n,r)}path(e,n,r){const h=this.segments,d=Oo(this);let f=this._loop;n=n||0,r=r||this.points.length-n;for(const p of h)f&=d(e,this,p,{start:n,end:n+r-1});return!!f}draw(e,n,r,h){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function Zr(a,e,n,r){Rn&&!e.options.segment?function(h,d,f,p){let b=d._path;b||(b=d._path=new Path2D,d.path(b,f,p)&&b.closePath()),ms(h,d.options),h.stroke(b)}(a,e,n,r):function(h,d,f,p){const{segments:b,options:x}=d,y=Oo(d);for(const v of b)ms(h,x,v.style),h.beginPath(),y(h,d,v,{start:f,end:f+p-1})&&h.closePath(),h.stroke()}(a,e,n,r)}(e,this,r,h),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ao(a,e,n,r){const h=a.options,{[n]:d}=a.getProps([n],r);return Math.abs(e-d)<h.radius+h.hitRadius}Ci.id="line",Ci.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},Ci.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},Ci.descriptors={_scriptable:!0,_indexable:a=>"borderDash"!==a&&"fill"!==a};class Vs extends ve{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const h=this.options,{x:d,y:f}=this.getProps(["x","y"],r);return Math.pow(e-d,2)+Math.pow(n-f,2)<Math.pow(h.hitRadius+h.radius,2)}inXRange(e,n){return Ao(this,e,"x",n)}inYRange(e,n){return Ao(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){let n=(e=e||this.options||{}).radius||0;return n=Math.max(n,n&&e.hoverRadius||0),2*(n+(n&&e.borderWidth||0))}draw(e,n){const r=this.options;this.skip||r.radius<.1||!qe(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Bi(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function or(a,e){const{x:n,y:r,base:h,width:d,height:f}=a.getProps(["x","y","base","width","height"],e);let p,b,x,y,v;return a.horizontal?(v=f/2,p=Math.min(n,h),b=Math.max(n,h),x=r-v,y=r+v):(v=d/2,p=n-v,b=n+v,x=Math.min(r,h),y=Math.max(r,h)),{left:p,top:x,right:b,bottom:y}}function Oi(a,e,n,r){return a?0:Lt(e,n,r)}function En(a,e,n,r){const h=null===e,d=null===n,f=a&&!(h&&d)&&or(a,r);return f&&(h||Ft(e,f.left,f.right))&&(d||Ft(n,f.top,f.bottom))}function Qr(a,e){a.rect(e.x,e.y,e.w,e.h)}function To(a,e,n={}){const r=a.x!==n.x?-e:0,h=a.y!==n.y?-e:0;return{x:a.x+r,y:a.y+h,w:a.w+((a.x+a.w!==n.x+n.w?e:0)-r),h:a.h+((a.y+a.h!==n.y+n.h?e:0)-h),radius:a.radius}}Vs.id="point",Vs.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Vs.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class In extends ve{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:h}}=this,{inner:d,outer:f}=function Ws(a){const e=or(a),n=e.right-e.left,r=e.bottom-e.top,h=function(f,p,b){const y=f.borderSkipped,v=Ts(f.options.borderWidth);return{t:Oi(y.top,v.top,0,b),r:Oi(y.right,v.right,0,p),b:Oi(y.bottom,v.bottom,0,b),l:Oi(y.left,v.left,0,p)}}(a,n/2,r/2),d=function(f,p,b){const{enableBorderRadius:x}=f.getProps(["enableBorderRadius"]),y=f.options.borderRadius,v=Je(y),w=Math.min(p,b),S=f.borderSkipped,P=x||dt(y);return{topLeft:Oi(!P||S.top||S.left,v.topLeft,0,w),topRight:Oi(!P||S.top||S.right,v.topRight,0,w),bottomLeft:Oi(!P||S.bottom||S.left,v.bottomLeft,0,w),bottomRight:Oi(!P||S.bottom||S.right,v.bottomRight,0,w)}}(a,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:d},inner:{x:e.left+h.l,y:e.top+h.t,w:n-h.l-h.r,h:r-h.t-h.b,radius:{topLeft:Math.max(0,d.topLeft-Math.max(h.t,h.l)),topRight:Math.max(0,d.topRight-Math.max(h.t,h.r)),bottomLeft:Math.max(0,d.bottomLeft-Math.max(h.b,h.l)),bottomRight:Math.max(0,d.bottomRight-Math.max(h.b,h.r))}}}}(this),p=(b=f.radius).topLeft||b.topRight||b.bottomLeft||b.bottomRight?ns:Qr;var b;e.save(),f.w===d.w&&f.h===d.h||(e.beginPath(),p(e,To(f,n,d)),e.clip(),p(e,To(d,-n,f)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),p(e,To(d,n)),e.fillStyle=h,e.fill(),e.restore()}inRange(e,n,r){return En(this,e,n,r)}inXRange(e,n){return En(this,e,null,n)}inYRange(e,n){return En(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:h,horizontal:d}=this.getProps(["x","y","base","horizontal"],e);return{x:d?(n+h)/2:n,y:d?r:(r+h)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}In.id="bar",In.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},In.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Lo=Object.freeze({__proto__:null,ArcElement:Ln,LineElement:Ci,PointElement:Vs,BarElement:In});function oi(a){if(a._decimated){const e=a._data;delete a._decimated,delete a._data,Object.defineProperty(a,"data",{value:e})}}function Ns(a){a.data.datasets.forEach(e=>{oi(e)})}var Jr={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(a,e,n)=>{if(!n.enabled)return void Ns(a);const r=a.width;a.data.datasets.forEach((h,d)=>{const{_data:f,indexAxis:p}=h,b=a.getDatasetMeta(d),x=f||h.data;if("y"===Wi([p,a.options.indexAxis])||!b.controller.supportsDecimation)return;const y=a.scales[b.xAxisID];if("linear"!==y.type&&"time"!==y.type||a.options.parsing)return;let S,{start:v,count:w}=function(P,D){const O=D.length;let T,R=0;const{iScale:E}=P,{min:z,max:V,minDefined:N,maxDefined:Y}=E.getUserBounds();return N&&(R=Lt(Ce(D,E.axis,z).lo,0,O-1)),T=Y?Lt(Ce(D,E.axis,V).hi+1,R,O)-R:O-R,{start:R,count:T}}(b,x);if(w<=(n.threshold||4*r))oi(h);else{switch(ft(f)&&(h._data=x,delete h.data,Object.defineProperty(h,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(P){this._data=P}})),n.algorithm){case"lttb":S=function(P,D,O,T,R){const E=R.samples||T;if(E>=O)return P.slice(D,D+O);const z=[],V=(O-2)/(E-2);let N=0;const Y=D+O-1;let Q,G,U,q,J,et=D;for(z[N++]=P[et],Q=0;Q<E-2;Q++){let X,K=0,Ct=0;const It=Math.floor((Q+1)*V)+1+D,Vt=Math.min(Math.floor((Q+2)*V)+1,O)+D,Ht=Vt-It;for(X=It;X<Vt;X++)K+=P[X].x,Ct+=P[X].y;K/=Ht,Ct/=Ht;const me=Math.floor(Q*V)+1+D,be=Math.min(Math.floor((Q+1)*V)+1,O)+D,{x:ue,y:Me}=P[et];for(U=q=-1,X=me;X<be;X++)q=.5*Math.abs((ue-K)*(P[X].y-Me)-(ue-P[X].x)*(Ct-Me)),q>U&&(U=q,G=P[X],J=X);z[N++]=G,et=J}return z[N++]=P[Y],z}(x,v,w,r,n);break;case"min-max":S=function(P,D,O,T){let R,E,z,V,N,Y,Q,G,U,q,J=0,et=0;const X=[],Ct=P[D].x,It=P[D+O-1].x-Ct;for(R=D;R<D+O;++R){E=P[R],z=(E.x-Ct)/It*T,V=E.y;const Vt=0|z;if(Vt===N)V<U?(U=V,Y=R):V>q&&(q=V,Q=R),J=(et*J+E.x)/++et;else{const Ht=R-1;if(!ft(Y)&&!ft(Q)){const me=Math.min(Y,Q),be=Math.max(Y,Q);me!==G&&me!==Ht&&X.push(Jo(Gs({},P[me]),{x:J})),be!==G&&be!==Ht&&X.push(Jo(Gs({},P[be]),{x:J}))}R>0&&Ht!==G&&X.push(P[Ht]),X.push(E),N=Vt,et=0,U=q=V,Y=Q=G=R}}return X}(x,v,w,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}h._decimated=S}})},destroy(a){Ns(a)}};function Ro(a,e,n,r){if(r)return;let h=e[a],d=n[a];return"angle"===a&&(h=ne(h),d=ne(d)),{property:a,start:h,end:d}}function Eo(a,e,n){for(;e>a;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function ar(a,e,n,r){return a&&e?r(a[n],e[n]):a?a[n]:e?e[n]:0}function Ee(a,e){let n=[],r=!1;return pt(a)?(r=!0,n=a):n=function(h,d){const{x:f=null,y:p=null}=h||{},b=d.points,x=[];return d.segments.forEach(({start:y,end:v})=>{v=Eo(y,v,b);const w=b[y],S=b[v];null!==p?(x.push({x:w.x,y:p}),x.push({x:S.x,y:p})):null!==f&&(x.push({x:f,y:w.y}),x.push({x:f,y:S.y}))}),x}(a,e),n.length?new Ci({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function tl(a,e,n){let r=a[e].fill;const h=[e];let d;if(!n)return r;for(;!1!==r&&-1===h.indexOf(r);){if(!Ot(r))return r;if(d=a[r],!d)return!1;if(d.visible)return r;h.push(r),r=d.fill}return!1}function el(a,e,n){const r=function(d){const f=d.options,p=f.fill;let b=at(p&&p.target,p);return void 0===b&&(b=!!f.backgroundColor),!1!==b&&null!==b&&(!0===b?"origin":b)}(a);if(dt(r))return!isNaN(r.value)&&r;let h=parseFloat(r);return Ot(h)&&Math.floor(h)===h?(f=e,p=h,"-"!==(d=r[0])&&"+"!==d||(p=f+p),!(p===f||p<0||p>=n)&&p):["origin","start","end","stack","shape"].indexOf(r)>=0&&r;var d,f,p}function il(a,e,n){const r=[];for(let h=0;h<n.length;h++){const d=n[h],{first:f,last:p,point:b}=sl(d,e,"x");if(!(!b||f&&p))if(f)r.unshift(b);else if(a.push(b),!p)break}a.push(...r)}function sl(a,e,n){const r=a.interpolate(e,n);if(!r)return{};const h=r[n],d=a.segments,f=a.points;let p=!1,b=!1;for(let x=0;x<d.length;x++){const y=d[x],v=f[y.start][n],w=f[y.end][n];if(Ft(h,v,w)){p=h===v,b=h===w;break}}return{first:p,last:b,point:r}}class rr{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:h,y:d,radius:f}=this;return e.arc(h,d,f,(n=n||{start:0,end:ut}).end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:h}=this,d=e.angle;return{x:n+Math.cos(d)*h,y:r+Math.sin(d)*h,angle:d}}}function Fo(a,e,n){const r=function Io(a){const{chart:e,fill:n,line:r}=a;if(Ot(n))return function(d,f){const p=d.getDatasetMeta(f);return p&&d.isDatasetVisible(f)?p.dataset:null}(e,n);if("stack"===n)return function(d){const{scale:f,index:p,line:b}=d,x=[],y=b.segments,v=b.points,w=function(S,P){const D=[],O=S.getMatchingVisibleMetas("line");for(let T=0;T<O.length;T++){const R=O[T];if(R.index===P)break;R.hidden||D.unshift(R.dataset)}return D}(f,p);w.push(Ee({x:null,y:f.bottom},b));for(let S=0;S<y.length;S++){const P=y[S];for(let D=P.start;D<=P.end;D++)il(x,v[D],w)}return new Ci({points:x,options:{}})}(a);if("shape"===n)return!0;const h=((d=a).scale||{}).getPointPositionForValue?function(f){const{scale:p,fill:b}=f,x=p.options,y=p.getLabels().length,v=x.reverse?p.max:p.min,w=function(P,D,O){let T;return T="start"===P?O:"end"===P?D.options.reverse?D.min:D.max:dt(P)?P.value:D.getBaseValue(),T}(b,p,v),S=[];if(x.grid.circular){const P=p.getPointPositionForValue(0,v);return new rr({x:P.x,y:P.y,radius:p.getDistanceFromCenterForValue(w)})}for(let P=0;P<y;++P)S.push(p.getPointPositionForValue(P,w));return S}(d):function(f){const{scale:p={},fill:b}=f,x=function(y,v){let w=null;return"start"===y?w=v.bottom:"end"===y?w=v.top:dt(y)?w=v.getPixelForValue(y.value):v.getBasePixel&&(w=v.getBasePixel()),w}(b,p);if(Ot(x)){const y=p.isHorizontal();return{x:y?x:null,y:y?null:x}}return null}(d);var d;return h instanceof rr?h:Ee(h,r)}(e),{line:h,scale:d,axis:f}=e,p=h.options,b=p.fill,x=p.backgroundColor,{above:y=x,below:v=x}=b||{};r&&h.points.length&&(gi(a,n),function(w,S){const{line:P,target:D,above:O,below:T,area:R,scale:E}=S,z=P._loop?"angle":S.axis;w.save(),"x"===z&&T!==O&&(lr(w,D,R.top),hr(w,{line:P,target:D,color:O,scale:E,property:z}),w.restore(),w.save(),lr(w,D,R.bottom)),hr(w,{line:P,target:D,color:T,scale:E,property:z}),w.restore()}(a,{line:h,target:r,above:y,below:v,area:n,scale:d,axis:f}),pi(a))}function lr(a,e,n){const{segments:r,points:h}=e;let d=!0,f=!1;a.beginPath();for(const p of r){const{start:b,end:x}=p,y=h[b],v=h[Eo(b,x,h)];d?(a.moveTo(y.x,y.y),d=!1):(a.lineTo(y.x,n),a.lineTo(y.x,y.y)),f=!!e.pathSegment(a,p,{move:f}),f?a.closePath():a.lineTo(v.x,n)}a.lineTo(e.first().x,n),a.closePath(),a.clip()}function hr(a,e){const{line:n,target:r,property:h,color:d,scale:f}=e,p=function(b,x,y){const v=b.segments,w=b.points,S=x.points,P=[];for(const D of v){let{start:O,end:T}=D;T=Eo(O,T,w);const R=Ro(y,w[O],w[T],D.loop);if(!x.segments){P.push({source:D,target:R,start:w[O],end:w[T]});continue}const E=lo(x,R);for(const z of E){const V=Ro(y,S[z.start],S[z.end],z.loop),N=ro(D,w,V);for(const Y of N)P.push({source:Y,target:z,start:{[y]:ar(R,V,"start",Math.max)},end:{[y]:ar(R,V,"end",Math.min)}})}}return P}(n,r,h);for(const{source:b,target:x,start:y,end:v}of p){const{style:{backgroundColor:w=d}={}}=b,S=!0!==r;a.save(),a.fillStyle=w,zo(a,f,S&&Ro(h,y,v)),a.beginPath();const P=!!n.pathSegment(a,b);let D;if(S){P?a.closePath():cr(a,r,v,h);const O=!!r.pathSegment(a,x,{move:P,reverse:!0});D=P&&O,D||cr(a,r,y,h)}a.closePath(),a.fill(D?"evenodd":"nonzero"),a.restore()}}function zo(a,e,n){const{top:r,bottom:h}=e.chart.chartArea,{property:d,start:f,end:p}=n||{};"x"===d&&(a.beginPath(),a.rect(f,r,p-f,h-r),a.clip())}function cr(a,e,n,r){const h=e.interpolate(n,r);h&&a.lineTo(h.x,h.y)}var dr={id:"filler",afterDatasetsUpdate(a,e,n){const r=(a.data.datasets||[]).length,h=[];let d,f,p,b;for(f=0;f<r;++f)d=a.getDatasetMeta(f),p=d.dataset,b=null,p&&p.options&&p instanceof Ci&&(b={visible:a.isDatasetVisible(f),index:f,fill:el(p,f,r),chart:a,axis:d.controller.options.indexAxis,scale:d.vScale,line:p}),d.$filler=b,h.push(b);for(f=0;f<r;++f)b=h[f],b&&!1!==b.fill&&(b.fill=tl(h,f,n.propagate))},beforeDraw(a,e,n){const r="beforeDraw"===n.drawTime,h=a.getSortedVisibleDatasetMetas(),d=a.chartArea;for(let f=h.length-1;f>=0;--f){const p=h[f].$filler;p&&(p.line.updateControlPoints(d,p.axis),r&&Fo(a.ctx,p,d))}},beforeDatasetsDraw(a,e,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=a.getSortedVisibleDatasetMetas();for(let h=r.length-1;h>=0;--h){const d=r[h].$filler;d&&Fo(a.ctx,d,a.chartArea)}},beforeDatasetDraw(a,e,n){const r=e.meta.$filler;r&&!1!==r.fill&&"beforeDatasetDraw"===n.drawTime&&Fo(a.ctx,r,a.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Bo=(a,e)=>{let{boxHeight:n=e,boxWidth:r=e}=a;return a.usePointStyle&&(n=Math.min(n,e),r=Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}};class ur extends ve{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=wt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,h)=>e.sort(r,h,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display)return void(this.width=this.height=0);const r=e.labels,h=Xt(r.font),d=h.size,f=this._computeTitleHeight(),{boxWidth:p,itemHeight:b}=Bo(r,d);let x,y;n.font=h.string,this.isHorizontal()?(x=this.maxWidth,y=this._fitRows(f,d,p,b)+10):(y=this.maxHeight,x=this._fitCols(f,d,p,b)+10),this.width=Math.min(x,e.maxWidth||this.maxWidth),this.height=Math.min(y,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,h){const{ctx:d,maxWidth:f,options:{labels:{padding:p}}}=this,b=this.legendHitBoxes=[],x=this.lineWidths=[0],y=h+p;let v=e;d.textAlign="left",d.textBaseline="middle";let w=-1,S=-y;return this.legendItems.forEach((P,D)=>{const O=r+n/2+d.measureText(P.text).width;(0===D||x[x.length-1]+O+2*p>f)&&(v+=y,x[x.length-(D>0?0:1)]=0,S+=y,w++),b[D]={left:0,top:S,row:w,width:O,height:h},x[x.length-1]+=O+p}),v}_fitCols(e,n,r,h){const{ctx:d,maxHeight:f,options:{labels:{padding:p}}}=this,b=this.legendHitBoxes=[],x=this.columnSizes=[],y=f-e;let v=p,w=0,S=0,P=0,D=0;return this.legendItems.forEach((O,T)=>{const R=r+n/2+d.measureText(O.text).width;T>0&&S+h+2*p>y&&(v+=w+p,x.push({width:w,height:S}),P+=w+p,D++,w=S=0),b[T]={left:P,top:S,col:D,width:R,height:h},w=Math.max(w,R),S+=h+p}),v+=w,x.push({width:w,height:S}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:h},rtl:d}}=this,f=ei(d,this.left,this.width);if(this.isHorizontal()){let p=0,b=$t(r,this.left+h,this.right-this.lineWidths[p]);for(const x of n)p!==x.row&&(p=x.row,b=$t(r,this.left+h,this.right-this.lineWidths[p])),x.top+=this.top+e+h,x.left=f.leftForLtr(f.x(b),x.width),b+=x.width+h}else{let p=0,b=$t(r,this.top+e+h,this.bottom-this.columnSizes[p].height);for(const x of n)x.col!==p&&(p=x.col,b=$t(r,this.top+e+h,this.bottom-this.columnSizes[p].height)),x.top=b,x.left+=this.left+h,x.left=f.leftForLtr(f.x(x.left),x.width),b+=x.height+h}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;gi(e,this),this._draw(),pi(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:h}=this,{align:d,labels:f}=e,p=rt.color,b=ei(e.rtl,this.left,this.width),x=Xt(f.font),{color:y,padding:v}=f,w=x.size,S=w/2;let P;this.drawTitle(),h.textAlign=b.textAlign("left"),h.textBaseline="middle",h.lineWidth=.5,h.font=x.string;const{boxWidth:D,boxHeight:O,itemHeight:T}=Bo(f,w),R=this.isHorizontal(),E=this._computeTitleHeight();P=R?{x:$t(d,this.left+v,this.right-r[0]),y:this.top+v+E,line:0}:{x:this.left+v,y:$t(d,this.top+E+v,this.bottom-n[0].height),line:0},no(this.ctx,e.textDirection);const z=T+v;this.legendItems.forEach((V,N)=>{h.strokeStyle=V.fontColor||y,h.fillStyle=V.fontColor||y;const Y=h.measureText(V.text).width,Q=b.textAlign(V.textAlign||(V.textAlign=f.textAlign)),G=D+S+Y;let U=P.x,q=P.y;var J,X;b.setWidth(this.width),R?N>0&&U+G+v>this.right&&(q=P.y+=z,P.line++,U=P.x=$t(d,this.left+v,this.right-r[P.line])):N>0&&q+z>this.bottom&&(U=P.x=U+n[P.line].width+v,P.line++,q=P.y=$t(d,this.top+E+v,this.bottom-n[P.line].height)),function(J,et,X){if(isNaN(D)||D<=0||isNaN(O)||O<0)return;h.save();const K=at(X.lineWidth,1);if(h.fillStyle=at(X.fillStyle,p),h.lineCap=at(X.lineCap,"butt"),h.lineDashOffset=at(X.lineDashOffset,0),h.lineJoin=at(X.lineJoin,"miter"),h.lineWidth=K,h.strokeStyle=at(X.strokeStyle,p),h.setLineDash(at(X.lineDash,[])),f.usePointStyle){const Ct={radius:D*Math.SQRT2/2,pointStyle:X.pointStyle,rotation:X.rotation,borderWidth:K},It=b.xPlus(J,D/2);Bi(h,Ct,It,et+S)}else{const Ct=et+Math.max((w-O)/2,0),It=b.leftForLtr(J,D),Vt=Je(X.borderRadius);h.beginPath(),Object.values(Vt).some(Ht=>0!==Ht)?ns(h,{x:It,y:Ct,w:D,h:O,radius:Vt}):h.rect(It,Ct,D,O),h.fill(),0!==K&&h.stroke()}h.restore()}(b.x(U),q,V),U=qt(Q,U+D+S,R?U+G:this.right,e.rtl),J=b.x(U),ce(h,(X=V).text,J,q+T/2,x,{strikethrough:X.hidden,textAlign:b.textAlign(X.textAlign)}),R?P.x+=G+v:P.y+=z}),yi(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Xt(n.font),h=te(n.padding);if(!n.display)return;const d=ei(e.rtl,this.left,this.width),f=this.ctx,p=n.position,x=h.top+r.size/2;let y,v=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),y=this.top+x,v=$t(e.align,v,this.right-w);else{const P=this.columnSizes.reduce((D,O)=>Math.max(D,O.height),0);y=x+$t(e.align,this.top,this.bottom-P-e.labels.padding-this._computeTitleHeight())}const S=$t(p,v,v+w);f.textAlign=d.textAlign(xs(p)),f.textBaseline="middle",f.strokeStyle=n.color,f.fillStyle=n.color,f.font=r.string,ce(f,n.text,S,y,r)}_computeTitleHeight(){const e=this.options.title,n=Xt(e.font),r=te(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,h,d;if(Ft(e,this.left,this.right)&&Ft(n,this.top,this.bottom))for(d=this.legendHitBoxes,r=0;r<d.length;++r)if(h=d[r],Ft(e,h.left,h.left+h.width)&&Ft(n,h.top,h.top+h.height))return this.legendItems[r];return null}handleEvent(e){const n=this.options;if(p=n,("mousemove"!==(f=e.type)&&"mouseout"!==f||!p.onHover&&!p.onLeave)&&(!p.onClick||"click"!==f&&"mouseup"!==f))return;var f,p;const r=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const f=this._hoveredItem,p=(d=r,null!==(h=f)&&null!==d&&h.datasetIndex===d.datasetIndex&&h.index===d.index);f&&!p&&wt(n.onLeave,[e,f,this],this),this._hoveredItem=r,r&&!p&&wt(n.onHover,[e,r,this],this)}else r&&wt(n.onClick,[e,r,this],this);var h,d}}var fr={id:"legend",_element:ur,start(a,e,n){const r=a.legend=new ur({ctx:a.ctx,options:n,chart:a});Gt.configure(a,r,n),Gt.addBox(a,r)},stop(a){Gt.removeBox(a,a.legend),delete a.legend},beforeUpdate(a,e,n){const r=a.legend;Gt.configure(a,r,n),r.options=n},afterUpdate(a){const e=a.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(a,e){e.replay||a.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(a,e,n){const r=e.datasetIndex,h=n.chart;h.isDatasetVisible(r)?(h.hide(r),e.hidden=!0):(h.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:a=>a.chart.options.color,boxWidth:40,padding:10,generateLabels(a){const e=a.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:h,color:d}}=a.legend.options;return a._getSortedDatasetMetas().map(f=>{const p=f.controller.getStyle(n?0:void 0),b=te(p.borderWidth);return{text:e[f.index].label,fillStyle:p.backgroundColor,fontColor:d,hidden:!f.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(b.width+b.height)/4,strokeStyle:p.borderColor,pointStyle:r||p.pointStyle,rotation:p.rotation,textAlign:h||p.textAlign,borderRadius:0,datasetIndex:f.index}},this)}},title:{color:a=>a.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:a=>!a.startsWith("on"),labels:{_scriptable:a=>!["generateLabels","filter","sort"].includes(a)}}};class Fn extends ve{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=n;const h=pt(r.text)?r.text.length:1;this._padding=te(r.padding);const d=h*Xt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=d:this.width=d}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:n,left:r,bottom:h,right:d,options:f}=this,p=f.align;let b,x,y,v=0;return this.isHorizontal()?(x=$t(p,r,d),y=n+e,b=d-r):("left"===f.position?(x=r+e,y=$t(p,h,n),v=-.5*ct):(x=d-e,y=$t(p,n,h),v=.5*ct),b=h-n),{titleX:x,titleY:y,maxWidth:b,rotation:v}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Xt(n.font),h=r.lineHeight/2+this._padding.top,{titleX:d,titleY:f,maxWidth:p,rotation:b}=this._drawArgs(h);ce(e,n.text,0,0,r,{color:n.color,maxWidth:p,rotation:b,textAlign:xs(n.align),textBaseline:"middle",translation:[d,f]})}}var zn={id:"title",_element:Fn,start(a,e,n){!function(r,h){const d=new Fn({ctx:r.ctx,options:h,chart:r});Gt.configure(r,d,h),Gt.addBox(r,d),r.titleBlock=d}(a,n)},stop(a){Gt.removeBox(a,a.titleBlock),delete a.titleBlock},beforeUpdate(a,e,n){const r=a.titleBlock;Gt.configure(a,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ai=new WeakMap;var nl={id:"subtitle",start(a,e,n){const r=new Fn({ctx:a.ctx,options:n,chart:a});Gt.configure(a,r,n),Gt.addBox(a,r),Ai.set(a,r)},stop(a){Gt.removeBox(a,Ai.get(a)),Ai.delete(a)},beforeUpdate(a,e,n){const r=Ai.get(a);Gt.configure(a,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bs={average(a){if(!a.length)return!1;let e,n,r=0,h=0,d=0;for(e=0,n=a.length;e<n;++e){const f=a[e].element;if(f&&f.hasValue()){const p=f.tooltipPosition();r+=p.x,h+=p.y,++d}}return{x:r/d,y:h/d}},nearest(a,e){if(!a.length)return!1;let n,r,h,d=e.x,f=e.y,p=Number.POSITIVE_INFINITY;for(n=0,r=a.length;n<r;++n){const b=a[n].element;if(b&&b.hasValue()){const x=Ms(e,b.getCenterPoint());x<p&&(p=x,h=b)}}if(h){const b=h.tooltipPosition();d=b.x,f=b.y}return{x:d,y:f}}};function Ne(a,e){return e&&(pt(e)?Array.prototype.push.apply(a,e):a.push(e)),a}function ai(a){return("string"==typeof a||a instanceof String)&&a.indexOf("\n")>-1?a.split("\n"):a}function ol(a,e){const{element:n,datasetIndex:r,index:h}=e,d=a.getDatasetMeta(r).controller,{label:f,value:p}=d.getLabelAndValue(h);return{chart:a,label:f,parsed:d.getParsed(h),raw:a.data.datasets[r].data[h],formattedValue:p,dataset:d.getDataset(),dataIndex:h,datasetIndex:r,element:n}}function gr(a,e){const n=a.chart.ctx,{body:r,footer:h,title:d}=a,{boxWidth:f,boxHeight:p}=e,b=Xt(e.bodyFont),x=Xt(e.titleFont),y=Xt(e.footerFont),v=d.length,w=h.length,S=r.length,P=te(e.padding);let D=P.height,O=0,T=r.reduce((z,V)=>z+V.before.length+V.lines.length+V.after.length,0);T+=a.beforeBody.length+a.afterBody.length,v&&(D+=v*x.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),T&&(D+=S*(e.displayColors?Math.max(p,b.lineHeight):b.lineHeight)+(T-S)*b.lineHeight+(T-1)*e.bodySpacing),w&&(D+=e.footerMarginTop+w*y.lineHeight+(w-1)*e.footerSpacing);let R=0;const E=function(z){O=Math.max(O,n.measureText(z).width+R)};return n.save(),n.font=x.string,mt(a.title,E),n.font=b.string,mt(a.beforeBody.concat(a.afterBody),E),R=e.displayColors?f+2+e.boxPadding:0,mt(r,z=>{mt(z.before,E),mt(z.lines,E),mt(z.after,E)}),R=0,n.font=y.string,mt(a.footer,E),n.restore(),O+=P.width,{width:O,height:D}}function pr(a,e,n,r){const{x:h,width:d}=n,{width:f,chartArea:{left:p,right:b}}=a;let x="center";return"center"===r?x=h<=(p+b)/2?"left":"right":h<=d/2?x="left":h>=f-d/2&&(x="right"),function(y,v,w,S){const{x:P,width:D}=S,O=w.caretSize+w.caretPadding;return"left"===y&&P+D+O>v.width||"right"===y&&P-D-O<0||void 0}(x,a,e,n)&&(x="center"),x}function Vo(a,e,n){const r=n.yAlign||e.yAlign||function(h,d){const{y:f,height:p}=d;return f<p/2?"top":f>h.height-p/2?"bottom":"center"}(a,n);return{xAlign:n.xAlign||e.xAlign||pr(a,e,n,r),yAlign:r}}function Wo(a,e,n,r){const{caretSize:h,caretPadding:d,cornerRadius:f}=a,{xAlign:p,yAlign:b}=n,x=h+d,{topLeft:y,topRight:v,bottomLeft:w,bottomRight:S}=Je(f);let P=function(O,T){let{x:R,width:E}=O;return"right"===T?R-=E:"center"===T&&(R-=E/2),R}(e,p);const D=function(O,T,R){let{y:E,height:z}=O;return"top"===T?E+=R:E-="bottom"===T?z+R:z/2,E}(e,b,x);return"center"===b?"left"===p?P+=x:"right"===p&&(P-=x):"left"===p?P-=Math.max(y,w)+h:"right"===p&&(P+=Math.max(v,S)+h),{x:Lt(P,0,r.width-e.width),y:Lt(D,0,r.height-e.height)}}function Bn(a,e,n){const r=te(n.padding);return"center"===e?a.x+a.width/2:"right"===e?a.x+a.width-r.right:a.x+r.left}function No(a){return Ne([],ai(a))}function Hs(a,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?a.override(n):a}class Vn extends ve{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),h=r.enabled&&n.options.animation&&r.animations,d=new Fs(this.chart,h);return h._cacheable&&(this._cachedAnimations=Object.freeze(d)),d}getContext(){return this.$context||(this.$context=ti(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(e,n){const{callbacks:r}=n,h=r.beforeTitle.apply(this,[e]),d=r.title.apply(this,[e]),f=r.afterTitle.apply(this,[e]);let p=[];return p=Ne(p,ai(h)),p=Ne(p,ai(d)),p=Ne(p,ai(f)),p}getBeforeBody(e,n){return No(n.callbacks.beforeBody.apply(this,[e]))}getBody(e,n){const{callbacks:r}=n,h=[];return mt(e,d=>{const f={before:[],lines:[],after:[]},p=Hs(r,d);Ne(f.before,ai(p.beforeLabel.call(this,d))),Ne(f.lines,p.label.call(this,d)),Ne(f.after,ai(p.afterLabel.call(this,d))),h.push(f)}),h}getAfterBody(e,n){return No(n.callbacks.afterBody.apply(this,[e]))}getFooter(e,n){const{callbacks:r}=n,h=r.beforeFooter.apply(this,[e]),d=r.footer.apply(this,[e]),f=r.afterFooter.apply(this,[e]);let p=[];return p=Ne(p,ai(h)),p=Ne(p,ai(d)),p=Ne(p,ai(f)),p}_createItems(e){const n=this._active,r=this.chart.data,h=[],d=[],f=[];let p,b,x=[];for(p=0,b=n.length;p<b;++p)x.push(ol(this.chart,n[p]));return e.filter&&(x=x.filter((y,v,w)=>e.filter(y,v,w,r))),e.itemSort&&(x=x.sort((y,v)=>e.itemSort(y,v,r))),mt(x,y=>{const v=Hs(e.callbacks,y);h.push(v.labelColor.call(this,y)),d.push(v.labelPointStyle.call(this,y)),f.push(v.labelTextColor.call(this,y))}),this.labelColors=h,this.labelPointStyles=d,this.labelTextColors=f,this.dataPoints=x,x}update(e,n){const r=this.options.setContext(this.getContext()),h=this._active;let d,f=[];if(h.length){const p=bs[r.position].call(this,h,this._eventPosition);f=this._createItems(r),this.title=this.getTitle(f,r),this.beforeBody=this.getBeforeBody(f,r),this.body=this.getBody(f,r),this.afterBody=this.getAfterBody(f,r),this.footer=this.getFooter(f,r);const b=this._size=gr(this,r),x=Object.assign({},p,b),y=Vo(this.chart,r,x),v=Wo(r,x,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,d={opacity:1,x:v.x,y:v.y,width:b.width,height:b.height,caretX:p.x,caretY:p.y}}else 0!==this.opacity&&(d={opacity:0});this._tooltipItems=f,this.$context=void 0,d&&this._resolveAnimations().update(this,d),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,h){const d=this.getCaretPosition(e,r,h);n.lineTo(d.x1,d.y1),n.lineTo(d.x2,d.y2),n.lineTo(d.x3,d.y3)}getCaretPosition(e,n,r){const{xAlign:h,yAlign:d}=this,{caretSize:f,cornerRadius:p}=r,{topLeft:b,topRight:x,bottomLeft:y,bottomRight:v}=Je(p),{x:w,y:S}=e,{width:P,height:D}=n;let O,T,R,E,z,V;return"center"===d?(z=S+D/2,"left"===h?(O=w,T=O-f,E=z+f,V=z-f):(O=w+P,T=O+f,E=z-f,V=z+f),R=O):(T="left"===h?w+Math.max(b,y)+f:"right"===h?w+P-Math.max(x,v)-f:this.caretX,"top"===d?(E=S,z=E-f,O=T-f,R=T+f):(E=S+D,z=E+f,O=T+f,R=T-f),V=E),{x1:O,x2:T,x3:R,y1:E,y2:z,y3:V}}drawTitle(e,n,r){const h=this.title,d=h.length;let f,p,b;if(d){const x=ei(r.rtl,this.x,this.width);for(e.x=Bn(this,r.titleAlign,r),n.textAlign=x.textAlign(r.titleAlign),n.textBaseline="middle",f=Xt(r.titleFont),p=r.titleSpacing,n.fillStyle=r.titleColor,n.font=f.string,b=0;b<d;++b)n.fillText(h[b],x.x(e.x),e.y+f.lineHeight/2),e.y+=f.lineHeight+p,b+1===d&&(e.y+=r.titleMarginBottom-p)}}_drawColorBox(e,n,r,h,d){const f=this.labelColors[r],p=this.labelPointStyles[r],{boxHeight:b,boxWidth:x,boxPadding:y}=d,v=Xt(d.bodyFont),w=Bn(this,"left",d),S=h.x(w),D=n.y+(b<v.lineHeight?(v.lineHeight-b)/2:0);if(d.usePointStyle){const O={radius:Math.min(x,b)/2,pointStyle:p.pointStyle,rotation:p.rotation,borderWidth:1},T=h.leftForLtr(S,x)+x/2,R=D+b/2;e.strokeStyle=d.multiKeyBackground,e.fillStyle=d.multiKeyBackground,Bi(e,O,T,R),e.strokeStyle=f.borderColor,e.fillStyle=f.backgroundColor,Bi(e,O,T,R)}else{e.lineWidth=f.borderWidth||1,e.strokeStyle=f.borderColor,e.setLineDash(f.borderDash||[]),e.lineDashOffset=f.borderDashOffset||0;const O=h.leftForLtr(S,x-y),T=h.leftForLtr(h.xPlus(S,1),x-y-2),R=Je(f.borderRadius);Object.values(R).some(E=>0!==E)?(e.beginPath(),e.fillStyle=d.multiKeyBackground,ns(e,{x:O,y:D,w:x,h:b,radius:R}),e.fill(),e.stroke(),e.fillStyle=f.backgroundColor,e.beginPath(),ns(e,{x:T,y:D+1,w:x-2,h:b-2,radius:R}),e.fill()):(e.fillStyle=d.multiKeyBackground,e.fillRect(O,D,x,b),e.strokeRect(O,D,x,b),e.fillStyle=f.backgroundColor,e.fillRect(T,D+1,x-2,b-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:h}=this,{bodySpacing:d,bodyAlign:f,displayColors:p,boxHeight:b,boxWidth:x,boxPadding:y}=r,v=Xt(r.bodyFont);let w=v.lineHeight,S=0;const P=ei(r.rtl,this.x,this.width),D=function(Q){n.fillText(Q,P.x(e.x+S),e.y+w/2),e.y+=w+d},O=P.textAlign(f);let T,R,E,z,V,N,Y;for(n.textAlign=f,n.textBaseline="middle",n.font=v.string,e.x=Bn(this,O,r),n.fillStyle=r.bodyColor,mt(this.beforeBody,D),S=p&&"right"!==O?"center"===f?x/2+y:x+2+y:0,z=0,N=h.length;z<N;++z){for(T=h[z],R=this.labelTextColors[z],n.fillStyle=R,mt(T.before,D),E=T.lines,p&&E.length&&(this._drawColorBox(n,e,z,P,r),w=Math.max(v.lineHeight,b)),V=0,Y=E.length;V<Y;++V)D(E[V]),w=v.lineHeight;mt(T.after,D)}S=0,w=v.lineHeight,mt(this.afterBody,D),e.y-=d}drawFooter(e,n,r){const h=this.footer,d=h.length;let f,p;if(d){const b=ei(r.rtl,this.x,this.width);for(e.x=Bn(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=b.textAlign(r.footerAlign),n.textBaseline="middle",f=Xt(r.footerFont),n.fillStyle=r.footerColor,n.font=f.string,p=0;p<d;++p)n.fillText(h[p],b.x(e.x),e.y+f.lineHeight/2),e.y+=f.lineHeight+r.footerSpacing}}drawBackground(e,n,r,h){const{xAlign:d,yAlign:f}=this,{x:p,y:b}=e,{width:x,height:y}=r,{topLeft:v,topRight:w,bottomLeft:S,bottomRight:P}=Je(h.cornerRadius);n.fillStyle=h.backgroundColor,n.strokeStyle=h.borderColor,n.lineWidth=h.borderWidth,n.beginPath(),n.moveTo(p+v,b),"top"===f&&this.drawCaret(e,n,r,h),n.lineTo(p+x-w,b),n.quadraticCurveTo(p+x,b,p+x,b+w),"center"===f&&"right"===d&&this.drawCaret(e,n,r,h),n.lineTo(p+x,b+y-P),n.quadraticCurveTo(p+x,b+y,p+x-P,b+y),"bottom"===f&&this.drawCaret(e,n,r,h),n.lineTo(p+S,b+y),n.quadraticCurveTo(p,b+y,p,b+y-S),"center"===f&&"left"===d&&this.drawCaret(e,n,r,h),n.lineTo(p,b+v),n.quadraticCurveTo(p,b,p+v,b),n.closePath(),n.fill(),h.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,h=r&&r.x,d=r&&r.y;if(h||d){const f=bs[e.position].call(this,this._active,this._eventPosition);if(!f)return;const p=this._size=gr(this,e),b=Object.assign({},f,this._size),x=Vo(n,e,b),y=Wo(e,b,x,n);h._to===y.x&&d._to===y.y||(this.xAlign=x.xAlign,this.yAlign=x.yAlign,this.width=p.width,this.height=p.height,this.caretX=f.x,this.caretY=f.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const h={width:this.width,height:this.height},d={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const f=te(n.padding);n.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(d,e,h,n),no(e,n.textDirection),d.y+=f.top,this.drawTitle(d,e,n),this.drawBody(d,e,n),this.drawFooter(d,e,n),yi(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,h=e.map(({datasetIndex:p,index:b})=>{const x=this.chart.getDatasetMeta(p);if(!x)throw new Error("Cannot find a dataset at index "+p);return{datasetIndex:p,element:x.data[b],index:b}}),d=!Ri(r,h),f=this._positionChanged(h,n);(d||f)&&(this._active=h,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const h=this.options,d=this._active||[],f=this._getActiveElements(e,d,n,r),p=this._positionChanged(f,e),b=n||!Ri(f,d)||p;return b&&(this._active=f,(h.enabled||h.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),b}_getActiveElements(e,n,r,h){const d=this.options;if("mouseout"===e.type)return[];if(!h)return n;const f=this.chart.getElementsAtEventForMode(e,d.mode,d,r);return d.reverse&&f.reverse(),f}_positionChanged(e,n){const{caretX:r,caretY:h,options:d}=this,f=bs[d.position].call(this,e,n);return!1!==f&&(r!==f.x||h!==f.y)}}Vn.positioners=bs;var mr=Object.freeze({__proto__:null,Decimation:Jr,Filler:dr,Legend:fr,SubTitle:nl,Title:zn,Tooltip:{id:"tooltip",_element:Vn,positioners:bs,afterInit(a,e,n){n&&(a.tooltip=new Vn({chart:a,options:n}))},beforeUpdate(a,e,n){a.tooltip&&a.tooltip.initialize(n)},reset(a,e,n){a.tooltip&&a.tooltip.initialize(n)},afterDraw(a){const e=a.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===a.notifyPlugins("beforeTooltipDraw",n))return;e.draw(a.ctx),a.notifyPlugins("afterTooltipDraw",n)}},afterEvent(a,e){a.tooltip&&a.tooltip.handleEvent(e.event,e.replay,e.inChartArea)&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(a,e)=>e.bodyFont.size,boxWidth:(a,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Ie,title(a){if(a.length>0){const e=a[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Ie,beforeBody:Ie,beforeLabel:Ie,label(a){if(this&&this.options&&"dataset"===this.options.mode)return a.label+": "+a.formattedValue||a.formattedValue;let e=a.dataset.label||"";e&&(e+=": ");const n=a.formattedValue;return ft(n)||(e+=n),e},labelColor(a){const e=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(a){const e=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ie,afterBody:Ie,beforeFooter:Ie,footer:Ie,afterFooter:Ie}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:a=>"filter"!==a&&"itemSort"!==a&&"external"!==a,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});class js extends si{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:h,label:d}of n)r[h]===d&&r.splice(h,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ft(e))return null;const r=this.getLabels();return h=n=isFinite(n)&&r[n]===e?n:function Bt(a,e,n,r){const h=a.indexOf(e);return-1===h?(p=n,b=r,"string"==typeof(f=e)?(p=a.push(f)-1,b.unshift({index:p,label:f})):isNaN(f)&&(p=null),p):h!==a.lastIndexOf(e)?n:h;var f,p,b}(r,e,at(n,e),this._addedLabels),d=r.length-1,null===h?null:Lt(Math.round(h),0,d);var h,d}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:h}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),n||(h=this.getLabels().length-1)),this.min=r,this.max=h}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,h=[];let d=this.getLabels();d=0===e&&n===d.length-1?d:d.slice(e,n+1),this._valueRange=Math.max(d.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let f=e;f<=n;f++)h.push({value:f});return h}getLabelForValue(e){const n=this.getLabels();return e>=0&&e<n.length?n[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function ri(a,e,{horizontal:n,minRotation:r}){const h=he(r),d=(n?Math.sin(h):Math.cos(h))||.001;return Math.min(e/d,.75*e*(""+a).length)}js.id="category",js.defaults={ticks:{callback:js.prototype.getLabelForValue}};class He extends si{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ft(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:h,max:d}=this;const f=b=>h=n?h:b,p=b=>d=r?d:b;if(e){const b=ot(h),x=ot(d);b<0&&x<0?p(0):b>0&&x>0&&f(0)}if(h===d){let b=1;(d>=Number.MAX_SAFE_INTEGER||h<=Number.MIN_SAFE_INTEGER)&&(b=Math.abs(.05*d)),p(d+b),e||f(h-b)}this.min=h,this.max=d}getTickLimit(){const e=this.options.ticks;let n,{maxTicksLimit:r,stepSize:h}=e;return h?(n=Math.ceil(this.max/h)-Math.floor(this.min/h)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${h} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),r=r||11),r&&(n=Math.min(r,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const h=function(d,f){const p=[],{bounds:b,step:x,min:y,max:v,precision:w,count:S,maxTicks:P,maxDigits:D,includeBounds:O}=d,T=x||1,R=P-1,{min:E,max:z}=f,V=!ft(y),N=!ft(v),Y=!ft(S),Q=(z-E)/(D+1);let G,U,q,J,et=Ji((z-E)/R/T)*T;if(et<1e-14&&!V&&!N)return[{value:E},{value:z}];J=Math.ceil(z/et)-Math.floor(E/et),J>R&&(et=Ji(J*et/R/T)*T),ft(w)||(G=Math.pow(10,w),et=Math.ceil(et*G)/G),"ticks"===b?(U=Math.floor(E/et)*et,q=Math.ceil(z/et)*et):(U=E,q=z),V&&N&&x&&Zn((v-y)/x,et/1e3)?(J=Math.round(Math.min((v-y)/et,P)),et=(v-y)/J,U=y,q=v):Y?(U=V?y:U,q=N?v:q,J=S-1,et=(q-U)/J):(J=(q-U)/et,J=Fi(J,Math.round(J),et/1e3)?Math.round(J):Math.ceil(J));const X=Math.max(St(et),St(U));G=Math.pow(10,ft(w)?X:w),U=Math.round(U*G)/G,q=Math.round(q*G)/G;let K=0;for(V&&(O&&U!==y?(p.push({value:y}),U<y&&K++,Fi(Math.round((U+K*et)*G)/G,y,ri(y,Q,d))&&K++):U<y&&K++);K<J;++K)p.push({value:Math.round((U+K*et)*G)/G});return N&&O&&q!==v?p.length&&Fi(p[p.length-1].value,v,ri(v,Q,d))?p[p.length-1].value=v:p.push({value:v}):N&&q!==v||p.push({value:q}),p}({maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:!1!==n.includeBounds},this._range||this);return"ticks"===e.bounds&&rn(h,this,"value"),e.reverse?(h.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),h}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const h=(r-n)/Math.max(e.length-1,1)/2;n-=h,r+=h}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return as(e,this.chart.options.locale,this.options.ticks.format)}}class $s extends He{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ot(e)?e:0,this.max=Ot(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=he(this.options.ticks.minRotation),h=(e?Math.sin(r):Math.cos(r))||.001,d=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,d.lineHeight/h))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function Ho(a){return a/Math.pow(10,Math.floor(ge(a)))==1}$s.id="linear",$s.defaults={ticks:{callback:cs.formatters.numeric}};class jo extends si{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=He.prototype.parse.apply(this,[e,n]);if(0!==r)return Ot(r)&&r>0?r:null;this._zero=!0}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ot(e)?Math.max(0,e):null,this.max=Ot(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,h=this.max;const d=b=>r=e?r:b,f=b=>h=n?h:b,p=(b,x)=>Math.pow(10,Math.floor(ge(b))+x);r===h&&(r<=0?(d(1),f(10)):(d(p(r,-1)),f(p(h,1)))),r<=0&&d(p(h,-1)),h<=0&&f(p(r,1)),this._zero&&this.min!==this._suggestedMin&&r===p(this.min,0)&&d(p(r,-1)),this.min=r,this.max=h}buildTicks(){const e=this.options,n=function(r,h){const d=Math.floor(ge(h.max)),f=Math.ceil(h.max/Math.pow(10,d)),p=[];let b=re(r.min,Math.pow(10,Math.floor(ge(h.min)))),x=Math.floor(ge(b)),y=Math.floor(b/Math.pow(10,x)),v=x<0?Math.pow(10,Math.abs(x)):1;do{p.push({value:b,major:Ho(b)}),++y,10===y&&(y=1,++x,v=x>=0?1:v),b=Math.round(y*Math.pow(10,x)*v)/v}while(x<d||x===d&&y<f);const w=re(r.max,b);return p.push({value:w,major:Ho(b)}),p}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&rn(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return void 0===e?"0":as(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ge(e),this._valueRange=ge(this.max)-ge(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ge(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}function $o(a){const e=a.ticks;if(e.display&&a.display){const n=te(e.backdropPadding);return at(e.font&&e.font.size,rt.font.size)+n.height}return 0}function br(a,e,n,r,h){return a===r||a===h?{start:e-n/2,end:e+n/2}:a<r||a>h?{start:e-n,end:e}:{start:e,end:e+n}}function ll(a,e,n,r,h){const d=Math.abs(Math.sin(n)),f=Math.abs(Math.cos(n));let p=0,b=0;r.start<e.l?(p=(e.l-r.start)/d,a.l=Math.min(a.l,e.l-p)):r.end>e.r&&(p=(r.end-e.r)/d,a.r=Math.max(a.r,e.r+p)),h.start<e.t?(b=(e.t-h.start)/f,a.t=Math.min(a.t,e.t-b)):h.end>e.b&&(b=(h.end-e.b)/f,a.b=Math.max(a.b,e.b+b))}function xr(a){return 0===a||180===a?"center":a<180?"left":"right"}function _r(a,e,n){return"right"===n?a-=e:"center"===n&&(a-=e/2),a}function Yo(a,e,n){return 90===n||270===n?a-=e/2:(n>270||n<90)&&(a-=e),a}function yr(a,e,n,r){const{ctx:h}=a;if(n)h.arc(a.xCenter,a.yCenter,e,0,ut);else{let d=a.getPointPosition(0,e);h.moveTo(d.x,d.y);for(let f=1;f<r;f++)d=a.getPointPosition(f,e),h.lineTo(d.x,d.y)}}jo.id="logarithmic",jo.defaults={ticks:{callback:cs.formatters.logarithmic,major:{enabled:!0}}};class Ys extends He{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=te($o(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Ot(e)&&!isNaN(e)?e:0,this.max=Ot(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/$o(this.options))}generateTickLabels(e){He.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const h=wt(this.options.pointLabels.callback,[n,r],this);return h||0===h?h:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?function rl(a){const e={l:a.left+a._padding.left,r:a.right-a._padding.right,t:a.top+a._padding.top,b:a.bottom-a._padding.bottom},n=Object.assign({},e),r=[],h=[],d=a._pointLabels.length,f=a.options.pointLabels,p=f.centerPointLabels?ct/d:0;for(let v=0;v<d;v++){const w=f.setContext(a.getPointLabelContext(v));h[v]=w.padding;const S=a.getPointPosition(v,a.drawingArea+h[v],p),P=Xt(w.font),D=(b=a.ctx,x=P,y=pt(y=a._pointLabels[v])?y:[y],{w:Ut(b,x.string,y),h:y.length*x.lineHeight});r[v]=D;const O=ne(a.getIndexAngle(v)+p),T=Math.round(ts(O));ll(n,e,O,br(T,S.x,D.w,0,180),br(T,S.y,D.h,90,270))}var b,x,y;a.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),a._pointLabelItems=function(v,w,S){const P=[],D=v._pointLabels.length,O=v.options,T=$o(O)/2,R=v.drawingArea,E=O.pointLabels.centerPointLabels?ct/D:0;for(let z=0;z<D;z++){const V=v.getPointPosition(z,R+T+S[z],E),N=Math.round(ts(ne(V.angle+At))),Y=w[z],Q=Yo(V.y,Y.h,N),G=xr(N),U=_r(V.x,Y.w,G);P.push({x:V.x,y:Q,textAlign:G,left:U,top:Q,right:U+Y.w,bottom:Q+Y.h})}return P}(a,r,h)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,h){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-h)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,h))}getIndexAngle(e){return ne(e*(ut/(this._pointLabels.length||1))+he(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(ft(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ft(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return ti(this.getContext(),{label:r,index:e,type:"pointLabel"})}}getPointPosition(e,n,r=0){const h=this.getIndexAngle(e)-At+r;return{x:Math.cos(h)*n+this.xCenter,y:Math.sin(h)*n+this.yCenter,angle:h}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:h,bottom:d}=this._pointLabelItems[e];return{left:n,top:r,right:h,bottom:d}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),yr(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:h}=n,d=this._pointLabels.length;let f,p,b;if(n.pointLabels.display&&function(x,y){const{ctx:v,options:{pointLabels:w}}=x;for(let S=y-1;S>=0;S--){const P=w.setContext(x.getPointLabelContext(S)),D=Xt(P.font),{x:O,y:T,textAlign:R,left:E,top:z,right:V,bottom:N}=x._pointLabelItems[S],{backdropColor:Y}=P;if(!ft(Y)){const Q=Je(P.borderRadius),G=te(P.backdropPadding);v.fillStyle=Y;const U=E-G.left,q=z-G.top,J=V-E+G.width,et=N-z+G.height;Object.values(Q).some(X=>0!==X)?(v.beginPath(),ns(v,{x:U,y:q,w:J,h:et,radius:Q}),v.fill()):v.fillRect(U,q,J,et)}ce(v,x._pointLabels[S],O,T+D.lineHeight/2,D,{color:P.color,textAlign:R,textBaseline:"middle"})}}(this,d),h.display&&this.ticks.forEach((x,y)=>{0!==y&&(p=this.getDistanceFromCenterForValue(x.value),function(v,w,S,P){const D=v.ctx,O=w.circular,{color:T,lineWidth:R}=w;!O&&!P||!T||!R||S<0||(D.save(),D.strokeStyle=T,D.lineWidth=R,D.setLineDash(w.borderDash),D.lineDashOffset=w.borderDashOffset,D.beginPath(),yr(v,S,O,P),D.closePath(),D.stroke(),D.restore())}(this,h.setContext(this.getContext(y-1)),p,d))}),r.display){for(e.save(),f=d-1;f>=0;f--){const x=r.setContext(this.getPointLabelContext(f)),{color:y,lineWidth:v}=x;v&&y&&(e.lineWidth=v,e.strokeStyle=y,e.setLineDash(x.borderDash),e.lineDashOffset=x.borderDashOffset,p=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),b=this.getPointPosition(f,p),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(b.x,b.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const h=this.getIndexAngle(0);let d,f;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(h),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((p,b)=>{if(0===b&&!n.reverse)return;const x=r.setContext(this.getContext(b)),y=Xt(x.font);if(d=this.getDistanceFromCenterForValue(this.ticks[b].value),x.showLabelBackdrop){e.font=y.string,f=e.measureText(p.label).width,e.fillStyle=x.backdropColor;const v=te(x.backdropPadding);e.fillRect(-f/2-v.left,-d-y.size/2-v.top,f+v.width,y.size+v.height)}ce(e,p.label,0,-d,y,{color:x.color})}),e.restore()}drawTitle(){}}Ys.id="radialLinear",Ys.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:cs.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:a=>a,padding:5,centerPointLabels:!1}},Ys.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Ys.descriptors={angleLines:{_fallback:"grid"}};const Wn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ae=Object.keys(Wn);function hl(a,e){return a-e}function Uo(a,e){if(ft(e))return null;const n=a._adapter,{parser:r,round:h,isoWeekday:d}=a._parseOpts;let f=e;return"function"==typeof r&&(f=r(f)),Ot(f)||(f="string"==typeof r?n.parse(f,r):n.parse(f)),null===f?null:(h&&(f="week"!==h||!Ii(d)&&!0!==d?n.startOf(f,h):n.startOf(f,"isoWeek",d)),+f)}function vr(a,e,n,r){const h=ae.length;for(let d=ae.indexOf(a);d<h-1;++d){const f=Wn[ae[d]],p=f.steps?f.steps:Number.MAX_SAFE_INTEGER;if(f.common&&Math.ceil((n-e)/(p*f.size))<=r)return ae[d]}return ae[h-1]}function Us(a,e,n){if(n){if(n.length){const{lo:r,hi:h}=Ye(n,e);a[n[r]>=e?n[r]:n[h]]=!0}}else a[e]=!0}function Xs(a,e,n){const r=[],h={},d=e.length;let f,p;for(f=0;f<d;++f)p=e[f],h[p]=f,r.push({value:p,major:!1});return 0!==d&&n?function(b,x,y,v){const w=b._adapter,S=+w.startOf(x[0].value,v),P=x[x.length-1].value;let D,O;for(D=S;D<=P;D=+w.add(D,1,v))O=y[D],O>=0&&(x[O].major=!0);return x}(a,r,h,n):r}class Ks extends si{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n){const r=e.time||(e.time={}),h=this._adapter=new Za._date(e.adapters.date);bt(r.displayFormats,h.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return void 0===e?null:Uo(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:h,max:d,minDefined:f,maxDefined:p}=this.getUserBounds();function b(x){f||isNaN(x.min)||(h=Math.min(h,x.min)),p||isNaN(x.max)||(d=Math.max(d,x.max))}f&&p||(b(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||b(this.getMinMax(!1))),h=Ot(h)&&!isNaN(h)?h:+n.startOf(Date.now(),r),d=Ot(d)&&!isNaN(d)?d:+n.endOf(Date.now(),r)+1,this.min=Math.min(h,d-1),this.max=Math.max(h+1,d)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,h="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&h.length&&(this.min=this._userMin||h[0],this.max=this._userMax||h[h.length-1]);const d=this.min,f=ca(h,d,this.max);return this._unit=n.unit||(r.autoSkip?vr(n.minUnit,this.min,this.max,this._getLabelCapacity(d)):function(p,b,x,y,v){for(let w=ae.length-1;w>=ae.indexOf(x);w--){const S=ae[w];if(Wn[S].common&&p._adapter.diff(v,y,S)>=b-1)return S}return ae[x?ae.indexOf(x):0]}(this,f.length,n.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function(p){for(let b=ae.indexOf(p)+1,x=ae.length;b<x;++b)if(Wn[ae[b]].common)return ae[b]}(this._unit):void 0,this.initOffsets(h),e.reverse&&f.reverse(),Xs(this,f,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let n,r,h=0,d=0;this.options.offset&&e.length&&(n=this.getDecimalForValue(e[0]),h=1===e.length?1-n:(this.getDecimalForValue(e[1])-n)/2,r=this.getDecimalForValue(e[e.length-1]),d=1===e.length?r:(r-this.getDecimalForValue(e[e.length-2]))/2);const f=e.length<3?.5:.25;h=Lt(h,0,f),d=Lt(d,0,f),this._offsets={start:h,end:d,factor:1/(h+1+d)}}_generate(){const e=this._adapter,n=this.min,r=this.max,h=this.options,d=h.time,f=d.unit||vr(d.minUnit,n,r,this._getLabelCapacity(n)),p=at(d.stepSize,1),b="week"===f&&d.isoWeekday,x=Ii(b)||!0===b,y={};let v,w,S=n;if(x&&(S=+e.startOf(S,"isoWeek",b)),S=+e.startOf(S,x?"day":f),e.diff(r,n,f)>1e5*p)throw new Error(n+" and "+r+" are too far apart with stepSize of "+p+" "+f);const P="data"===h.ticks.source&&this.getDataTimestamps();for(v=S,w=0;v<r;v=+e.add(v,p,f),w++)Us(y,v,P);return v!==r&&"ticks"!==h.bounds&&1!==w||Us(y,v,P),Object.keys(y).sort((D,O)=>D-O).map(D=>+D)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}_tickFormatFunction(e,n,r,h){const d=this.options,f=d.time.displayFormats,p=this._unit,b=this._majorUnit,y=b&&f[b],v=r[n],S=this._adapter.format(e,h||(b&&y&&v&&v.major?y:p&&f[p])),P=d.ticks.callback;return P?wt(P,[S,n,r],this):S}generateTickLabels(e){let n,r,h;for(n=0,r=e.length;n<r;++n)h=e[n],h.label=this._tickFormatFunction(h.value,n,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,h=he(this.isHorizontal()?n.maxRotation:n.minRotation),d=Math.cos(h),f=Math.sin(h),p=this._resolveTickFontOptions(0).size;return{w:r*d+p*f,h:r*f+p*d}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,h=r[n.unit]||r.millisecond,d=this._tickFormatFunction(e,0,Xs(this,[e],this._majorUnit),h),f=this._getLabelSize(d),p=Math.floor(this.isHorizontal()?this.width/f.w:this.height/f.h)-1;return p>0?p:1}getDataTimestamps(){let e,n,r=this._cache.data||[];if(r.length)return r;const h=this.getMatchingVisibleMetas();if(this._normalized&&h.length)return this._cache.data=h[0].controller.getAllParsedValues(this);for(e=0,n=h.length;e<n;++e)r=r.concat(h[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const h=this.getLabels();for(n=0,r=h.length;n<r;++n)e.push(Uo(this,h[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Zi(e.sort(hl))}}function li(a,e,n){let r,h,d,f,p=0,b=a.length-1;n?(e>=a[p].pos&&e<=a[b].pos&&({lo:p,hi:b}=Ce(a,"pos",e)),({pos:r,time:d}=a[p]),({pos:h,time:f}=a[b])):(e>=a[p].time&&e<=a[b].time&&({lo:p,hi:b}=Ce(a,"time",e)),({time:r,pos:d}=a[p]),({time:h,pos:f}=a[b]));const x=h-r;return x?d+(f-d)*(e-r)/x:d}Ks.id="time",Ks.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class Yi extends Ks{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=li(n,this.min),this._tableRange=li(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,h=[],d=[];let f,p,b,x,y;for(f=0,p=e.length;f<p;++f)x=e[f],x>=n&&x<=r&&h.push(x);if(h.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(f=0,p=h.length;f<p;++f)y=h[f+1],b=h[f-1],x=h[f],Math.round((y+b)/2)!==x&&d.push({time:x,pos:f/(p-1)});return d}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return e=n.length&&r.length?this.normalize(n.concat(r)):n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(li(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return li(this._table,r*this._tableRange+this._minPos,!0)}}Yi.id="timeseries",Yi.defaults=Ks.defaults;var Mr=Object.freeze({__proto__:null,CategoryScale:js,LinearScale:$s,LogarithmicScale:jo,RadialLinearScale:Ys,TimeScale:Ks,TimeSeriesScale:Yi});return zt.register(Tn,Mr,Lo,mr),zt.helpers=Gs({},bn),zt._adapters=Za,zt.Animation=ls,zt.Animations=Fs,zt.animator=ke,zt.controllers=We.controllers.items,zt.DatasetController=Re,zt.Element=ve,zt.elements=Lo,zt.Interaction=uo,zt.layouts=Gt,zt.platforms=La,zt.Scale=si,zt.Ticks=cs,Object.assign(zt,Tn,Mr,Lo,mr,La),zt.Chart=zt,"undefined"!=typeof window&&(window.Chart=zt),zt});